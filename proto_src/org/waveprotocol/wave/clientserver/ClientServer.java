// Generated by the protocol buffer compiler.  DO NOT EDIT!
// source: org/waveprotocol/wave/clientserver/clientserver.proto

package org.waveprotocol.wave.clientserver;

public final class ClientServer {
  private ClientServer() {}
  public static void registerAllExtensions(
      com.google.protobuf.ExtensionRegistry registry) {
  }
  public interface FetchWaveViewRequestOrBuilder
      extends com.google.protobuf.MessageOrBuilder {

    // required string waveId = 1;
    /**
     * <code>required string waveId = 1;</code>
     *
     * <pre>
     * Wave to open, URI path format.
     * </pre>
     */
    boolean hasWaveId();
    /**
     * <code>required string waveId = 1;</code>
     *
     * <pre>
     * Wave to open, URI path format.
     * </pre>
     */
    java.lang.String getWaveId();
    /**
     * <code>required string waveId = 1;</code>
     *
     * <pre>
     * Wave to open, URI path format.
     * </pre>
     */
    com.google.protobuf.ByteString
        getWaveIdBytes();

    // repeated string waveletId = 2;
    /**
     * <code>repeated string waveletId = 2;</code>
     *
     * <pre>
     * Wavelet id's by which to filter the view, empty means no filter.
     * </pre>
     */
    java.util.List<java.lang.String>
    getWaveletIdList();
    /**
     * <code>repeated string waveletId = 2;</code>
     *
     * <pre>
     * Wavelet id's by which to filter the view, empty means no filter.
     * </pre>
     */
    int getWaveletIdCount();
    /**
     * <code>repeated string waveletId = 2;</code>
     *
     * <pre>
     * Wavelet id's by which to filter the view, empty means no filter.
     * </pre>
     */
    java.lang.String getWaveletId(int index);
    /**
     * <code>repeated string waveletId = 2;</code>
     *
     * <pre>
     * Wavelet id's by which to filter the view, empty means no filter.
     * </pre>
     */
    com.google.protobuf.ByteString
        getWaveletIdBytes(int index);

    // repeated string waveletIdPrefix = 3;
    /**
     * <code>repeated string waveletIdPrefix = 3;</code>
     *
     * <pre>
     * Wavelet id prefixes by which to filter the view, empty means no filter.
     * </pre>
     */
    java.util.List<java.lang.String>
    getWaveletIdPrefixList();
    /**
     * <code>repeated string waveletIdPrefix = 3;</code>
     *
     * <pre>
     * Wavelet id prefixes by which to filter the view, empty means no filter.
     * </pre>
     */
    int getWaveletIdPrefixCount();
    /**
     * <code>repeated string waveletIdPrefix = 3;</code>
     *
     * <pre>
     * Wavelet id prefixes by which to filter the view, empty means no filter.
     * </pre>
     */
    java.lang.String getWaveletIdPrefix(int index);
    /**
     * <code>repeated string waveletIdPrefix = 3;</code>
     *
     * <pre>
     * Wavelet id prefixes by which to filter the view, empty means no filter.
     * </pre>
     */
    com.google.protobuf.ByteString
        getWaveletIdPrefixBytes(int index);

    // required int32 minBlipReplySize = 4;
    /**
     * <code>required int32 minBlipReplySize = 4;</code>
     *
     * <pre>
     * Minimum size of blips in the reply.
     * </pre>
     */
    boolean hasMinBlipReplySize();
    /**
     * <code>required int32 minBlipReplySize = 4;</code>
     *
     * <pre>
     * Minimum size of blips in the reply.
     * </pre>
     */
    int getMinBlipReplySize();

    // required int32 maxBlipReplySize = 5;
    /**
     * <code>required int32 maxBlipReplySize = 5;</code>
     *
     * <pre>
     * Maximum size of blips in the reply.
     * </pre>
     */
    boolean hasMaxBlipReplySize();
    /**
     * <code>required int32 maxBlipReplySize = 5;</code>
     *
     * <pre>
     * Maximum size of blips in the reply.
     * </pre>
     */
    int getMaxBlipReplySize();

    // required int32 maxBlipCount = 6;
    /**
     * <code>required int32 maxBlipCount = 6;</code>
     *
     * <pre>
     * Maximum count of blips in the reply.
     * </pre>
     */
    boolean hasMaxBlipCount();
    /**
     * <code>required int32 maxBlipCount = 6;</code>
     *
     * <pre>
     * Maximum count of blips in the reply.
     * </pre>
     */
    int getMaxBlipCount();

    // optional bool fromLastRead = 7;
    /**
     * <code>optional bool fromLastRead = 7;</code>
     *
     * <pre>
     * Open wavelet from last read state with diffs to current state.
     * </pre>
     */
    boolean hasFromLastRead();
    /**
     * <code>optional bool fromLastRead = 7;</code>
     *
     * <pre>
     * Open wavelet from last read state with diffs to current state.
     * </pre>
     */
    boolean getFromLastRead();
  }
  /**
   * Protobuf type {@code clientserver.FetchWaveViewRequest}
   */
  public static final class FetchWaveViewRequest extends
      com.google.protobuf.GeneratedMessage
      implements FetchWaveViewRequestOrBuilder {
    // Use FetchWaveViewRequest.newBuilder() to construct.
    private FetchWaveViewRequest(com.google.protobuf.GeneratedMessage.Builder<?> builder) {
      super(builder);
      this.unknownFields = builder.getUnknownFields();
    }
    private FetchWaveViewRequest(boolean noInit) { this.unknownFields = com.google.protobuf.UnknownFieldSet.getDefaultInstance(); }

    private static final FetchWaveViewRequest defaultInstance;
    public static FetchWaveViewRequest getDefaultInstance() {
      return defaultInstance;
    }

    public FetchWaveViewRequest getDefaultInstanceForType() {
      return defaultInstance;
    }

    private final com.google.protobuf.UnknownFieldSet unknownFields;
    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
        getUnknownFields() {
      return this.unknownFields;
    }
    private FetchWaveViewRequest(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      initFields();
      int mutable_bitField0_ = 0;
      com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder();
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!parseUnknownField(input, unknownFields,
                                     extensionRegistry, tag)) {
                done = true;
              }
              break;
            }
            case 10: {
              bitField0_ |= 0x00000001;
              waveId_ = input.readBytes();
              break;
            }
            case 18: {
              if (!((mutable_bitField0_ & 0x00000002) == 0x00000002)) {
                waveletId_ = new com.google.protobuf.LazyStringArrayList();
                mutable_bitField0_ |= 0x00000002;
              }
              waveletId_.add(input.readBytes());
              break;
            }
            case 26: {
              if (!((mutable_bitField0_ & 0x00000004) == 0x00000004)) {
                waveletIdPrefix_ = new com.google.protobuf.LazyStringArrayList();
                mutable_bitField0_ |= 0x00000004;
              }
              waveletIdPrefix_.add(input.readBytes());
              break;
            }
            case 32: {
              bitField0_ |= 0x00000002;
              minBlipReplySize_ = input.readInt32();
              break;
            }
            case 40: {
              bitField0_ |= 0x00000004;
              maxBlipReplySize_ = input.readInt32();
              break;
            }
            case 48: {
              bitField0_ |= 0x00000008;
              maxBlipCount_ = input.readInt32();
              break;
            }
            case 56: {
              bitField0_ |= 0x00000010;
              fromLastRead_ = input.readBool();
              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e.getMessage()).setUnfinishedMessage(this);
      } finally {
        if (((mutable_bitField0_ & 0x00000002) == 0x00000002)) {
          waveletId_ = new com.google.protobuf.UnmodifiableLazyStringList(waveletId_);
        }
        if (((mutable_bitField0_ & 0x00000004) == 0x00000004)) {
          waveletIdPrefix_ = new com.google.protobuf.UnmodifiableLazyStringList(waveletIdPrefix_);
        }
        this.unknownFields = unknownFields.build();
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchWaveViewRequest_descriptor;
    }

    protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchWaveViewRequest_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest.class, org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest.Builder.class);
    }

    public static com.google.protobuf.Parser<FetchWaveViewRequest> PARSER =
        new com.google.protobuf.AbstractParser<FetchWaveViewRequest>() {
      public FetchWaveViewRequest parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return new FetchWaveViewRequest(input, extensionRegistry);
      }
    };

    @java.lang.Override
    public com.google.protobuf.Parser<FetchWaveViewRequest> getParserForType() {
      return PARSER;
    }

    private int bitField0_;
    // required string waveId = 1;
    public static final int WAVEID_FIELD_NUMBER = 1;
    private java.lang.Object waveId_;
    /**
     * <code>required string waveId = 1;</code>
     *
     * <pre>
     * Wave to open, URI path format.
     * </pre>
     */
    public boolean hasWaveId() {
      return ((bitField0_ & 0x00000001) == 0x00000001);
    }
    /**
     * <code>required string waveId = 1;</code>
     *
     * <pre>
     * Wave to open, URI path format.
     * </pre>
     */
    public java.lang.String getWaveId() {
      java.lang.Object ref = waveId_;
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        if (bs.isValidUtf8()) {
          waveId_ = s;
        }
        return s;
      }
    }
    /**
     * <code>required string waveId = 1;</code>
     *
     * <pre>
     * Wave to open, URI path format.
     * </pre>
     */
    public com.google.protobuf.ByteString
        getWaveIdBytes() {
      java.lang.Object ref = waveId_;
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        waveId_ = b;
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    // repeated string waveletId = 2;
    public static final int WAVELETID_FIELD_NUMBER = 2;
    private com.google.protobuf.LazyStringList waveletId_;
    /**
     * <code>repeated string waveletId = 2;</code>
     *
     * <pre>
     * Wavelet id's by which to filter the view, empty means no filter.
     * </pre>
     */
    public java.util.List<java.lang.String>
        getWaveletIdList() {
      return waveletId_;
    }
    /**
     * <code>repeated string waveletId = 2;</code>
     *
     * <pre>
     * Wavelet id's by which to filter the view, empty means no filter.
     * </pre>
     */
    public int getWaveletIdCount() {
      return waveletId_.size();
    }
    /**
     * <code>repeated string waveletId = 2;</code>
     *
     * <pre>
     * Wavelet id's by which to filter the view, empty means no filter.
     * </pre>
     */
    public java.lang.String getWaveletId(int index) {
      return waveletId_.get(index);
    }
    /**
     * <code>repeated string waveletId = 2;</code>
     *
     * <pre>
     * Wavelet id's by which to filter the view, empty means no filter.
     * </pre>
     */
    public com.google.protobuf.ByteString
        getWaveletIdBytes(int index) {
      return waveletId_.getByteString(index);
    }

    // repeated string waveletIdPrefix = 3;
    public static final int WAVELETIDPREFIX_FIELD_NUMBER = 3;
    private com.google.protobuf.LazyStringList waveletIdPrefix_;
    /**
     * <code>repeated string waveletIdPrefix = 3;</code>
     *
     * <pre>
     * Wavelet id prefixes by which to filter the view, empty means no filter.
     * </pre>
     */
    public java.util.List<java.lang.String>
        getWaveletIdPrefixList() {
      return waveletIdPrefix_;
    }
    /**
     * <code>repeated string waveletIdPrefix = 3;</code>
     *
     * <pre>
     * Wavelet id prefixes by which to filter the view, empty means no filter.
     * </pre>
     */
    public int getWaveletIdPrefixCount() {
      return waveletIdPrefix_.size();
    }
    /**
     * <code>repeated string waveletIdPrefix = 3;</code>
     *
     * <pre>
     * Wavelet id prefixes by which to filter the view, empty means no filter.
     * </pre>
     */
    public java.lang.String getWaveletIdPrefix(int index) {
      return waveletIdPrefix_.get(index);
    }
    /**
     * <code>repeated string waveletIdPrefix = 3;</code>
     *
     * <pre>
     * Wavelet id prefixes by which to filter the view, empty means no filter.
     * </pre>
     */
    public com.google.protobuf.ByteString
        getWaveletIdPrefixBytes(int index) {
      return waveletIdPrefix_.getByteString(index);
    }

    // required int32 minBlipReplySize = 4;
    public static final int MINBLIPREPLYSIZE_FIELD_NUMBER = 4;
    private int minBlipReplySize_;
    /**
     * <code>required int32 minBlipReplySize = 4;</code>
     *
     * <pre>
     * Minimum size of blips in the reply.
     * </pre>
     */
    public boolean hasMinBlipReplySize() {
      return ((bitField0_ & 0x00000002) == 0x00000002);
    }
    /**
     * <code>required int32 minBlipReplySize = 4;</code>
     *
     * <pre>
     * Minimum size of blips in the reply.
     * </pre>
     */
    public int getMinBlipReplySize() {
      return minBlipReplySize_;
    }

    // required int32 maxBlipReplySize = 5;
    public static final int MAXBLIPREPLYSIZE_FIELD_NUMBER = 5;
    private int maxBlipReplySize_;
    /**
     * <code>required int32 maxBlipReplySize = 5;</code>
     *
     * <pre>
     * Maximum size of blips in the reply.
     * </pre>
     */
    public boolean hasMaxBlipReplySize() {
      return ((bitField0_ & 0x00000004) == 0x00000004);
    }
    /**
     * <code>required int32 maxBlipReplySize = 5;</code>
     *
     * <pre>
     * Maximum size of blips in the reply.
     * </pre>
     */
    public int getMaxBlipReplySize() {
      return maxBlipReplySize_;
    }

    // required int32 maxBlipCount = 6;
    public static final int MAXBLIPCOUNT_FIELD_NUMBER = 6;
    private int maxBlipCount_;
    /**
     * <code>required int32 maxBlipCount = 6;</code>
     *
     * <pre>
     * Maximum count of blips in the reply.
     * </pre>
     */
    public boolean hasMaxBlipCount() {
      return ((bitField0_ & 0x00000008) == 0x00000008);
    }
    /**
     * <code>required int32 maxBlipCount = 6;</code>
     *
     * <pre>
     * Maximum count of blips in the reply.
     * </pre>
     */
    public int getMaxBlipCount() {
      return maxBlipCount_;
    }

    // optional bool fromLastRead = 7;
    public static final int FROMLASTREAD_FIELD_NUMBER = 7;
    private boolean fromLastRead_;
    /**
     * <code>optional bool fromLastRead = 7;</code>
     *
     * <pre>
     * Open wavelet from last read state with diffs to current state.
     * </pre>
     */
    public boolean hasFromLastRead() {
      return ((bitField0_ & 0x00000010) == 0x00000010);
    }
    /**
     * <code>optional bool fromLastRead = 7;</code>
     *
     * <pre>
     * Open wavelet from last read state with diffs to current state.
     * </pre>
     */
    public boolean getFromLastRead() {
      return fromLastRead_;
    }

    private void initFields() {
      waveId_ = "";
      waveletId_ = com.google.protobuf.LazyStringArrayList.EMPTY;
      waveletIdPrefix_ = com.google.protobuf.LazyStringArrayList.EMPTY;
      minBlipReplySize_ = 0;
      maxBlipReplySize_ = 0;
      maxBlipCount_ = 0;
      fromLastRead_ = false;
    }
    private byte memoizedIsInitialized = -1;
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized != -1) return isInitialized == 1;

      if (!hasWaveId()) {
        memoizedIsInitialized = 0;
        return false;
      }
      if (!hasMinBlipReplySize()) {
        memoizedIsInitialized = 0;
        return false;
      }
      if (!hasMaxBlipReplySize()) {
        memoizedIsInitialized = 0;
        return false;
      }
      if (!hasMaxBlipCount()) {
        memoizedIsInitialized = 0;
        return false;
      }
      memoizedIsInitialized = 1;
      return true;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        output.writeBytes(1, getWaveIdBytes());
      }
      for (int i = 0; i < waveletId_.size(); i++) {
        output.writeBytes(2, waveletId_.getByteString(i));
      }
      for (int i = 0; i < waveletIdPrefix_.size(); i++) {
        output.writeBytes(3, waveletIdPrefix_.getByteString(i));
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        output.writeInt32(4, minBlipReplySize_);
      }
      if (((bitField0_ & 0x00000004) == 0x00000004)) {
        output.writeInt32(5, maxBlipReplySize_);
      }
      if (((bitField0_ & 0x00000008) == 0x00000008)) {
        output.writeInt32(6, maxBlipCount_);
      }
      if (((bitField0_ & 0x00000010) == 0x00000010)) {
        output.writeBool(7, fromLastRead_);
      }
      getUnknownFields().writeTo(output);
    }

    private int memoizedSerializedSize = -1;
    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;

      size = 0;
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(1, getWaveIdBytes());
      }
      {
        int dataSize = 0;
        for (int i = 0; i < waveletId_.size(); i++) {
          dataSize += com.google.protobuf.CodedOutputStream
            .computeBytesSizeNoTag(waveletId_.getByteString(i));
        }
        size += dataSize;
        size += 1 * getWaveletIdList().size();
      }
      {
        int dataSize = 0;
        for (int i = 0; i < waveletIdPrefix_.size(); i++) {
          dataSize += com.google.protobuf.CodedOutputStream
            .computeBytesSizeNoTag(waveletIdPrefix_.getByteString(i));
        }
        size += dataSize;
        size += 1 * getWaveletIdPrefixList().size();
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt32Size(4, minBlipReplySize_);
      }
      if (((bitField0_ & 0x00000004) == 0x00000004)) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt32Size(5, maxBlipReplySize_);
      }
      if (((bitField0_ & 0x00000008) == 0x00000008)) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt32Size(6, maxBlipCount_);
      }
      if (((bitField0_ & 0x00000010) == 0x00000010)) {
        size += com.google.protobuf.CodedOutputStream
          .computeBoolSize(7, fromLastRead_);
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }

    private static final long serialVersionUID = 0L;
    @java.lang.Override
    protected java.lang.Object writeReplace()
        throws java.io.ObjectStreamException {
      return super.writeReplace();
    }

    public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }

    public static Builder newBuilder() { return Builder.create(); }
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder(org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest prototype) {
      return newBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() { return newBuilder(this); }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessage.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * Protobuf type {@code clientserver.FetchWaveViewRequest}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessage.Builder<Builder>
       implements org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequestOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchWaveViewRequest_descriptor;
      }

      protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchWaveViewRequest_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest.class, org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest.Builder.class);
      }

      // Construct using org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessage.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders) {
        }
      }
      private static Builder create() {
        return new Builder();
      }

      public Builder clear() {
        super.clear();
        waveId_ = "";
        bitField0_ = (bitField0_ & ~0x00000001);
        waveletId_ = com.google.protobuf.LazyStringArrayList.EMPTY;
        bitField0_ = (bitField0_ & ~0x00000002);
        waveletIdPrefix_ = com.google.protobuf.LazyStringArrayList.EMPTY;
        bitField0_ = (bitField0_ & ~0x00000004);
        minBlipReplySize_ = 0;
        bitField0_ = (bitField0_ & ~0x00000008);
        maxBlipReplySize_ = 0;
        bitField0_ = (bitField0_ & ~0x00000010);
        maxBlipCount_ = 0;
        bitField0_ = (bitField0_ & ~0x00000020);
        fromLastRead_ = false;
        bitField0_ = (bitField0_ & ~0x00000040);
        return this;
      }

      public Builder clone() {
        return create().mergeFrom(buildPartial());
      }

      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchWaveViewRequest_descriptor;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest getDefaultInstanceForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest.getDefaultInstance();
      }

      public org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest build() {
        org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest buildPartial() {
        org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest result = new org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest(this);
        int from_bitField0_ = bitField0_;
        int to_bitField0_ = 0;
        if (((from_bitField0_ & 0x00000001) == 0x00000001)) {
          to_bitField0_ |= 0x00000001;
        }
        result.waveId_ = waveId_;
        if (((bitField0_ & 0x00000002) == 0x00000002)) {
          waveletId_ = new com.google.protobuf.UnmodifiableLazyStringList(
              waveletId_);
          bitField0_ = (bitField0_ & ~0x00000002);
        }
        result.waveletId_ = waveletId_;
        if (((bitField0_ & 0x00000004) == 0x00000004)) {
          waveletIdPrefix_ = new com.google.protobuf.UnmodifiableLazyStringList(
              waveletIdPrefix_);
          bitField0_ = (bitField0_ & ~0x00000004);
        }
        result.waveletIdPrefix_ = waveletIdPrefix_;
        if (((from_bitField0_ & 0x00000008) == 0x00000008)) {
          to_bitField0_ |= 0x00000002;
        }
        result.minBlipReplySize_ = minBlipReplySize_;
        if (((from_bitField0_ & 0x00000010) == 0x00000010)) {
          to_bitField0_ |= 0x00000004;
        }
        result.maxBlipReplySize_ = maxBlipReplySize_;
        if (((from_bitField0_ & 0x00000020) == 0x00000020)) {
          to_bitField0_ |= 0x00000008;
        }
        result.maxBlipCount_ = maxBlipCount_;
        if (((from_bitField0_ & 0x00000040) == 0x00000040)) {
          to_bitField0_ |= 0x00000010;
        }
        result.fromLastRead_ = fromLastRead_;
        result.bitField0_ = to_bitField0_;
        onBuilt();
        return result;
      }

      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest) {
          return mergeFrom((org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest other) {
        if (other == org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest.getDefaultInstance()) return this;
        if (other.hasWaveId()) {
          bitField0_ |= 0x00000001;
          waveId_ = other.waveId_;
          onChanged();
        }
        if (!other.waveletId_.isEmpty()) {
          if (waveletId_.isEmpty()) {
            waveletId_ = other.waveletId_;
            bitField0_ = (bitField0_ & ~0x00000002);
          } else {
            ensureWaveletIdIsMutable();
            waveletId_.addAll(other.waveletId_);
          }
          onChanged();
        }
        if (!other.waveletIdPrefix_.isEmpty()) {
          if (waveletIdPrefix_.isEmpty()) {
            waveletIdPrefix_ = other.waveletIdPrefix_;
            bitField0_ = (bitField0_ & ~0x00000004);
          } else {
            ensureWaveletIdPrefixIsMutable();
            waveletIdPrefix_.addAll(other.waveletIdPrefix_);
          }
          onChanged();
        }
        if (other.hasMinBlipReplySize()) {
          setMinBlipReplySize(other.getMinBlipReplySize());
        }
        if (other.hasMaxBlipReplySize()) {
          setMaxBlipReplySize(other.getMaxBlipReplySize());
        }
        if (other.hasMaxBlipCount()) {
          setMaxBlipCount(other.getMaxBlipCount());
        }
        if (other.hasFromLastRead()) {
          setFromLastRead(other.getFromLastRead());
        }
        this.mergeUnknownFields(other.getUnknownFields());
        return this;
      }

      public final boolean isInitialized() {
        if (!hasWaveId()) {
          
          return false;
        }
        if (!hasMinBlipReplySize()) {
          
          return false;
        }
        if (!hasMaxBlipReplySize()) {
          
          return false;
        }
        if (!hasMaxBlipCount()) {
          
          return false;
        }
        return true;
      }

      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest) e.getUnfinishedMessage();
          throw e;
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }
      private int bitField0_;

      // required string waveId = 1;
      private java.lang.Object waveId_ = "";
      /**
       * <code>required string waveId = 1;</code>
       *
       * <pre>
       * Wave to open, URI path format.
       * </pre>
       */
      public boolean hasWaveId() {
        return ((bitField0_ & 0x00000001) == 0x00000001);
      }
      /**
       * <code>required string waveId = 1;</code>
       *
       * <pre>
       * Wave to open, URI path format.
       * </pre>
       */
      public java.lang.String getWaveId() {
        java.lang.Object ref = waveId_;
        if (!(ref instanceof java.lang.String)) {
          java.lang.String s = ((com.google.protobuf.ByteString) ref)
              .toStringUtf8();
          waveId_ = s;
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <code>required string waveId = 1;</code>
       *
       * <pre>
       * Wave to open, URI path format.
       * </pre>
       */
      public com.google.protobuf.ByteString
          getWaveIdBytes() {
        java.lang.Object ref = waveId_;
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          waveId_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <code>required string waveId = 1;</code>
       *
       * <pre>
       * Wave to open, URI path format.
       * </pre>
       */
      public Builder setWaveId(
          java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
        waveId_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>required string waveId = 1;</code>
       *
       * <pre>
       * Wave to open, URI path format.
       * </pre>
       */
      public Builder clearWaveId() {
        bitField0_ = (bitField0_ & ~0x00000001);
        waveId_ = getDefaultInstance().getWaveId();
        onChanged();
        return this;
      }
      /**
       * <code>required string waveId = 1;</code>
       *
       * <pre>
       * Wave to open, URI path format.
       * </pre>
       */
      public Builder setWaveIdBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
        waveId_ = value;
        onChanged();
        return this;
      }

      // repeated string waveletId = 2;
      private com.google.protobuf.LazyStringList waveletId_ = com.google.protobuf.LazyStringArrayList.EMPTY;
      private void ensureWaveletIdIsMutable() {
        if (!((bitField0_ & 0x00000002) == 0x00000002)) {
          waveletId_ = new com.google.protobuf.LazyStringArrayList(waveletId_);
          bitField0_ |= 0x00000002;
         }
      }
      /**
       * <code>repeated string waveletId = 2;</code>
       *
       * <pre>
       * Wavelet id's by which to filter the view, empty means no filter.
       * </pre>
       */
      public java.util.List<java.lang.String>
          getWaveletIdList() {
        return java.util.Collections.unmodifiableList(waveletId_);
      }
      /**
       * <code>repeated string waveletId = 2;</code>
       *
       * <pre>
       * Wavelet id's by which to filter the view, empty means no filter.
       * </pre>
       */
      public int getWaveletIdCount() {
        return waveletId_.size();
      }
      /**
       * <code>repeated string waveletId = 2;</code>
       *
       * <pre>
       * Wavelet id's by which to filter the view, empty means no filter.
       * </pre>
       */
      public java.lang.String getWaveletId(int index) {
        return waveletId_.get(index);
      }
      /**
       * <code>repeated string waveletId = 2;</code>
       *
       * <pre>
       * Wavelet id's by which to filter the view, empty means no filter.
       * </pre>
       */
      public com.google.protobuf.ByteString
          getWaveletIdBytes(int index) {
        return waveletId_.getByteString(index);
      }
      /**
       * <code>repeated string waveletId = 2;</code>
       *
       * <pre>
       * Wavelet id's by which to filter the view, empty means no filter.
       * </pre>
       */
      public Builder setWaveletId(
          int index, java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  ensureWaveletIdIsMutable();
        waveletId_.set(index, value);
        onChanged();
        return this;
      }
      /**
       * <code>repeated string waveletId = 2;</code>
       *
       * <pre>
       * Wavelet id's by which to filter the view, empty means no filter.
       * </pre>
       */
      public Builder addWaveletId(
          java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  ensureWaveletIdIsMutable();
        waveletId_.add(value);
        onChanged();
        return this;
      }
      /**
       * <code>repeated string waveletId = 2;</code>
       *
       * <pre>
       * Wavelet id's by which to filter the view, empty means no filter.
       * </pre>
       */
      public Builder addAllWaveletId(
          java.lang.Iterable<java.lang.String> values) {
        ensureWaveletIdIsMutable();
        super.addAll(values, waveletId_);
        onChanged();
        return this;
      }
      /**
       * <code>repeated string waveletId = 2;</code>
       *
       * <pre>
       * Wavelet id's by which to filter the view, empty means no filter.
       * </pre>
       */
      public Builder clearWaveletId() {
        waveletId_ = com.google.protobuf.LazyStringArrayList.EMPTY;
        bitField0_ = (bitField0_ & ~0x00000002);
        onChanged();
        return this;
      }
      /**
       * <code>repeated string waveletId = 2;</code>
       *
       * <pre>
       * Wavelet id's by which to filter the view, empty means no filter.
       * </pre>
       */
      public Builder addWaveletIdBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  ensureWaveletIdIsMutable();
        waveletId_.add(value);
        onChanged();
        return this;
      }

      // repeated string waveletIdPrefix = 3;
      private com.google.protobuf.LazyStringList waveletIdPrefix_ = com.google.protobuf.LazyStringArrayList.EMPTY;
      private void ensureWaveletIdPrefixIsMutable() {
        if (!((bitField0_ & 0x00000004) == 0x00000004)) {
          waveletIdPrefix_ = new com.google.protobuf.LazyStringArrayList(waveletIdPrefix_);
          bitField0_ |= 0x00000004;
         }
      }
      /**
       * <code>repeated string waveletIdPrefix = 3;</code>
       *
       * <pre>
       * Wavelet id prefixes by which to filter the view, empty means no filter.
       * </pre>
       */
      public java.util.List<java.lang.String>
          getWaveletIdPrefixList() {
        return java.util.Collections.unmodifiableList(waveletIdPrefix_);
      }
      /**
       * <code>repeated string waveletIdPrefix = 3;</code>
       *
       * <pre>
       * Wavelet id prefixes by which to filter the view, empty means no filter.
       * </pre>
       */
      public int getWaveletIdPrefixCount() {
        return waveletIdPrefix_.size();
      }
      /**
       * <code>repeated string waveletIdPrefix = 3;</code>
       *
       * <pre>
       * Wavelet id prefixes by which to filter the view, empty means no filter.
       * </pre>
       */
      public java.lang.String getWaveletIdPrefix(int index) {
        return waveletIdPrefix_.get(index);
      }
      /**
       * <code>repeated string waveletIdPrefix = 3;</code>
       *
       * <pre>
       * Wavelet id prefixes by which to filter the view, empty means no filter.
       * </pre>
       */
      public com.google.protobuf.ByteString
          getWaveletIdPrefixBytes(int index) {
        return waveletIdPrefix_.getByteString(index);
      }
      /**
       * <code>repeated string waveletIdPrefix = 3;</code>
       *
       * <pre>
       * Wavelet id prefixes by which to filter the view, empty means no filter.
       * </pre>
       */
      public Builder setWaveletIdPrefix(
          int index, java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  ensureWaveletIdPrefixIsMutable();
        waveletIdPrefix_.set(index, value);
        onChanged();
        return this;
      }
      /**
       * <code>repeated string waveletIdPrefix = 3;</code>
       *
       * <pre>
       * Wavelet id prefixes by which to filter the view, empty means no filter.
       * </pre>
       */
      public Builder addWaveletIdPrefix(
          java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  ensureWaveletIdPrefixIsMutable();
        waveletIdPrefix_.add(value);
        onChanged();
        return this;
      }
      /**
       * <code>repeated string waveletIdPrefix = 3;</code>
       *
       * <pre>
       * Wavelet id prefixes by which to filter the view, empty means no filter.
       * </pre>
       */
      public Builder addAllWaveletIdPrefix(
          java.lang.Iterable<java.lang.String> values) {
        ensureWaveletIdPrefixIsMutable();
        super.addAll(values, waveletIdPrefix_);
        onChanged();
        return this;
      }
      /**
       * <code>repeated string waveletIdPrefix = 3;</code>
       *
       * <pre>
       * Wavelet id prefixes by which to filter the view, empty means no filter.
       * </pre>
       */
      public Builder clearWaveletIdPrefix() {
        waveletIdPrefix_ = com.google.protobuf.LazyStringArrayList.EMPTY;
        bitField0_ = (bitField0_ & ~0x00000004);
        onChanged();
        return this;
      }
      /**
       * <code>repeated string waveletIdPrefix = 3;</code>
       *
       * <pre>
       * Wavelet id prefixes by which to filter the view, empty means no filter.
       * </pre>
       */
      public Builder addWaveletIdPrefixBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  ensureWaveletIdPrefixIsMutable();
        waveletIdPrefix_.add(value);
        onChanged();
        return this;
      }

      // required int32 minBlipReplySize = 4;
      private int minBlipReplySize_ ;
      /**
       * <code>required int32 minBlipReplySize = 4;</code>
       *
       * <pre>
       * Minimum size of blips in the reply.
       * </pre>
       */
      public boolean hasMinBlipReplySize() {
        return ((bitField0_ & 0x00000008) == 0x00000008);
      }
      /**
       * <code>required int32 minBlipReplySize = 4;</code>
       *
       * <pre>
       * Minimum size of blips in the reply.
       * </pre>
       */
      public int getMinBlipReplySize() {
        return minBlipReplySize_;
      }
      /**
       * <code>required int32 minBlipReplySize = 4;</code>
       *
       * <pre>
       * Minimum size of blips in the reply.
       * </pre>
       */
      public Builder setMinBlipReplySize(int value) {
        bitField0_ |= 0x00000008;
        minBlipReplySize_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>required int32 minBlipReplySize = 4;</code>
       *
       * <pre>
       * Minimum size of blips in the reply.
       * </pre>
       */
      public Builder clearMinBlipReplySize() {
        bitField0_ = (bitField0_ & ~0x00000008);
        minBlipReplySize_ = 0;
        onChanged();
        return this;
      }

      // required int32 maxBlipReplySize = 5;
      private int maxBlipReplySize_ ;
      /**
       * <code>required int32 maxBlipReplySize = 5;</code>
       *
       * <pre>
       * Maximum size of blips in the reply.
       * </pre>
       */
      public boolean hasMaxBlipReplySize() {
        return ((bitField0_ & 0x00000010) == 0x00000010);
      }
      /**
       * <code>required int32 maxBlipReplySize = 5;</code>
       *
       * <pre>
       * Maximum size of blips in the reply.
       * </pre>
       */
      public int getMaxBlipReplySize() {
        return maxBlipReplySize_;
      }
      /**
       * <code>required int32 maxBlipReplySize = 5;</code>
       *
       * <pre>
       * Maximum size of blips in the reply.
       * </pre>
       */
      public Builder setMaxBlipReplySize(int value) {
        bitField0_ |= 0x00000010;
        maxBlipReplySize_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>required int32 maxBlipReplySize = 5;</code>
       *
       * <pre>
       * Maximum size of blips in the reply.
       * </pre>
       */
      public Builder clearMaxBlipReplySize() {
        bitField0_ = (bitField0_ & ~0x00000010);
        maxBlipReplySize_ = 0;
        onChanged();
        return this;
      }

      // required int32 maxBlipCount = 6;
      private int maxBlipCount_ ;
      /**
       * <code>required int32 maxBlipCount = 6;</code>
       *
       * <pre>
       * Maximum count of blips in the reply.
       * </pre>
       */
      public boolean hasMaxBlipCount() {
        return ((bitField0_ & 0x00000020) == 0x00000020);
      }
      /**
       * <code>required int32 maxBlipCount = 6;</code>
       *
       * <pre>
       * Maximum count of blips in the reply.
       * </pre>
       */
      public int getMaxBlipCount() {
        return maxBlipCount_;
      }
      /**
       * <code>required int32 maxBlipCount = 6;</code>
       *
       * <pre>
       * Maximum count of blips in the reply.
       * </pre>
       */
      public Builder setMaxBlipCount(int value) {
        bitField0_ |= 0x00000020;
        maxBlipCount_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>required int32 maxBlipCount = 6;</code>
       *
       * <pre>
       * Maximum count of blips in the reply.
       * </pre>
       */
      public Builder clearMaxBlipCount() {
        bitField0_ = (bitField0_ & ~0x00000020);
        maxBlipCount_ = 0;
        onChanged();
        return this;
      }

      // optional bool fromLastRead = 7;
      private boolean fromLastRead_ ;
      /**
       * <code>optional bool fromLastRead = 7;</code>
       *
       * <pre>
       * Open wavelet from last read state with diffs to current state.
       * </pre>
       */
      public boolean hasFromLastRead() {
        return ((bitField0_ & 0x00000040) == 0x00000040);
      }
      /**
       * <code>optional bool fromLastRead = 7;</code>
       *
       * <pre>
       * Open wavelet from last read state with diffs to current state.
       * </pre>
       */
      public boolean getFromLastRead() {
        return fromLastRead_;
      }
      /**
       * <code>optional bool fromLastRead = 7;</code>
       *
       * <pre>
       * Open wavelet from last read state with diffs to current state.
       * </pre>
       */
      public Builder setFromLastRead(boolean value) {
        bitField0_ |= 0x00000040;
        fromLastRead_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>optional bool fromLastRead = 7;</code>
       *
       * <pre>
       * Open wavelet from last read state with diffs to current state.
       * </pre>
       */
      public Builder clearFromLastRead() {
        bitField0_ = (bitField0_ & ~0x00000040);
        fromLastRead_ = false;
        onChanged();
        return this;
      }

      // @@protoc_insertion_point(builder_scope:clientserver.FetchWaveViewRequest)
    }

    static {
      defaultInstance = new FetchWaveViewRequest(true);
      defaultInstance.initFields();
    }

    // @@protoc_insertion_point(class_scope:clientserver.FetchWaveViewRequest)
  }

  public interface FetchWaveViewResponseOrBuilder
      extends com.google.protobuf.MessageOrBuilder {

    // required .clientserver.ResponseStatus status = 1;
    /**
     * <code>required .clientserver.ResponseStatus status = 1;</code>
     */
    boolean hasStatus();
    /**
     * <code>required .clientserver.ResponseStatus status = 1;</code>
     */
    org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus getStatus();
    /**
     * <code>required .clientserver.ResponseStatus status = 1;</code>
     */
    org.waveprotocol.wave.clientserver.ClientServer.ResponseStatusOrBuilder getStatusOrBuilder();

    // repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;
    /**
     * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
     *
     * <pre>
     * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
     * </pre>
     */
    java.util.List<org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment> 
        getWaveletList();
    /**
     * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
     *
     * <pre>
     * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
     * </pre>
     */
    org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment getWavelet(int index);
    /**
     * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
     *
     * <pre>
     * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
     * </pre>
     */
    int getWaveletCount();
    /**
     * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
     *
     * <pre>
     * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
     * </pre>
     */
    java.util.List<? extends org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragmentOrBuilder> 
        getWaveletOrBuilderList();
    /**
     * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
     *
     * <pre>
     * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
     * </pre>
     */
    org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragmentOrBuilder getWaveletOrBuilder(
        int index);
  }
  /**
   * Protobuf type {@code clientserver.FetchWaveViewResponse}
   */
  public static final class FetchWaveViewResponse extends
      com.google.protobuf.GeneratedMessage
      implements FetchWaveViewResponseOrBuilder {
    // Use FetchWaveViewResponse.newBuilder() to construct.
    private FetchWaveViewResponse(com.google.protobuf.GeneratedMessage.Builder<?> builder) {
      super(builder);
      this.unknownFields = builder.getUnknownFields();
    }
    private FetchWaveViewResponse(boolean noInit) { this.unknownFields = com.google.protobuf.UnknownFieldSet.getDefaultInstance(); }

    private static final FetchWaveViewResponse defaultInstance;
    public static FetchWaveViewResponse getDefaultInstance() {
      return defaultInstance;
    }

    public FetchWaveViewResponse getDefaultInstanceForType() {
      return defaultInstance;
    }

    private final com.google.protobuf.UnknownFieldSet unknownFields;
    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
        getUnknownFields() {
      return this.unknownFields;
    }
    private FetchWaveViewResponse(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      initFields();
      int mutable_bitField0_ = 0;
      com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder();
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!parseUnknownField(input, unknownFields,
                                     extensionRegistry, tag)) {
                done = true;
              }
              break;
            }
            case 10: {
              org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.Builder subBuilder = null;
              if (((bitField0_ & 0x00000001) == 0x00000001)) {
                subBuilder = status_.toBuilder();
              }
              status_ = input.readMessage(org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.PARSER, extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(status_);
                status_ = subBuilder.buildPartial();
              }
              bitField0_ |= 0x00000001;
              break;
            }
            case 18: {
              if (!((mutable_bitField0_ & 0x00000002) == 0x00000002)) {
                wavelet_ = new java.util.ArrayList<org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment>();
                mutable_bitField0_ |= 0x00000002;
              }
              wavelet_.add(input.readMessage(org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment.PARSER, extensionRegistry));
              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e.getMessage()).setUnfinishedMessage(this);
      } finally {
        if (((mutable_bitField0_ & 0x00000002) == 0x00000002)) {
          wavelet_ = java.util.Collections.unmodifiableList(wavelet_);
        }
        this.unknownFields = unknownFields.build();
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchWaveViewResponse_descriptor;
    }

    protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchWaveViewResponse_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.class, org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.Builder.class);
    }

    public static com.google.protobuf.Parser<FetchWaveViewResponse> PARSER =
        new com.google.protobuf.AbstractParser<FetchWaveViewResponse>() {
      public FetchWaveViewResponse parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return new FetchWaveViewResponse(input, extensionRegistry);
      }
    };

    @java.lang.Override
    public com.google.protobuf.Parser<FetchWaveViewResponse> getParserForType() {
      return PARSER;
    }

    public interface WaveletFragmentOrBuilder
        extends com.google.protobuf.MessageOrBuilder {

      // required string waveletId = 1;
      /**
       * <code>required string waveletId = 1;</code>
       *
       * <pre>
       * The wavelet in view, URI path format.
       * </pre>
       */
      boolean hasWaveletId();
      /**
       * <code>required string waveletId = 1;</code>
       *
       * <pre>
       * The wavelet in view, URI path format.
       * </pre>
       */
      java.lang.String getWaveletId();
      /**
       * <code>required string waveletId = 1;</code>
       *
       * <pre>
       * The wavelet in view, URI path format.
       * </pre>
       */
      com.google.protobuf.ByteString
          getWaveletIdBytes();

      // required .federation.ProtocolHashedVersion lastModifiedVersion = 2;
      /**
       * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 2;</code>
       *
       * <pre>
       * Current version and modification timestamp of the wavelet.
       * </pre>
       */
      boolean hasLastModifiedVersion();
      /**
       * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 2;</code>
       *
       * <pre>
       * Current version and modification timestamp of the wavelet.
       * </pre>
       */
      org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getLastModifiedVersion();
      /**
       * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 2;</code>
       *
       * <pre>
       * Current version and modification timestamp of the wavelet.
       * </pre>
       */
      org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder getLastModifiedVersionOrBuilder();

      // required int64 lastModifiedTime = 3;
      /**
       * <code>required int64 lastModifiedTime = 3;</code>
       */
      boolean hasLastModifiedTime();
      /**
       * <code>required int64 lastModifiedTime = 3;</code>
       */
      long getLastModifiedTime();

      // repeated .clientserver.SegmentFragment fragment = 4;
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
       *
       * <pre>
       * Fragments of the segments.
       * </pre>
       */
      java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment> 
          getFragmentList();
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
       *
       * <pre>
       * Fragments of the segments.
       * </pre>
       */
      org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment getFragment(int index);
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
       *
       * <pre>
       * Fragments of the segments.
       * </pre>
       */
      int getFragmentCount();
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
       *
       * <pre>
       * Fragments of the segments.
       * </pre>
       */
      java.util.List<? extends org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder> 
          getFragmentOrBuilderList();
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
       *
       * <pre>
       * Fragments of the segments.
       * </pre>
       */
      org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder getFragmentOrBuilder(
          int index);
    }
    /**
     * Protobuf type {@code clientserver.FetchWaveViewResponse.WaveletFragment}
     *
     * <pre>
     ** Fragment of wavelet. 
     * </pre>
     */
    public static final class WaveletFragment extends
        com.google.protobuf.GeneratedMessage
        implements WaveletFragmentOrBuilder {
      // Use WaveletFragment.newBuilder() to construct.
      private WaveletFragment(com.google.protobuf.GeneratedMessage.Builder<?> builder) {
        super(builder);
        this.unknownFields = builder.getUnknownFields();
      }
      private WaveletFragment(boolean noInit) { this.unknownFields = com.google.protobuf.UnknownFieldSet.getDefaultInstance(); }

      private static final WaveletFragment defaultInstance;
      public static WaveletFragment getDefaultInstance() {
        return defaultInstance;
      }

      public WaveletFragment getDefaultInstanceForType() {
        return defaultInstance;
      }

      private final com.google.protobuf.UnknownFieldSet unknownFields;
      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
          getUnknownFields() {
        return this.unknownFields;
      }
      private WaveletFragment(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        initFields();
        int mutable_bitField0_ = 0;
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              default: {
                if (!parseUnknownField(input, unknownFields,
                                       extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
              case 10: {
                bitField0_ |= 0x00000001;
                waveletId_ = input.readBytes();
                break;
              }
              case 18: {
                org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder subBuilder = null;
                if (((bitField0_ & 0x00000002) == 0x00000002)) {
                  subBuilder = lastModifiedVersion_.toBuilder();
                }
                lastModifiedVersion_ = input.readMessage(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.PARSER, extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(lastModifiedVersion_);
                  lastModifiedVersion_ = subBuilder.buildPartial();
                }
                bitField0_ |= 0x00000002;
                break;
              }
              case 24: {
                bitField0_ |= 0x00000004;
                lastModifiedTime_ = input.readInt64();
                break;
              }
              case 34: {
                if (!((mutable_bitField0_ & 0x00000008) == 0x00000008)) {
                  fragment_ = new java.util.ArrayList<org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment>();
                  mutable_bitField0_ |= 0x00000008;
                }
                fragment_.add(input.readMessage(org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.PARSER, extensionRegistry));
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e.getMessage()).setUnfinishedMessage(this);
        } finally {
          if (((mutable_bitField0_ & 0x00000008) == 0x00000008)) {
            fragment_ = java.util.Collections.unmodifiableList(fragment_);
          }
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchWaveViewResponse_WaveletFragment_descriptor;
      }

      protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchWaveViewResponse_WaveletFragment_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment.class, org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment.Builder.class);
      }

      public static com.google.protobuf.Parser<WaveletFragment> PARSER =
          new com.google.protobuf.AbstractParser<WaveletFragment>() {
        public WaveletFragment parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new WaveletFragment(input, extensionRegistry);
        }
      };

      @java.lang.Override
      public com.google.protobuf.Parser<WaveletFragment> getParserForType() {
        return PARSER;
      }

      private int bitField0_;
      // required string waveletId = 1;
      public static final int WAVELETID_FIELD_NUMBER = 1;
      private java.lang.Object waveletId_;
      /**
       * <code>required string waveletId = 1;</code>
       *
       * <pre>
       * The wavelet in view, URI path format.
       * </pre>
       */
      public boolean hasWaveletId() {
        return ((bitField0_ & 0x00000001) == 0x00000001);
      }
      /**
       * <code>required string waveletId = 1;</code>
       *
       * <pre>
       * The wavelet in view, URI path format.
       * </pre>
       */
      public java.lang.String getWaveletId() {
        java.lang.Object ref = waveletId_;
        if (ref instanceof java.lang.String) {
          return (java.lang.String) ref;
        } else {
          com.google.protobuf.ByteString bs = 
              (com.google.protobuf.ByteString) ref;
          java.lang.String s = bs.toStringUtf8();
          if (bs.isValidUtf8()) {
            waveletId_ = s;
          }
          return s;
        }
      }
      /**
       * <code>required string waveletId = 1;</code>
       *
       * <pre>
       * The wavelet in view, URI path format.
       * </pre>
       */
      public com.google.protobuf.ByteString
          getWaveletIdBytes() {
        java.lang.Object ref = waveletId_;
        if (ref instanceof java.lang.String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          waveletId_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }

      // required .federation.ProtocolHashedVersion lastModifiedVersion = 2;
      public static final int LASTMODIFIEDVERSION_FIELD_NUMBER = 2;
      private org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion lastModifiedVersion_;
      /**
       * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 2;</code>
       *
       * <pre>
       * Current version and modification timestamp of the wavelet.
       * </pre>
       */
      public boolean hasLastModifiedVersion() {
        return ((bitField0_ & 0x00000002) == 0x00000002);
      }
      /**
       * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 2;</code>
       *
       * <pre>
       * Current version and modification timestamp of the wavelet.
       * </pre>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getLastModifiedVersion() {
        return lastModifiedVersion_;
      }
      /**
       * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 2;</code>
       *
       * <pre>
       * Current version and modification timestamp of the wavelet.
       * </pre>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder getLastModifiedVersionOrBuilder() {
        return lastModifiedVersion_;
      }

      // required int64 lastModifiedTime = 3;
      public static final int LASTMODIFIEDTIME_FIELD_NUMBER = 3;
      private long lastModifiedTime_;
      /**
       * <code>required int64 lastModifiedTime = 3;</code>
       */
      public boolean hasLastModifiedTime() {
        return ((bitField0_ & 0x00000004) == 0x00000004);
      }
      /**
       * <code>required int64 lastModifiedTime = 3;</code>
       */
      public long getLastModifiedTime() {
        return lastModifiedTime_;
      }

      // repeated .clientserver.SegmentFragment fragment = 4;
      public static final int FRAGMENT_FIELD_NUMBER = 4;
      private java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment> fragment_;
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
       *
       * <pre>
       * Fragments of the segments.
       * </pre>
       */
      public java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment> getFragmentList() {
        return fragment_;
      }
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
       *
       * <pre>
       * Fragments of the segments.
       * </pre>
       */
      public java.util.List<? extends org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder> 
          getFragmentOrBuilderList() {
        return fragment_;
      }
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
       *
       * <pre>
       * Fragments of the segments.
       * </pre>
       */
      public int getFragmentCount() {
        return fragment_.size();
      }
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
       *
       * <pre>
       * Fragments of the segments.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment getFragment(int index) {
        return fragment_.get(index);
      }
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
       *
       * <pre>
       * Fragments of the segments.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder getFragmentOrBuilder(
          int index) {
        return fragment_.get(index);
      }

      private void initFields() {
        waveletId_ = "";
        lastModifiedVersion_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
        lastModifiedTime_ = 0L;
        fragment_ = java.util.Collections.emptyList();
      }
      private byte memoizedIsInitialized = -1;
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized != -1) return isInitialized == 1;

        if (!hasWaveletId()) {
          memoizedIsInitialized = 0;
          return false;
        }
        if (!hasLastModifiedVersion()) {
          memoizedIsInitialized = 0;
          return false;
        }
        if (!hasLastModifiedTime()) {
          memoizedIsInitialized = 0;
          return false;
        }
        if (!getLastModifiedVersion().isInitialized()) {
          memoizedIsInitialized = 0;
          return false;
        }
        for (int i = 0; i < getFragmentCount(); i++) {
          if (!getFragment(i).isInitialized()) {
            memoizedIsInitialized = 0;
            return false;
          }
        }
        memoizedIsInitialized = 1;
        return true;
      }

      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        getSerializedSize();
        if (((bitField0_ & 0x00000001) == 0x00000001)) {
          output.writeBytes(1, getWaveletIdBytes());
        }
        if (((bitField0_ & 0x00000002) == 0x00000002)) {
          output.writeMessage(2, lastModifiedVersion_);
        }
        if (((bitField0_ & 0x00000004) == 0x00000004)) {
          output.writeInt64(3, lastModifiedTime_);
        }
        for (int i = 0; i < fragment_.size(); i++) {
          output.writeMessage(4, fragment_.get(i));
        }
        getUnknownFields().writeTo(output);
      }

      private int memoizedSerializedSize = -1;
      public int getSerializedSize() {
        int size = memoizedSerializedSize;
        if (size != -1) return size;

        size = 0;
        if (((bitField0_ & 0x00000001) == 0x00000001)) {
          size += com.google.protobuf.CodedOutputStream
            .computeBytesSize(1, getWaveletIdBytes());
        }
        if (((bitField0_ & 0x00000002) == 0x00000002)) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(2, lastModifiedVersion_);
        }
        if (((bitField0_ & 0x00000004) == 0x00000004)) {
          size += com.google.protobuf.CodedOutputStream
            .computeInt64Size(3, lastModifiedTime_);
        }
        for (int i = 0; i < fragment_.size(); i++) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(4, fragment_.get(i));
        }
        size += getUnknownFields().getSerializedSize();
        memoizedSerializedSize = size;
        return size;
      }

      private static final long serialVersionUID = 0L;
      @java.lang.Override
      protected java.lang.Object writeReplace()
          throws java.io.ObjectStreamException {
        return super.writeReplace();
      }

      public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return PARSER.parseFrom(input);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return PARSER.parseFrom(input, extensionRegistry);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return PARSER.parseDelimitedFrom(input);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return PARSER.parseDelimitedFrom(input, extensionRegistry);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return PARSER.parseFrom(input);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return PARSER.parseFrom(input, extensionRegistry);
      }

      public static Builder newBuilder() { return Builder.create(); }
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder(org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment prototype) {
        return newBuilder().mergeFrom(prototype);
      }
      public Builder toBuilder() { return newBuilder(this); }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessage.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code clientserver.FetchWaveViewResponse.WaveletFragment}
       *
       * <pre>
       ** Fragment of wavelet. 
       * </pre>
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessage.Builder<Builder>
         implements org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragmentOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchWaveViewResponse_WaveletFragment_descriptor;
        }

        protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchWaveViewResponse_WaveletFragment_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment.class, org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment.Builder.class);
        }

        // Construct using org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessage.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders) {
            getLastModifiedVersionFieldBuilder();
            getFragmentFieldBuilder();
          }
        }
        private static Builder create() {
          return new Builder();
        }

        public Builder clear() {
          super.clear();
          waveletId_ = "";
          bitField0_ = (bitField0_ & ~0x00000001);
          if (lastModifiedVersionBuilder_ == null) {
            lastModifiedVersion_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
          } else {
            lastModifiedVersionBuilder_.clear();
          }
          bitField0_ = (bitField0_ & ~0x00000002);
          lastModifiedTime_ = 0L;
          bitField0_ = (bitField0_ & ~0x00000004);
          if (fragmentBuilder_ == null) {
            fragment_ = java.util.Collections.emptyList();
            bitField0_ = (bitField0_ & ~0x00000008);
          } else {
            fragmentBuilder_.clear();
          }
          return this;
        }

        public Builder clone() {
          return create().mergeFrom(buildPartial());
        }

        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchWaveViewResponse_WaveletFragment_descriptor;
        }

        public org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment getDefaultInstanceForType() {
          return org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment.getDefaultInstance();
        }

        public org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment build() {
          org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        public org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment buildPartial() {
          org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment result = new org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment(this);
          int from_bitField0_ = bitField0_;
          int to_bitField0_ = 0;
          if (((from_bitField0_ & 0x00000001) == 0x00000001)) {
            to_bitField0_ |= 0x00000001;
          }
          result.waveletId_ = waveletId_;
          if (((from_bitField0_ & 0x00000002) == 0x00000002)) {
            to_bitField0_ |= 0x00000002;
          }
          if (lastModifiedVersionBuilder_ == null) {
            result.lastModifiedVersion_ = lastModifiedVersion_;
          } else {
            result.lastModifiedVersion_ = lastModifiedVersionBuilder_.build();
          }
          if (((from_bitField0_ & 0x00000004) == 0x00000004)) {
            to_bitField0_ |= 0x00000004;
          }
          result.lastModifiedTime_ = lastModifiedTime_;
          if (fragmentBuilder_ == null) {
            if (((bitField0_ & 0x00000008) == 0x00000008)) {
              fragment_ = java.util.Collections.unmodifiableList(fragment_);
              bitField0_ = (bitField0_ & ~0x00000008);
            }
            result.fragment_ = fragment_;
          } else {
            result.fragment_ = fragmentBuilder_.build();
          }
          result.bitField0_ = to_bitField0_;
          onBuilt();
          return result;
        }

        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment) {
            return mergeFrom((org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment other) {
          if (other == org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment.getDefaultInstance()) return this;
          if (other.hasWaveletId()) {
            bitField0_ |= 0x00000001;
            waveletId_ = other.waveletId_;
            onChanged();
          }
          if (other.hasLastModifiedVersion()) {
            mergeLastModifiedVersion(other.getLastModifiedVersion());
          }
          if (other.hasLastModifiedTime()) {
            setLastModifiedTime(other.getLastModifiedTime());
          }
          if (fragmentBuilder_ == null) {
            if (!other.fragment_.isEmpty()) {
              if (fragment_.isEmpty()) {
                fragment_ = other.fragment_;
                bitField0_ = (bitField0_ & ~0x00000008);
              } else {
                ensureFragmentIsMutable();
                fragment_.addAll(other.fragment_);
              }
              onChanged();
            }
          } else {
            if (!other.fragment_.isEmpty()) {
              if (fragmentBuilder_.isEmpty()) {
                fragmentBuilder_.dispose();
                fragmentBuilder_ = null;
                fragment_ = other.fragment_;
                bitField0_ = (bitField0_ & ~0x00000008);
                fragmentBuilder_ = 
                  com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders ?
                     getFragmentFieldBuilder() : null;
              } else {
                fragmentBuilder_.addAllMessages(other.fragment_);
              }
            }
          }
          this.mergeUnknownFields(other.getUnknownFields());
          return this;
        }

        public final boolean isInitialized() {
          if (!hasWaveletId()) {
            
            return false;
          }
          if (!hasLastModifiedVersion()) {
            
            return false;
          }
          if (!hasLastModifiedTime()) {
            
            return false;
          }
          if (!getLastModifiedVersion().isInitialized()) {
            
            return false;
          }
          for (int i = 0; i < getFragmentCount(); i++) {
            if (!getFragment(i).isInitialized()) {
              
              return false;
            }
          }
          return true;
        }

        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment) e.getUnfinishedMessage();
            throw e;
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }
        private int bitField0_;

        // required string waveletId = 1;
        private java.lang.Object waveletId_ = "";
        /**
         * <code>required string waveletId = 1;</code>
         *
         * <pre>
         * The wavelet in view, URI path format.
         * </pre>
         */
        public boolean hasWaveletId() {
          return ((bitField0_ & 0x00000001) == 0x00000001);
        }
        /**
         * <code>required string waveletId = 1;</code>
         *
         * <pre>
         * The wavelet in view, URI path format.
         * </pre>
         */
        public java.lang.String getWaveletId() {
          java.lang.Object ref = waveletId_;
          if (!(ref instanceof java.lang.String)) {
            java.lang.String s = ((com.google.protobuf.ByteString) ref)
                .toStringUtf8();
            waveletId_ = s;
            return s;
          } else {
            return (java.lang.String) ref;
          }
        }
        /**
         * <code>required string waveletId = 1;</code>
         *
         * <pre>
         * The wavelet in view, URI path format.
         * </pre>
         */
        public com.google.protobuf.ByteString
            getWaveletIdBytes() {
          java.lang.Object ref = waveletId_;
          if (ref instanceof String) {
            com.google.protobuf.ByteString b = 
                com.google.protobuf.ByteString.copyFromUtf8(
                    (java.lang.String) ref);
            waveletId_ = b;
            return b;
          } else {
            return (com.google.protobuf.ByteString) ref;
          }
        }
        /**
         * <code>required string waveletId = 1;</code>
         *
         * <pre>
         * The wavelet in view, URI path format.
         * </pre>
         */
        public Builder setWaveletId(
            java.lang.String value) {
          if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
          waveletId_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>required string waveletId = 1;</code>
         *
         * <pre>
         * The wavelet in view, URI path format.
         * </pre>
         */
        public Builder clearWaveletId() {
          bitField0_ = (bitField0_ & ~0x00000001);
          waveletId_ = getDefaultInstance().getWaveletId();
          onChanged();
          return this;
        }
        /**
         * <code>required string waveletId = 1;</code>
         *
         * <pre>
         * The wavelet in view, URI path format.
         * </pre>
         */
        public Builder setWaveletIdBytes(
            com.google.protobuf.ByteString value) {
          if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
          waveletId_ = value;
          onChanged();
          return this;
        }

        // required .federation.ProtocolHashedVersion lastModifiedVersion = 2;
        private org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion lastModifiedVersion_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
        private com.google.protobuf.SingleFieldBuilder<
            org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder> lastModifiedVersionBuilder_;
        /**
         * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 2;</code>
         *
         * <pre>
         * Current version and modification timestamp of the wavelet.
         * </pre>
         */
        public boolean hasLastModifiedVersion() {
          return ((bitField0_ & 0x00000002) == 0x00000002);
        }
        /**
         * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 2;</code>
         *
         * <pre>
         * Current version and modification timestamp of the wavelet.
         * </pre>
         */
        public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getLastModifiedVersion() {
          if (lastModifiedVersionBuilder_ == null) {
            return lastModifiedVersion_;
          } else {
            return lastModifiedVersionBuilder_.getMessage();
          }
        }
        /**
         * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 2;</code>
         *
         * <pre>
         * Current version and modification timestamp of the wavelet.
         * </pre>
         */
        public Builder setLastModifiedVersion(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion value) {
          if (lastModifiedVersionBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            lastModifiedVersion_ = value;
            onChanged();
          } else {
            lastModifiedVersionBuilder_.setMessage(value);
          }
          bitField0_ |= 0x00000002;
          return this;
        }
        /**
         * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 2;</code>
         *
         * <pre>
         * Current version and modification timestamp of the wavelet.
         * </pre>
         */
        public Builder setLastModifiedVersion(
            org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder builderForValue) {
          if (lastModifiedVersionBuilder_ == null) {
            lastModifiedVersion_ = builderForValue.build();
            onChanged();
          } else {
            lastModifiedVersionBuilder_.setMessage(builderForValue.build());
          }
          bitField0_ |= 0x00000002;
          return this;
        }
        /**
         * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 2;</code>
         *
         * <pre>
         * Current version and modification timestamp of the wavelet.
         * </pre>
         */
        public Builder mergeLastModifiedVersion(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion value) {
          if (lastModifiedVersionBuilder_ == null) {
            if (((bitField0_ & 0x00000002) == 0x00000002) &&
                lastModifiedVersion_ != org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance()) {
              lastModifiedVersion_ =
                org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.newBuilder(lastModifiedVersion_).mergeFrom(value).buildPartial();
            } else {
              lastModifiedVersion_ = value;
            }
            onChanged();
          } else {
            lastModifiedVersionBuilder_.mergeFrom(value);
          }
          bitField0_ |= 0x00000002;
          return this;
        }
        /**
         * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 2;</code>
         *
         * <pre>
         * Current version and modification timestamp of the wavelet.
         * </pre>
         */
        public Builder clearLastModifiedVersion() {
          if (lastModifiedVersionBuilder_ == null) {
            lastModifiedVersion_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
            onChanged();
          } else {
            lastModifiedVersionBuilder_.clear();
          }
          bitField0_ = (bitField0_ & ~0x00000002);
          return this;
        }
        /**
         * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 2;</code>
         *
         * <pre>
         * Current version and modification timestamp of the wavelet.
         * </pre>
         */
        public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder getLastModifiedVersionBuilder() {
          bitField0_ |= 0x00000002;
          onChanged();
          return getLastModifiedVersionFieldBuilder().getBuilder();
        }
        /**
         * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 2;</code>
         *
         * <pre>
         * Current version and modification timestamp of the wavelet.
         * </pre>
         */
        public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder getLastModifiedVersionOrBuilder() {
          if (lastModifiedVersionBuilder_ != null) {
            return lastModifiedVersionBuilder_.getMessageOrBuilder();
          } else {
            return lastModifiedVersion_;
          }
        }
        /**
         * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 2;</code>
         *
         * <pre>
         * Current version and modification timestamp of the wavelet.
         * </pre>
         */
        private com.google.protobuf.SingleFieldBuilder<
            org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder> 
            getLastModifiedVersionFieldBuilder() {
          if (lastModifiedVersionBuilder_ == null) {
            lastModifiedVersionBuilder_ = new com.google.protobuf.SingleFieldBuilder<
                org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder>(
                    lastModifiedVersion_,
                    getParentForChildren(),
                    isClean());
            lastModifiedVersion_ = null;
          }
          return lastModifiedVersionBuilder_;
        }

        // required int64 lastModifiedTime = 3;
        private long lastModifiedTime_ ;
        /**
         * <code>required int64 lastModifiedTime = 3;</code>
         */
        public boolean hasLastModifiedTime() {
          return ((bitField0_ & 0x00000004) == 0x00000004);
        }
        /**
         * <code>required int64 lastModifiedTime = 3;</code>
         */
        public long getLastModifiedTime() {
          return lastModifiedTime_;
        }
        /**
         * <code>required int64 lastModifiedTime = 3;</code>
         */
        public Builder setLastModifiedTime(long value) {
          bitField0_ |= 0x00000004;
          lastModifiedTime_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>required int64 lastModifiedTime = 3;</code>
         */
        public Builder clearLastModifiedTime() {
          bitField0_ = (bitField0_ & ~0x00000004);
          lastModifiedTime_ = 0L;
          onChanged();
          return this;
        }

        // repeated .clientserver.SegmentFragment fragment = 4;
        private java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment> fragment_ =
          java.util.Collections.emptyList();
        private void ensureFragmentIsMutable() {
          if (!((bitField0_ & 0x00000008) == 0x00000008)) {
            fragment_ = new java.util.ArrayList<org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment>(fragment_);
            bitField0_ |= 0x00000008;
           }
        }

        private com.google.protobuf.RepeatedFieldBuilder<
            org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder> fragmentBuilder_;

        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment> getFragmentList() {
          if (fragmentBuilder_ == null) {
            return java.util.Collections.unmodifiableList(fragment_);
          } else {
            return fragmentBuilder_.getMessageList();
          }
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public int getFragmentCount() {
          if (fragmentBuilder_ == null) {
            return fragment_.size();
          } else {
            return fragmentBuilder_.getCount();
          }
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment getFragment(int index) {
          if (fragmentBuilder_ == null) {
            return fragment_.get(index);
          } else {
            return fragmentBuilder_.getMessage(index);
          }
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public Builder setFragment(
            int index, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment value) {
          if (fragmentBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            ensureFragmentIsMutable();
            fragment_.set(index, value);
            onChanged();
          } else {
            fragmentBuilder_.setMessage(index, value);
          }
          return this;
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public Builder setFragment(
            int index, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder builderForValue) {
          if (fragmentBuilder_ == null) {
            ensureFragmentIsMutable();
            fragment_.set(index, builderForValue.build());
            onChanged();
          } else {
            fragmentBuilder_.setMessage(index, builderForValue.build());
          }
          return this;
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public Builder addFragment(org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment value) {
          if (fragmentBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            ensureFragmentIsMutable();
            fragment_.add(value);
            onChanged();
          } else {
            fragmentBuilder_.addMessage(value);
          }
          return this;
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public Builder addFragment(
            int index, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment value) {
          if (fragmentBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            ensureFragmentIsMutable();
            fragment_.add(index, value);
            onChanged();
          } else {
            fragmentBuilder_.addMessage(index, value);
          }
          return this;
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public Builder addFragment(
            org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder builderForValue) {
          if (fragmentBuilder_ == null) {
            ensureFragmentIsMutable();
            fragment_.add(builderForValue.build());
            onChanged();
          } else {
            fragmentBuilder_.addMessage(builderForValue.build());
          }
          return this;
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public Builder addFragment(
            int index, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder builderForValue) {
          if (fragmentBuilder_ == null) {
            ensureFragmentIsMutable();
            fragment_.add(index, builderForValue.build());
            onChanged();
          } else {
            fragmentBuilder_.addMessage(index, builderForValue.build());
          }
          return this;
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public Builder addAllFragment(
            java.lang.Iterable<? extends org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment> values) {
          if (fragmentBuilder_ == null) {
            ensureFragmentIsMutable();
            super.addAll(values, fragment_);
            onChanged();
          } else {
            fragmentBuilder_.addAllMessages(values);
          }
          return this;
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public Builder clearFragment() {
          if (fragmentBuilder_ == null) {
            fragment_ = java.util.Collections.emptyList();
            bitField0_ = (bitField0_ & ~0x00000008);
            onChanged();
          } else {
            fragmentBuilder_.clear();
          }
          return this;
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public Builder removeFragment(int index) {
          if (fragmentBuilder_ == null) {
            ensureFragmentIsMutable();
            fragment_.remove(index);
            onChanged();
          } else {
            fragmentBuilder_.remove(index);
          }
          return this;
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder getFragmentBuilder(
            int index) {
          return getFragmentFieldBuilder().getBuilder(index);
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder getFragmentOrBuilder(
            int index) {
          if (fragmentBuilder_ == null) {
            return fragment_.get(index);  } else {
            return fragmentBuilder_.getMessageOrBuilder(index);
          }
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public java.util.List<? extends org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder> 
             getFragmentOrBuilderList() {
          if (fragmentBuilder_ != null) {
            return fragmentBuilder_.getMessageOrBuilderList();
          } else {
            return java.util.Collections.unmodifiableList(fragment_);
          }
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder addFragmentBuilder() {
          return getFragmentFieldBuilder().addBuilder(
              org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.getDefaultInstance());
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder addFragmentBuilder(
            int index) {
          return getFragmentFieldBuilder().addBuilder(
              index, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.getDefaultInstance());
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 4;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder> 
             getFragmentBuilderList() {
          return getFragmentFieldBuilder().getBuilderList();
        }
        private com.google.protobuf.RepeatedFieldBuilder<
            org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder> 
            getFragmentFieldBuilder() {
          if (fragmentBuilder_ == null) {
            fragmentBuilder_ = new com.google.protobuf.RepeatedFieldBuilder<
                org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder>(
                    fragment_,
                    ((bitField0_ & 0x00000008) == 0x00000008),
                    getParentForChildren(),
                    isClean());
            fragment_ = null;
          }
          return fragmentBuilder_;
        }

        // @@protoc_insertion_point(builder_scope:clientserver.FetchWaveViewResponse.WaveletFragment)
      }

      static {
        defaultInstance = new WaveletFragment(true);
        defaultInstance.initFields();
      }

      // @@protoc_insertion_point(class_scope:clientserver.FetchWaveViewResponse.WaveletFragment)
    }

    private int bitField0_;
    // required .clientserver.ResponseStatus status = 1;
    public static final int STATUS_FIELD_NUMBER = 1;
    private org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus status_;
    /**
     * <code>required .clientserver.ResponseStatus status = 1;</code>
     */
    public boolean hasStatus() {
      return ((bitField0_ & 0x00000001) == 0x00000001);
    }
    /**
     * <code>required .clientserver.ResponseStatus status = 1;</code>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus getStatus() {
      return status_;
    }
    /**
     * <code>required .clientserver.ResponseStatus status = 1;</code>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.ResponseStatusOrBuilder getStatusOrBuilder() {
      return status_;
    }

    // repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;
    public static final int WAVELET_FIELD_NUMBER = 2;
    private java.util.List<org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment> wavelet_;
    /**
     * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
     *
     * <pre>
     * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
     * </pre>
     */
    public java.util.List<org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment> getWaveletList() {
      return wavelet_;
    }
    /**
     * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
     *
     * <pre>
     * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
     * </pre>
     */
    public java.util.List<? extends org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragmentOrBuilder> 
        getWaveletOrBuilderList() {
      return wavelet_;
    }
    /**
     * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
     *
     * <pre>
     * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
     * </pre>
     */
    public int getWaveletCount() {
      return wavelet_.size();
    }
    /**
     * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
     *
     * <pre>
     * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
     * </pre>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment getWavelet(int index) {
      return wavelet_.get(index);
    }
    /**
     * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
     *
     * <pre>
     * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
     * </pre>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragmentOrBuilder getWaveletOrBuilder(
        int index) {
      return wavelet_.get(index);
    }

    private void initFields() {
      status_ = org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.getDefaultInstance();
      wavelet_ = java.util.Collections.emptyList();
    }
    private byte memoizedIsInitialized = -1;
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized != -1) return isInitialized == 1;

      if (!hasStatus()) {
        memoizedIsInitialized = 0;
        return false;
      }
      if (!getStatus().isInitialized()) {
        memoizedIsInitialized = 0;
        return false;
      }
      for (int i = 0; i < getWaveletCount(); i++) {
        if (!getWavelet(i).isInitialized()) {
          memoizedIsInitialized = 0;
          return false;
        }
      }
      memoizedIsInitialized = 1;
      return true;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        output.writeMessage(1, status_);
      }
      for (int i = 0; i < wavelet_.size(); i++) {
        output.writeMessage(2, wavelet_.get(i));
      }
      getUnknownFields().writeTo(output);
    }

    private int memoizedSerializedSize = -1;
    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;

      size = 0;
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(1, status_);
      }
      for (int i = 0; i < wavelet_.size(); i++) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(2, wavelet_.get(i));
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }

    private static final long serialVersionUID = 0L;
    @java.lang.Override
    protected java.lang.Object writeReplace()
        throws java.io.ObjectStreamException {
      return super.writeReplace();
    }

    public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }

    public static Builder newBuilder() { return Builder.create(); }
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder(org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse prototype) {
      return newBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() { return newBuilder(this); }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessage.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * Protobuf type {@code clientserver.FetchWaveViewResponse}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessage.Builder<Builder>
       implements org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponseOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchWaveViewResponse_descriptor;
      }

      protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchWaveViewResponse_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.class, org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.Builder.class);
      }

      // Construct using org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessage.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders) {
          getStatusFieldBuilder();
          getWaveletFieldBuilder();
        }
      }
      private static Builder create() {
        return new Builder();
      }

      public Builder clear() {
        super.clear();
        if (statusBuilder_ == null) {
          status_ = org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.getDefaultInstance();
        } else {
          statusBuilder_.clear();
        }
        bitField0_ = (bitField0_ & ~0x00000001);
        if (waveletBuilder_ == null) {
          wavelet_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000002);
        } else {
          waveletBuilder_.clear();
        }
        return this;
      }

      public Builder clone() {
        return create().mergeFrom(buildPartial());
      }

      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchWaveViewResponse_descriptor;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse getDefaultInstanceForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.getDefaultInstance();
      }

      public org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse build() {
        org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse buildPartial() {
        org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse result = new org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse(this);
        int from_bitField0_ = bitField0_;
        int to_bitField0_ = 0;
        if (((from_bitField0_ & 0x00000001) == 0x00000001)) {
          to_bitField0_ |= 0x00000001;
        }
        if (statusBuilder_ == null) {
          result.status_ = status_;
        } else {
          result.status_ = statusBuilder_.build();
        }
        if (waveletBuilder_ == null) {
          if (((bitField0_ & 0x00000002) == 0x00000002)) {
            wavelet_ = java.util.Collections.unmodifiableList(wavelet_);
            bitField0_ = (bitField0_ & ~0x00000002);
          }
          result.wavelet_ = wavelet_;
        } else {
          result.wavelet_ = waveletBuilder_.build();
        }
        result.bitField0_ = to_bitField0_;
        onBuilt();
        return result;
      }

      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse) {
          return mergeFrom((org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse other) {
        if (other == org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.getDefaultInstance()) return this;
        if (other.hasStatus()) {
          mergeStatus(other.getStatus());
        }
        if (waveletBuilder_ == null) {
          if (!other.wavelet_.isEmpty()) {
            if (wavelet_.isEmpty()) {
              wavelet_ = other.wavelet_;
              bitField0_ = (bitField0_ & ~0x00000002);
            } else {
              ensureWaveletIsMutable();
              wavelet_.addAll(other.wavelet_);
            }
            onChanged();
          }
        } else {
          if (!other.wavelet_.isEmpty()) {
            if (waveletBuilder_.isEmpty()) {
              waveletBuilder_.dispose();
              waveletBuilder_ = null;
              wavelet_ = other.wavelet_;
              bitField0_ = (bitField0_ & ~0x00000002);
              waveletBuilder_ = 
                com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders ?
                   getWaveletFieldBuilder() : null;
            } else {
              waveletBuilder_.addAllMessages(other.wavelet_);
            }
          }
        }
        this.mergeUnknownFields(other.getUnknownFields());
        return this;
      }

      public final boolean isInitialized() {
        if (!hasStatus()) {
          
          return false;
        }
        if (!getStatus().isInitialized()) {
          
          return false;
        }
        for (int i = 0; i < getWaveletCount(); i++) {
          if (!getWavelet(i).isInitialized()) {
            
            return false;
          }
        }
        return true;
      }

      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse) e.getUnfinishedMessage();
          throw e;
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }
      private int bitField0_;

      // required .clientserver.ResponseStatus status = 1;
      private org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus status_ = org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.getDefaultInstance();
      private com.google.protobuf.SingleFieldBuilder<
          org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus, org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.Builder, org.waveprotocol.wave.clientserver.ClientServer.ResponseStatusOrBuilder> statusBuilder_;
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public boolean hasStatus() {
        return ((bitField0_ & 0x00000001) == 0x00000001);
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus getStatus() {
        if (statusBuilder_ == null) {
          return status_;
        } else {
          return statusBuilder_.getMessage();
        }
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public Builder setStatus(org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus value) {
        if (statusBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          status_ = value;
          onChanged();
        } else {
          statusBuilder_.setMessage(value);
        }
        bitField0_ |= 0x00000001;
        return this;
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public Builder setStatus(
          org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.Builder builderForValue) {
        if (statusBuilder_ == null) {
          status_ = builderForValue.build();
          onChanged();
        } else {
          statusBuilder_.setMessage(builderForValue.build());
        }
        bitField0_ |= 0x00000001;
        return this;
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public Builder mergeStatus(org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus value) {
        if (statusBuilder_ == null) {
          if (((bitField0_ & 0x00000001) == 0x00000001) &&
              status_ != org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.getDefaultInstance()) {
            status_ =
              org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.newBuilder(status_).mergeFrom(value).buildPartial();
          } else {
            status_ = value;
          }
          onChanged();
        } else {
          statusBuilder_.mergeFrom(value);
        }
        bitField0_ |= 0x00000001;
        return this;
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public Builder clearStatus() {
        if (statusBuilder_ == null) {
          status_ = org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.getDefaultInstance();
          onChanged();
        } else {
          statusBuilder_.clear();
        }
        bitField0_ = (bitField0_ & ~0x00000001);
        return this;
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.Builder getStatusBuilder() {
        bitField0_ |= 0x00000001;
        onChanged();
        return getStatusFieldBuilder().getBuilder();
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.ResponseStatusOrBuilder getStatusOrBuilder() {
        if (statusBuilder_ != null) {
          return statusBuilder_.getMessageOrBuilder();
        } else {
          return status_;
        }
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      private com.google.protobuf.SingleFieldBuilder<
          org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus, org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.Builder, org.waveprotocol.wave.clientserver.ClientServer.ResponseStatusOrBuilder> 
          getStatusFieldBuilder() {
        if (statusBuilder_ == null) {
          statusBuilder_ = new com.google.protobuf.SingleFieldBuilder<
              org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus, org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.Builder, org.waveprotocol.wave.clientserver.ClientServer.ResponseStatusOrBuilder>(
                  status_,
                  getParentForChildren(),
                  isClean());
          status_ = null;
        }
        return statusBuilder_;
      }

      // repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;
      private java.util.List<org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment> wavelet_ =
        java.util.Collections.emptyList();
      private void ensureWaveletIsMutable() {
        if (!((bitField0_ & 0x00000002) == 0x00000002)) {
          wavelet_ = new java.util.ArrayList<org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment>(wavelet_);
          bitField0_ |= 0x00000002;
         }
      }

      private com.google.protobuf.RepeatedFieldBuilder<
          org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment, org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment.Builder, org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragmentOrBuilder> waveletBuilder_;

      /**
       * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
       *
       * <pre>
       * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
       * </pre>
       */
      public java.util.List<org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment> getWaveletList() {
        if (waveletBuilder_ == null) {
          return java.util.Collections.unmodifiableList(wavelet_);
        } else {
          return waveletBuilder_.getMessageList();
        }
      }
      /**
       * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
       *
       * <pre>
       * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
       * </pre>
       */
      public int getWaveletCount() {
        if (waveletBuilder_ == null) {
          return wavelet_.size();
        } else {
          return waveletBuilder_.getCount();
        }
      }
      /**
       * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
       *
       * <pre>
       * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment getWavelet(int index) {
        if (waveletBuilder_ == null) {
          return wavelet_.get(index);
        } else {
          return waveletBuilder_.getMessage(index);
        }
      }
      /**
       * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
       *
       * <pre>
       * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
       * </pre>
       */
      public Builder setWavelet(
          int index, org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment value) {
        if (waveletBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureWaveletIsMutable();
          wavelet_.set(index, value);
          onChanged();
        } else {
          waveletBuilder_.setMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
       *
       * <pre>
       * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
       * </pre>
       */
      public Builder setWavelet(
          int index, org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment.Builder builderForValue) {
        if (waveletBuilder_ == null) {
          ensureWaveletIsMutable();
          wavelet_.set(index, builderForValue.build());
          onChanged();
        } else {
          waveletBuilder_.setMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
       *
       * <pre>
       * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
       * </pre>
       */
      public Builder addWavelet(org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment value) {
        if (waveletBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureWaveletIsMutable();
          wavelet_.add(value);
          onChanged();
        } else {
          waveletBuilder_.addMessage(value);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
       *
       * <pre>
       * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
       * </pre>
       */
      public Builder addWavelet(
          int index, org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment value) {
        if (waveletBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureWaveletIsMutable();
          wavelet_.add(index, value);
          onChanged();
        } else {
          waveletBuilder_.addMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
       *
       * <pre>
       * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
       * </pre>
       */
      public Builder addWavelet(
          org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment.Builder builderForValue) {
        if (waveletBuilder_ == null) {
          ensureWaveletIsMutable();
          wavelet_.add(builderForValue.build());
          onChanged();
        } else {
          waveletBuilder_.addMessage(builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
       *
       * <pre>
       * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
       * </pre>
       */
      public Builder addWavelet(
          int index, org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment.Builder builderForValue) {
        if (waveletBuilder_ == null) {
          ensureWaveletIsMutable();
          wavelet_.add(index, builderForValue.build());
          onChanged();
        } else {
          waveletBuilder_.addMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
       *
       * <pre>
       * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
       * </pre>
       */
      public Builder addAllWavelet(
          java.lang.Iterable<? extends org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment> values) {
        if (waveletBuilder_ == null) {
          ensureWaveletIsMutable();
          super.addAll(values, wavelet_);
          onChanged();
        } else {
          waveletBuilder_.addAllMessages(values);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
       *
       * <pre>
       * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
       * </pre>
       */
      public Builder clearWavelet() {
        if (waveletBuilder_ == null) {
          wavelet_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000002);
          onChanged();
        } else {
          waveletBuilder_.clear();
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
       *
       * <pre>
       * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
       * </pre>
       */
      public Builder removeWavelet(int index) {
        if (waveletBuilder_ == null) {
          ensureWaveletIsMutable();
          wavelet_.remove(index);
          onChanged();
        } else {
          waveletBuilder_.remove(index);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
       *
       * <pre>
       * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment.Builder getWaveletBuilder(
          int index) {
        return getWaveletFieldBuilder().getBuilder(index);
      }
      /**
       * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
       *
       * <pre>
       * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragmentOrBuilder getWaveletOrBuilder(
          int index) {
        if (waveletBuilder_ == null) {
          return wavelet_.get(index);  } else {
          return waveletBuilder_.getMessageOrBuilder(index);
        }
      }
      /**
       * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
       *
       * <pre>
       * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
       * </pre>
       */
      public java.util.List<? extends org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragmentOrBuilder> 
           getWaveletOrBuilderList() {
        if (waveletBuilder_ != null) {
          return waveletBuilder_.getMessageOrBuilderList();
        } else {
          return java.util.Collections.unmodifiableList(wavelet_);
        }
      }
      /**
       * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
       *
       * <pre>
       * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment.Builder addWaveletBuilder() {
        return getWaveletFieldBuilder().addBuilder(
            org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment.getDefaultInstance());
      }
      /**
       * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
       *
       * <pre>
       * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment.Builder addWaveletBuilder(
          int index) {
        return getWaveletFieldBuilder().addBuilder(
            index, org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment.getDefaultInstance());
      }
      /**
       * <code>repeated .clientserver.FetchWaveViewResponse.WaveletFragment wavelet = 2;</code>
       *
       * <pre>
       * Snapshots of segments with operations to last seen wavelet version or current wavelet version.
       * </pre>
       */
      public java.util.List<org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment.Builder> 
           getWaveletBuilderList() {
        return getWaveletFieldBuilder().getBuilderList();
      }
      private com.google.protobuf.RepeatedFieldBuilder<
          org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment, org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment.Builder, org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragmentOrBuilder> 
          getWaveletFieldBuilder() {
        if (waveletBuilder_ == null) {
          waveletBuilder_ = new com.google.protobuf.RepeatedFieldBuilder<
              org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment, org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragment.Builder, org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.WaveletFragmentOrBuilder>(
                  wavelet_,
                  ((bitField0_ & 0x00000002) == 0x00000002),
                  getParentForChildren(),
                  isClean());
          wavelet_ = null;
        }
        return waveletBuilder_;
      }

      // @@protoc_insertion_point(builder_scope:clientserver.FetchWaveViewResponse)
    }

    static {
      defaultInstance = new FetchWaveViewResponse(true);
      defaultInstance.initFields();
    }

    // @@protoc_insertion_point(class_scope:clientserver.FetchWaveViewResponse)
  }

  public interface FetchFragmentsRequestOrBuilder
      extends com.google.protobuf.MessageOrBuilder {

    // required string waveletName = 1;
    /**
     * <code>required string waveletName = 1;</code>
     *
     * <pre>
     * Wavelet name to fetch from, URI path format.
     * </pre>
     */
    boolean hasWaveletName();
    /**
     * <code>required string waveletName = 1;</code>
     *
     * <pre>
     * Wavelet name to fetch from, URI path format.
     * </pre>
     */
    java.lang.String getWaveletName();
    /**
     * <code>required string waveletName = 1;</code>
     *
     * <pre>
     * Wavelet name to fetch from, URI path format.
     * </pre>
     */
    com.google.protobuf.ByteString
        getWaveletNameBytes();

    // repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;
    /**
     * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
     *
     * <pre>
     * Segment's to load.
     * </pre>
     */
    java.util.List<org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest> 
        getSegmentList();
    /**
     * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
     *
     * <pre>
     * Segment's to load.
     * </pre>
     */
    org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest getSegment(int index);
    /**
     * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
     *
     * <pre>
     * Segment's to load.
     * </pre>
     */
    int getSegmentCount();
    /**
     * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
     *
     * <pre>
     * Segment's to load.
     * </pre>
     */
    java.util.List<? extends org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequestOrBuilder> 
        getSegmentOrBuilderList();
    /**
     * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
     *
     * <pre>
     * Segment's to load.
     * </pre>
     */
    org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequestOrBuilder getSegmentOrBuilder(
        int index);

    // required int64 endVersion = 3;
    /**
     * <code>required int64 endVersion = 3;</code>
     *
     * <pre>
     * End version.
     * </pre>
     */
    boolean hasEndVersion();
    /**
     * <code>required int64 endVersion = 3;</code>
     *
     * <pre>
     * End version.
     * </pre>
     */
    long getEndVersion();

    // required int32 minReplySize = 4;
    /**
     * <code>required int32 minReplySize = 4;</code>
     *
     * <pre>
     * Minimum reply size.
     * </pre>
     */
    boolean hasMinReplySize();
    /**
     * <code>required int32 minReplySize = 4;</code>
     *
     * <pre>
     * Minimum reply size.
     * </pre>
     */
    int getMinReplySize();

    // required int32 maxReplySize = 5;
    /**
     * <code>required int32 maxReplySize = 5;</code>
     *
     * <pre>
     * Maximum reply size.
     * </pre>
     */
    boolean hasMaxReplySize();
    /**
     * <code>required int32 maxReplySize = 5;</code>
     *
     * <pre>
     * Maximum reply size.
     * </pre>
     */
    int getMaxReplySize();
  }
  /**
   * Protobuf type {@code clientserver.FetchFragmentsRequest}
   */
  public static final class FetchFragmentsRequest extends
      com.google.protobuf.GeneratedMessage
      implements FetchFragmentsRequestOrBuilder {
    // Use FetchFragmentsRequest.newBuilder() to construct.
    private FetchFragmentsRequest(com.google.protobuf.GeneratedMessage.Builder<?> builder) {
      super(builder);
      this.unknownFields = builder.getUnknownFields();
    }
    private FetchFragmentsRequest(boolean noInit) { this.unknownFields = com.google.protobuf.UnknownFieldSet.getDefaultInstance(); }

    private static final FetchFragmentsRequest defaultInstance;
    public static FetchFragmentsRequest getDefaultInstance() {
      return defaultInstance;
    }

    public FetchFragmentsRequest getDefaultInstanceForType() {
      return defaultInstance;
    }

    private final com.google.protobuf.UnknownFieldSet unknownFields;
    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
        getUnknownFields() {
      return this.unknownFields;
    }
    private FetchFragmentsRequest(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      initFields();
      int mutable_bitField0_ = 0;
      com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder();
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!parseUnknownField(input, unknownFields,
                                     extensionRegistry, tag)) {
                done = true;
              }
              break;
            }
            case 10: {
              bitField0_ |= 0x00000001;
              waveletName_ = input.readBytes();
              break;
            }
            case 18: {
              if (!((mutable_bitField0_ & 0x00000002) == 0x00000002)) {
                segment_ = new java.util.ArrayList<org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest>();
                mutable_bitField0_ |= 0x00000002;
              }
              segment_.add(input.readMessage(org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest.PARSER, extensionRegistry));
              break;
            }
            case 24: {
              bitField0_ |= 0x00000002;
              endVersion_ = input.readInt64();
              break;
            }
            case 32: {
              bitField0_ |= 0x00000004;
              minReplySize_ = input.readInt32();
              break;
            }
            case 40: {
              bitField0_ |= 0x00000008;
              maxReplySize_ = input.readInt32();
              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e.getMessage()).setUnfinishedMessage(this);
      } finally {
        if (((mutable_bitField0_ & 0x00000002) == 0x00000002)) {
          segment_ = java.util.Collections.unmodifiableList(segment_);
        }
        this.unknownFields = unknownFields.build();
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchFragmentsRequest_descriptor;
    }

    protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchFragmentsRequest_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.class, org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.Builder.class);
    }

    public static com.google.protobuf.Parser<FetchFragmentsRequest> PARSER =
        new com.google.protobuf.AbstractParser<FetchFragmentsRequest>() {
      public FetchFragmentsRequest parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return new FetchFragmentsRequest(input, extensionRegistry);
      }
    };

    @java.lang.Override
    public com.google.protobuf.Parser<FetchFragmentsRequest> getParserForType() {
      return PARSER;
    }

    public interface SegmentRequestOrBuilder
        extends com.google.protobuf.MessageOrBuilder {

      // required string segmentId = 1;
      /**
       * <code>required string segmentId = 1;</code>
       *
       * <pre>
       * Segment id.
       * </pre>
       */
      boolean hasSegmentId();
      /**
       * <code>required string segmentId = 1;</code>
       *
       * <pre>
       * Segment id.
       * </pre>
       */
      java.lang.String getSegmentId();
      /**
       * <code>required string segmentId = 1;</code>
       *
       * <pre>
       * Segment id.
       * </pre>
       */
      com.google.protobuf.ByteString
          getSegmentIdBytes();

      // required int64 startVersion = 2;
      /**
       * <code>required int64 startVersion = 2;</code>
       *
       * <pre>
       * Start version of segment.
       * </pre>
       */
      boolean hasStartVersion();
      /**
       * <code>required int64 startVersion = 2;</code>
       *
       * <pre>
       * Start version of segment.
       * </pre>
       */
      long getStartVersion();
    }
    /**
     * Protobuf type {@code clientserver.FetchFragmentsRequest.SegmentRequest}
     *
     * <pre>
     ** Segment to load. 
     * </pre>
     */
    public static final class SegmentRequest extends
        com.google.protobuf.GeneratedMessage
        implements SegmentRequestOrBuilder {
      // Use SegmentRequest.newBuilder() to construct.
      private SegmentRequest(com.google.protobuf.GeneratedMessage.Builder<?> builder) {
        super(builder);
        this.unknownFields = builder.getUnknownFields();
      }
      private SegmentRequest(boolean noInit) { this.unknownFields = com.google.protobuf.UnknownFieldSet.getDefaultInstance(); }

      private static final SegmentRequest defaultInstance;
      public static SegmentRequest getDefaultInstance() {
        return defaultInstance;
      }

      public SegmentRequest getDefaultInstanceForType() {
        return defaultInstance;
      }

      private final com.google.protobuf.UnknownFieldSet unknownFields;
      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
          getUnknownFields() {
        return this.unknownFields;
      }
      private SegmentRequest(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        initFields();
        int mutable_bitField0_ = 0;
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              default: {
                if (!parseUnknownField(input, unknownFields,
                                       extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
              case 10: {
                bitField0_ |= 0x00000001;
                segmentId_ = input.readBytes();
                break;
              }
              case 16: {
                bitField0_ |= 0x00000002;
                startVersion_ = input.readInt64();
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e.getMessage()).setUnfinishedMessage(this);
        } finally {
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchFragmentsRequest_SegmentRequest_descriptor;
      }

      protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchFragmentsRequest_SegmentRequest_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest.class, org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest.Builder.class);
      }

      public static com.google.protobuf.Parser<SegmentRequest> PARSER =
          new com.google.protobuf.AbstractParser<SegmentRequest>() {
        public SegmentRequest parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new SegmentRequest(input, extensionRegistry);
        }
      };

      @java.lang.Override
      public com.google.protobuf.Parser<SegmentRequest> getParserForType() {
        return PARSER;
      }

      private int bitField0_;
      // required string segmentId = 1;
      public static final int SEGMENTID_FIELD_NUMBER = 1;
      private java.lang.Object segmentId_;
      /**
       * <code>required string segmentId = 1;</code>
       *
       * <pre>
       * Segment id.
       * </pre>
       */
      public boolean hasSegmentId() {
        return ((bitField0_ & 0x00000001) == 0x00000001);
      }
      /**
       * <code>required string segmentId = 1;</code>
       *
       * <pre>
       * Segment id.
       * </pre>
       */
      public java.lang.String getSegmentId() {
        java.lang.Object ref = segmentId_;
        if (ref instanceof java.lang.String) {
          return (java.lang.String) ref;
        } else {
          com.google.protobuf.ByteString bs = 
              (com.google.protobuf.ByteString) ref;
          java.lang.String s = bs.toStringUtf8();
          if (bs.isValidUtf8()) {
            segmentId_ = s;
          }
          return s;
        }
      }
      /**
       * <code>required string segmentId = 1;</code>
       *
       * <pre>
       * Segment id.
       * </pre>
       */
      public com.google.protobuf.ByteString
          getSegmentIdBytes() {
        java.lang.Object ref = segmentId_;
        if (ref instanceof java.lang.String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          segmentId_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }

      // required int64 startVersion = 2;
      public static final int STARTVERSION_FIELD_NUMBER = 2;
      private long startVersion_;
      /**
       * <code>required int64 startVersion = 2;</code>
       *
       * <pre>
       * Start version of segment.
       * </pre>
       */
      public boolean hasStartVersion() {
        return ((bitField0_ & 0x00000002) == 0x00000002);
      }
      /**
       * <code>required int64 startVersion = 2;</code>
       *
       * <pre>
       * Start version of segment.
       * </pre>
       */
      public long getStartVersion() {
        return startVersion_;
      }

      private void initFields() {
        segmentId_ = "";
        startVersion_ = 0L;
      }
      private byte memoizedIsInitialized = -1;
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized != -1) return isInitialized == 1;

        if (!hasSegmentId()) {
          memoizedIsInitialized = 0;
          return false;
        }
        if (!hasStartVersion()) {
          memoizedIsInitialized = 0;
          return false;
        }
        memoizedIsInitialized = 1;
        return true;
      }

      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        getSerializedSize();
        if (((bitField0_ & 0x00000001) == 0x00000001)) {
          output.writeBytes(1, getSegmentIdBytes());
        }
        if (((bitField0_ & 0x00000002) == 0x00000002)) {
          output.writeInt64(2, startVersion_);
        }
        getUnknownFields().writeTo(output);
      }

      private int memoizedSerializedSize = -1;
      public int getSerializedSize() {
        int size = memoizedSerializedSize;
        if (size != -1) return size;

        size = 0;
        if (((bitField0_ & 0x00000001) == 0x00000001)) {
          size += com.google.protobuf.CodedOutputStream
            .computeBytesSize(1, getSegmentIdBytes());
        }
        if (((bitField0_ & 0x00000002) == 0x00000002)) {
          size += com.google.protobuf.CodedOutputStream
            .computeInt64Size(2, startVersion_);
        }
        size += getUnknownFields().getSerializedSize();
        memoizedSerializedSize = size;
        return size;
      }

      private static final long serialVersionUID = 0L;
      @java.lang.Override
      protected java.lang.Object writeReplace()
          throws java.io.ObjectStreamException {
        return super.writeReplace();
      }

      public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return PARSER.parseFrom(input);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return PARSER.parseFrom(input, extensionRegistry);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return PARSER.parseDelimitedFrom(input);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return PARSER.parseDelimitedFrom(input, extensionRegistry);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return PARSER.parseFrom(input);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return PARSER.parseFrom(input, extensionRegistry);
      }

      public static Builder newBuilder() { return Builder.create(); }
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder(org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest prototype) {
        return newBuilder().mergeFrom(prototype);
      }
      public Builder toBuilder() { return newBuilder(this); }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessage.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code clientserver.FetchFragmentsRequest.SegmentRequest}
       *
       * <pre>
       ** Segment to load. 
       * </pre>
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessage.Builder<Builder>
         implements org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequestOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchFragmentsRequest_SegmentRequest_descriptor;
        }

        protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchFragmentsRequest_SegmentRequest_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest.class, org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest.Builder.class);
        }

        // Construct using org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessage.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders) {
          }
        }
        private static Builder create() {
          return new Builder();
        }

        public Builder clear() {
          super.clear();
          segmentId_ = "";
          bitField0_ = (bitField0_ & ~0x00000001);
          startVersion_ = 0L;
          bitField0_ = (bitField0_ & ~0x00000002);
          return this;
        }

        public Builder clone() {
          return create().mergeFrom(buildPartial());
        }

        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchFragmentsRequest_SegmentRequest_descriptor;
        }

        public org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest getDefaultInstanceForType() {
          return org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest.getDefaultInstance();
        }

        public org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest build() {
          org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        public org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest buildPartial() {
          org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest result = new org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest(this);
          int from_bitField0_ = bitField0_;
          int to_bitField0_ = 0;
          if (((from_bitField0_ & 0x00000001) == 0x00000001)) {
            to_bitField0_ |= 0x00000001;
          }
          result.segmentId_ = segmentId_;
          if (((from_bitField0_ & 0x00000002) == 0x00000002)) {
            to_bitField0_ |= 0x00000002;
          }
          result.startVersion_ = startVersion_;
          result.bitField0_ = to_bitField0_;
          onBuilt();
          return result;
        }

        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest) {
            return mergeFrom((org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest other) {
          if (other == org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest.getDefaultInstance()) return this;
          if (other.hasSegmentId()) {
            bitField0_ |= 0x00000001;
            segmentId_ = other.segmentId_;
            onChanged();
          }
          if (other.hasStartVersion()) {
            setStartVersion(other.getStartVersion());
          }
          this.mergeUnknownFields(other.getUnknownFields());
          return this;
        }

        public final boolean isInitialized() {
          if (!hasSegmentId()) {
            
            return false;
          }
          if (!hasStartVersion()) {
            
            return false;
          }
          return true;
        }

        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest) e.getUnfinishedMessage();
            throw e;
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }
        private int bitField0_;

        // required string segmentId = 1;
        private java.lang.Object segmentId_ = "";
        /**
         * <code>required string segmentId = 1;</code>
         *
         * <pre>
         * Segment id.
         * </pre>
         */
        public boolean hasSegmentId() {
          return ((bitField0_ & 0x00000001) == 0x00000001);
        }
        /**
         * <code>required string segmentId = 1;</code>
         *
         * <pre>
         * Segment id.
         * </pre>
         */
        public java.lang.String getSegmentId() {
          java.lang.Object ref = segmentId_;
          if (!(ref instanceof java.lang.String)) {
            java.lang.String s = ((com.google.protobuf.ByteString) ref)
                .toStringUtf8();
            segmentId_ = s;
            return s;
          } else {
            return (java.lang.String) ref;
          }
        }
        /**
         * <code>required string segmentId = 1;</code>
         *
         * <pre>
         * Segment id.
         * </pre>
         */
        public com.google.protobuf.ByteString
            getSegmentIdBytes() {
          java.lang.Object ref = segmentId_;
          if (ref instanceof String) {
            com.google.protobuf.ByteString b = 
                com.google.protobuf.ByteString.copyFromUtf8(
                    (java.lang.String) ref);
            segmentId_ = b;
            return b;
          } else {
            return (com.google.protobuf.ByteString) ref;
          }
        }
        /**
         * <code>required string segmentId = 1;</code>
         *
         * <pre>
         * Segment id.
         * </pre>
         */
        public Builder setSegmentId(
            java.lang.String value) {
          if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
          segmentId_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>required string segmentId = 1;</code>
         *
         * <pre>
         * Segment id.
         * </pre>
         */
        public Builder clearSegmentId() {
          bitField0_ = (bitField0_ & ~0x00000001);
          segmentId_ = getDefaultInstance().getSegmentId();
          onChanged();
          return this;
        }
        /**
         * <code>required string segmentId = 1;</code>
         *
         * <pre>
         * Segment id.
         * </pre>
         */
        public Builder setSegmentIdBytes(
            com.google.protobuf.ByteString value) {
          if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
          segmentId_ = value;
          onChanged();
          return this;
        }

        // required int64 startVersion = 2;
        private long startVersion_ ;
        /**
         * <code>required int64 startVersion = 2;</code>
         *
         * <pre>
         * Start version of segment.
         * </pre>
         */
        public boolean hasStartVersion() {
          return ((bitField0_ & 0x00000002) == 0x00000002);
        }
        /**
         * <code>required int64 startVersion = 2;</code>
         *
         * <pre>
         * Start version of segment.
         * </pre>
         */
        public long getStartVersion() {
          return startVersion_;
        }
        /**
         * <code>required int64 startVersion = 2;</code>
         *
         * <pre>
         * Start version of segment.
         * </pre>
         */
        public Builder setStartVersion(long value) {
          bitField0_ |= 0x00000002;
          startVersion_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>required int64 startVersion = 2;</code>
         *
         * <pre>
         * Start version of segment.
         * </pre>
         */
        public Builder clearStartVersion() {
          bitField0_ = (bitField0_ & ~0x00000002);
          startVersion_ = 0L;
          onChanged();
          return this;
        }

        // @@protoc_insertion_point(builder_scope:clientserver.FetchFragmentsRequest.SegmentRequest)
      }

      static {
        defaultInstance = new SegmentRequest(true);
        defaultInstance.initFields();
      }

      // @@protoc_insertion_point(class_scope:clientserver.FetchFragmentsRequest.SegmentRequest)
    }

    private int bitField0_;
    // required string waveletName = 1;
    public static final int WAVELETNAME_FIELD_NUMBER = 1;
    private java.lang.Object waveletName_;
    /**
     * <code>required string waveletName = 1;</code>
     *
     * <pre>
     * Wavelet name to fetch from, URI path format.
     * </pre>
     */
    public boolean hasWaveletName() {
      return ((bitField0_ & 0x00000001) == 0x00000001);
    }
    /**
     * <code>required string waveletName = 1;</code>
     *
     * <pre>
     * Wavelet name to fetch from, URI path format.
     * </pre>
     */
    public java.lang.String getWaveletName() {
      java.lang.Object ref = waveletName_;
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        if (bs.isValidUtf8()) {
          waveletName_ = s;
        }
        return s;
      }
    }
    /**
     * <code>required string waveletName = 1;</code>
     *
     * <pre>
     * Wavelet name to fetch from, URI path format.
     * </pre>
     */
    public com.google.protobuf.ByteString
        getWaveletNameBytes() {
      java.lang.Object ref = waveletName_;
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        waveletName_ = b;
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    // repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;
    public static final int SEGMENT_FIELD_NUMBER = 2;
    private java.util.List<org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest> segment_;
    /**
     * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
     *
     * <pre>
     * Segment's to load.
     * </pre>
     */
    public java.util.List<org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest> getSegmentList() {
      return segment_;
    }
    /**
     * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
     *
     * <pre>
     * Segment's to load.
     * </pre>
     */
    public java.util.List<? extends org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequestOrBuilder> 
        getSegmentOrBuilderList() {
      return segment_;
    }
    /**
     * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
     *
     * <pre>
     * Segment's to load.
     * </pre>
     */
    public int getSegmentCount() {
      return segment_.size();
    }
    /**
     * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
     *
     * <pre>
     * Segment's to load.
     * </pre>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest getSegment(int index) {
      return segment_.get(index);
    }
    /**
     * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
     *
     * <pre>
     * Segment's to load.
     * </pre>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequestOrBuilder getSegmentOrBuilder(
        int index) {
      return segment_.get(index);
    }

    // required int64 endVersion = 3;
    public static final int ENDVERSION_FIELD_NUMBER = 3;
    private long endVersion_;
    /**
     * <code>required int64 endVersion = 3;</code>
     *
     * <pre>
     * End version.
     * </pre>
     */
    public boolean hasEndVersion() {
      return ((bitField0_ & 0x00000002) == 0x00000002);
    }
    /**
     * <code>required int64 endVersion = 3;</code>
     *
     * <pre>
     * End version.
     * </pre>
     */
    public long getEndVersion() {
      return endVersion_;
    }

    // required int32 minReplySize = 4;
    public static final int MINREPLYSIZE_FIELD_NUMBER = 4;
    private int minReplySize_;
    /**
     * <code>required int32 minReplySize = 4;</code>
     *
     * <pre>
     * Minimum reply size.
     * </pre>
     */
    public boolean hasMinReplySize() {
      return ((bitField0_ & 0x00000004) == 0x00000004);
    }
    /**
     * <code>required int32 minReplySize = 4;</code>
     *
     * <pre>
     * Minimum reply size.
     * </pre>
     */
    public int getMinReplySize() {
      return minReplySize_;
    }

    // required int32 maxReplySize = 5;
    public static final int MAXREPLYSIZE_FIELD_NUMBER = 5;
    private int maxReplySize_;
    /**
     * <code>required int32 maxReplySize = 5;</code>
     *
     * <pre>
     * Maximum reply size.
     * </pre>
     */
    public boolean hasMaxReplySize() {
      return ((bitField0_ & 0x00000008) == 0x00000008);
    }
    /**
     * <code>required int32 maxReplySize = 5;</code>
     *
     * <pre>
     * Maximum reply size.
     * </pre>
     */
    public int getMaxReplySize() {
      return maxReplySize_;
    }

    private void initFields() {
      waveletName_ = "";
      segment_ = java.util.Collections.emptyList();
      endVersion_ = 0L;
      minReplySize_ = 0;
      maxReplySize_ = 0;
    }
    private byte memoizedIsInitialized = -1;
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized != -1) return isInitialized == 1;

      if (!hasWaveletName()) {
        memoizedIsInitialized = 0;
        return false;
      }
      if (!hasEndVersion()) {
        memoizedIsInitialized = 0;
        return false;
      }
      if (!hasMinReplySize()) {
        memoizedIsInitialized = 0;
        return false;
      }
      if (!hasMaxReplySize()) {
        memoizedIsInitialized = 0;
        return false;
      }
      for (int i = 0; i < getSegmentCount(); i++) {
        if (!getSegment(i).isInitialized()) {
          memoizedIsInitialized = 0;
          return false;
        }
      }
      memoizedIsInitialized = 1;
      return true;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        output.writeBytes(1, getWaveletNameBytes());
      }
      for (int i = 0; i < segment_.size(); i++) {
        output.writeMessage(2, segment_.get(i));
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        output.writeInt64(3, endVersion_);
      }
      if (((bitField0_ & 0x00000004) == 0x00000004)) {
        output.writeInt32(4, minReplySize_);
      }
      if (((bitField0_ & 0x00000008) == 0x00000008)) {
        output.writeInt32(5, maxReplySize_);
      }
      getUnknownFields().writeTo(output);
    }

    private int memoizedSerializedSize = -1;
    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;

      size = 0;
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(1, getWaveletNameBytes());
      }
      for (int i = 0; i < segment_.size(); i++) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(2, segment_.get(i));
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt64Size(3, endVersion_);
      }
      if (((bitField0_ & 0x00000004) == 0x00000004)) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt32Size(4, minReplySize_);
      }
      if (((bitField0_ & 0x00000008) == 0x00000008)) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt32Size(5, maxReplySize_);
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }

    private static final long serialVersionUID = 0L;
    @java.lang.Override
    protected java.lang.Object writeReplace()
        throws java.io.ObjectStreamException {
      return super.writeReplace();
    }

    public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }

    public static Builder newBuilder() { return Builder.create(); }
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder(org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest prototype) {
      return newBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() { return newBuilder(this); }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessage.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * Protobuf type {@code clientserver.FetchFragmentsRequest}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessage.Builder<Builder>
       implements org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequestOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchFragmentsRequest_descriptor;
      }

      protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchFragmentsRequest_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.class, org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.Builder.class);
      }

      // Construct using org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessage.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders) {
          getSegmentFieldBuilder();
        }
      }
      private static Builder create() {
        return new Builder();
      }

      public Builder clear() {
        super.clear();
        waveletName_ = "";
        bitField0_ = (bitField0_ & ~0x00000001);
        if (segmentBuilder_ == null) {
          segment_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000002);
        } else {
          segmentBuilder_.clear();
        }
        endVersion_ = 0L;
        bitField0_ = (bitField0_ & ~0x00000004);
        minReplySize_ = 0;
        bitField0_ = (bitField0_ & ~0x00000008);
        maxReplySize_ = 0;
        bitField0_ = (bitField0_ & ~0x00000010);
        return this;
      }

      public Builder clone() {
        return create().mergeFrom(buildPartial());
      }

      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchFragmentsRequest_descriptor;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest getDefaultInstanceForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.getDefaultInstance();
      }

      public org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest build() {
        org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest buildPartial() {
        org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest result = new org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest(this);
        int from_bitField0_ = bitField0_;
        int to_bitField0_ = 0;
        if (((from_bitField0_ & 0x00000001) == 0x00000001)) {
          to_bitField0_ |= 0x00000001;
        }
        result.waveletName_ = waveletName_;
        if (segmentBuilder_ == null) {
          if (((bitField0_ & 0x00000002) == 0x00000002)) {
            segment_ = java.util.Collections.unmodifiableList(segment_);
            bitField0_ = (bitField0_ & ~0x00000002);
          }
          result.segment_ = segment_;
        } else {
          result.segment_ = segmentBuilder_.build();
        }
        if (((from_bitField0_ & 0x00000004) == 0x00000004)) {
          to_bitField0_ |= 0x00000002;
        }
        result.endVersion_ = endVersion_;
        if (((from_bitField0_ & 0x00000008) == 0x00000008)) {
          to_bitField0_ |= 0x00000004;
        }
        result.minReplySize_ = minReplySize_;
        if (((from_bitField0_ & 0x00000010) == 0x00000010)) {
          to_bitField0_ |= 0x00000008;
        }
        result.maxReplySize_ = maxReplySize_;
        result.bitField0_ = to_bitField0_;
        onBuilt();
        return result;
      }

      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest) {
          return mergeFrom((org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest other) {
        if (other == org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.getDefaultInstance()) return this;
        if (other.hasWaveletName()) {
          bitField0_ |= 0x00000001;
          waveletName_ = other.waveletName_;
          onChanged();
        }
        if (segmentBuilder_ == null) {
          if (!other.segment_.isEmpty()) {
            if (segment_.isEmpty()) {
              segment_ = other.segment_;
              bitField0_ = (bitField0_ & ~0x00000002);
            } else {
              ensureSegmentIsMutable();
              segment_.addAll(other.segment_);
            }
            onChanged();
          }
        } else {
          if (!other.segment_.isEmpty()) {
            if (segmentBuilder_.isEmpty()) {
              segmentBuilder_.dispose();
              segmentBuilder_ = null;
              segment_ = other.segment_;
              bitField0_ = (bitField0_ & ~0x00000002);
              segmentBuilder_ = 
                com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders ?
                   getSegmentFieldBuilder() : null;
            } else {
              segmentBuilder_.addAllMessages(other.segment_);
            }
          }
        }
        if (other.hasEndVersion()) {
          setEndVersion(other.getEndVersion());
        }
        if (other.hasMinReplySize()) {
          setMinReplySize(other.getMinReplySize());
        }
        if (other.hasMaxReplySize()) {
          setMaxReplySize(other.getMaxReplySize());
        }
        this.mergeUnknownFields(other.getUnknownFields());
        return this;
      }

      public final boolean isInitialized() {
        if (!hasWaveletName()) {
          
          return false;
        }
        if (!hasEndVersion()) {
          
          return false;
        }
        if (!hasMinReplySize()) {
          
          return false;
        }
        if (!hasMaxReplySize()) {
          
          return false;
        }
        for (int i = 0; i < getSegmentCount(); i++) {
          if (!getSegment(i).isInitialized()) {
            
            return false;
          }
        }
        return true;
      }

      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest) e.getUnfinishedMessage();
          throw e;
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }
      private int bitField0_;

      // required string waveletName = 1;
      private java.lang.Object waveletName_ = "";
      /**
       * <code>required string waveletName = 1;</code>
       *
       * <pre>
       * Wavelet name to fetch from, URI path format.
       * </pre>
       */
      public boolean hasWaveletName() {
        return ((bitField0_ & 0x00000001) == 0x00000001);
      }
      /**
       * <code>required string waveletName = 1;</code>
       *
       * <pre>
       * Wavelet name to fetch from, URI path format.
       * </pre>
       */
      public java.lang.String getWaveletName() {
        java.lang.Object ref = waveletName_;
        if (!(ref instanceof java.lang.String)) {
          java.lang.String s = ((com.google.protobuf.ByteString) ref)
              .toStringUtf8();
          waveletName_ = s;
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <code>required string waveletName = 1;</code>
       *
       * <pre>
       * Wavelet name to fetch from, URI path format.
       * </pre>
       */
      public com.google.protobuf.ByteString
          getWaveletNameBytes() {
        java.lang.Object ref = waveletName_;
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          waveletName_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <code>required string waveletName = 1;</code>
       *
       * <pre>
       * Wavelet name to fetch from, URI path format.
       * </pre>
       */
      public Builder setWaveletName(
          java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
        waveletName_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>required string waveletName = 1;</code>
       *
       * <pre>
       * Wavelet name to fetch from, URI path format.
       * </pre>
       */
      public Builder clearWaveletName() {
        bitField0_ = (bitField0_ & ~0x00000001);
        waveletName_ = getDefaultInstance().getWaveletName();
        onChanged();
        return this;
      }
      /**
       * <code>required string waveletName = 1;</code>
       *
       * <pre>
       * Wavelet name to fetch from, URI path format.
       * </pre>
       */
      public Builder setWaveletNameBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
        waveletName_ = value;
        onChanged();
        return this;
      }

      // repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;
      private java.util.List<org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest> segment_ =
        java.util.Collections.emptyList();
      private void ensureSegmentIsMutable() {
        if (!((bitField0_ & 0x00000002) == 0x00000002)) {
          segment_ = new java.util.ArrayList<org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest>(segment_);
          bitField0_ |= 0x00000002;
         }
      }

      private com.google.protobuf.RepeatedFieldBuilder<
          org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest, org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest.Builder, org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequestOrBuilder> segmentBuilder_;

      /**
       * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
       *
       * <pre>
       * Segment's to load.
       * </pre>
       */
      public java.util.List<org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest> getSegmentList() {
        if (segmentBuilder_ == null) {
          return java.util.Collections.unmodifiableList(segment_);
        } else {
          return segmentBuilder_.getMessageList();
        }
      }
      /**
       * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
       *
       * <pre>
       * Segment's to load.
       * </pre>
       */
      public int getSegmentCount() {
        if (segmentBuilder_ == null) {
          return segment_.size();
        } else {
          return segmentBuilder_.getCount();
        }
      }
      /**
       * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
       *
       * <pre>
       * Segment's to load.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest getSegment(int index) {
        if (segmentBuilder_ == null) {
          return segment_.get(index);
        } else {
          return segmentBuilder_.getMessage(index);
        }
      }
      /**
       * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
       *
       * <pre>
       * Segment's to load.
       * </pre>
       */
      public Builder setSegment(
          int index, org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest value) {
        if (segmentBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureSegmentIsMutable();
          segment_.set(index, value);
          onChanged();
        } else {
          segmentBuilder_.setMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
       *
       * <pre>
       * Segment's to load.
       * </pre>
       */
      public Builder setSegment(
          int index, org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest.Builder builderForValue) {
        if (segmentBuilder_ == null) {
          ensureSegmentIsMutable();
          segment_.set(index, builderForValue.build());
          onChanged();
        } else {
          segmentBuilder_.setMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
       *
       * <pre>
       * Segment's to load.
       * </pre>
       */
      public Builder addSegment(org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest value) {
        if (segmentBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureSegmentIsMutable();
          segment_.add(value);
          onChanged();
        } else {
          segmentBuilder_.addMessage(value);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
       *
       * <pre>
       * Segment's to load.
       * </pre>
       */
      public Builder addSegment(
          int index, org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest value) {
        if (segmentBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureSegmentIsMutable();
          segment_.add(index, value);
          onChanged();
        } else {
          segmentBuilder_.addMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
       *
       * <pre>
       * Segment's to load.
       * </pre>
       */
      public Builder addSegment(
          org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest.Builder builderForValue) {
        if (segmentBuilder_ == null) {
          ensureSegmentIsMutable();
          segment_.add(builderForValue.build());
          onChanged();
        } else {
          segmentBuilder_.addMessage(builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
       *
       * <pre>
       * Segment's to load.
       * </pre>
       */
      public Builder addSegment(
          int index, org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest.Builder builderForValue) {
        if (segmentBuilder_ == null) {
          ensureSegmentIsMutable();
          segment_.add(index, builderForValue.build());
          onChanged();
        } else {
          segmentBuilder_.addMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
       *
       * <pre>
       * Segment's to load.
       * </pre>
       */
      public Builder addAllSegment(
          java.lang.Iterable<? extends org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest> values) {
        if (segmentBuilder_ == null) {
          ensureSegmentIsMutable();
          super.addAll(values, segment_);
          onChanged();
        } else {
          segmentBuilder_.addAllMessages(values);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
       *
       * <pre>
       * Segment's to load.
       * </pre>
       */
      public Builder clearSegment() {
        if (segmentBuilder_ == null) {
          segment_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000002);
          onChanged();
        } else {
          segmentBuilder_.clear();
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
       *
       * <pre>
       * Segment's to load.
       * </pre>
       */
      public Builder removeSegment(int index) {
        if (segmentBuilder_ == null) {
          ensureSegmentIsMutable();
          segment_.remove(index);
          onChanged();
        } else {
          segmentBuilder_.remove(index);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
       *
       * <pre>
       * Segment's to load.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest.Builder getSegmentBuilder(
          int index) {
        return getSegmentFieldBuilder().getBuilder(index);
      }
      /**
       * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
       *
       * <pre>
       * Segment's to load.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequestOrBuilder getSegmentOrBuilder(
          int index) {
        if (segmentBuilder_ == null) {
          return segment_.get(index);  } else {
          return segmentBuilder_.getMessageOrBuilder(index);
        }
      }
      /**
       * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
       *
       * <pre>
       * Segment's to load.
       * </pre>
       */
      public java.util.List<? extends org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequestOrBuilder> 
           getSegmentOrBuilderList() {
        if (segmentBuilder_ != null) {
          return segmentBuilder_.getMessageOrBuilderList();
        } else {
          return java.util.Collections.unmodifiableList(segment_);
        }
      }
      /**
       * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
       *
       * <pre>
       * Segment's to load.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest.Builder addSegmentBuilder() {
        return getSegmentFieldBuilder().addBuilder(
            org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest.getDefaultInstance());
      }
      /**
       * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
       *
       * <pre>
       * Segment's to load.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest.Builder addSegmentBuilder(
          int index) {
        return getSegmentFieldBuilder().addBuilder(
            index, org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest.getDefaultInstance());
      }
      /**
       * <code>repeated .clientserver.FetchFragmentsRequest.SegmentRequest segment = 2;</code>
       *
       * <pre>
       * Segment's to load.
       * </pre>
       */
      public java.util.List<org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest.Builder> 
           getSegmentBuilderList() {
        return getSegmentFieldBuilder().getBuilderList();
      }
      private com.google.protobuf.RepeatedFieldBuilder<
          org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest, org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest.Builder, org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequestOrBuilder> 
          getSegmentFieldBuilder() {
        if (segmentBuilder_ == null) {
          segmentBuilder_ = new com.google.protobuf.RepeatedFieldBuilder<
              org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest, org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequest.Builder, org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.SegmentRequestOrBuilder>(
                  segment_,
                  ((bitField0_ & 0x00000002) == 0x00000002),
                  getParentForChildren(),
                  isClean());
          segment_ = null;
        }
        return segmentBuilder_;
      }

      // required int64 endVersion = 3;
      private long endVersion_ ;
      /**
       * <code>required int64 endVersion = 3;</code>
       *
       * <pre>
       * End version.
       * </pre>
       */
      public boolean hasEndVersion() {
        return ((bitField0_ & 0x00000004) == 0x00000004);
      }
      /**
       * <code>required int64 endVersion = 3;</code>
       *
       * <pre>
       * End version.
       * </pre>
       */
      public long getEndVersion() {
        return endVersion_;
      }
      /**
       * <code>required int64 endVersion = 3;</code>
       *
       * <pre>
       * End version.
       * </pre>
       */
      public Builder setEndVersion(long value) {
        bitField0_ |= 0x00000004;
        endVersion_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>required int64 endVersion = 3;</code>
       *
       * <pre>
       * End version.
       * </pre>
       */
      public Builder clearEndVersion() {
        bitField0_ = (bitField0_ & ~0x00000004);
        endVersion_ = 0L;
        onChanged();
        return this;
      }

      // required int32 minReplySize = 4;
      private int minReplySize_ ;
      /**
       * <code>required int32 minReplySize = 4;</code>
       *
       * <pre>
       * Minimum reply size.
       * </pre>
       */
      public boolean hasMinReplySize() {
        return ((bitField0_ & 0x00000008) == 0x00000008);
      }
      /**
       * <code>required int32 minReplySize = 4;</code>
       *
       * <pre>
       * Minimum reply size.
       * </pre>
       */
      public int getMinReplySize() {
        return minReplySize_;
      }
      /**
       * <code>required int32 minReplySize = 4;</code>
       *
       * <pre>
       * Minimum reply size.
       * </pre>
       */
      public Builder setMinReplySize(int value) {
        bitField0_ |= 0x00000008;
        minReplySize_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>required int32 minReplySize = 4;</code>
       *
       * <pre>
       * Minimum reply size.
       * </pre>
       */
      public Builder clearMinReplySize() {
        bitField0_ = (bitField0_ & ~0x00000008);
        minReplySize_ = 0;
        onChanged();
        return this;
      }

      // required int32 maxReplySize = 5;
      private int maxReplySize_ ;
      /**
       * <code>required int32 maxReplySize = 5;</code>
       *
       * <pre>
       * Maximum reply size.
       * </pre>
       */
      public boolean hasMaxReplySize() {
        return ((bitField0_ & 0x00000010) == 0x00000010);
      }
      /**
       * <code>required int32 maxReplySize = 5;</code>
       *
       * <pre>
       * Maximum reply size.
       * </pre>
       */
      public int getMaxReplySize() {
        return maxReplySize_;
      }
      /**
       * <code>required int32 maxReplySize = 5;</code>
       *
       * <pre>
       * Maximum reply size.
       * </pre>
       */
      public Builder setMaxReplySize(int value) {
        bitField0_ |= 0x00000010;
        maxReplySize_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>required int32 maxReplySize = 5;</code>
       *
       * <pre>
       * Maximum reply size.
       * </pre>
       */
      public Builder clearMaxReplySize() {
        bitField0_ = (bitField0_ & ~0x00000010);
        maxReplySize_ = 0;
        onChanged();
        return this;
      }

      // @@protoc_insertion_point(builder_scope:clientserver.FetchFragmentsRequest)
    }

    static {
      defaultInstance = new FetchFragmentsRequest(true);
      defaultInstance.initFields();
    }

    // @@protoc_insertion_point(class_scope:clientserver.FetchFragmentsRequest)
  }

  public interface FetchFragmentsResponseOrBuilder
      extends com.google.protobuf.MessageOrBuilder {

    // required .clientserver.ResponseStatus status = 1;
    /**
     * <code>required .clientserver.ResponseStatus status = 1;</code>
     */
    boolean hasStatus();
    /**
     * <code>required .clientserver.ResponseStatus status = 1;</code>
     */
    org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus getStatus();
    /**
     * <code>required .clientserver.ResponseStatus status = 1;</code>
     */
    org.waveprotocol.wave.clientserver.ClientServer.ResponseStatusOrBuilder getStatusOrBuilder();

    // repeated .clientserver.SegmentFragment fragment = 2;
    /**
     * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
     *
     * <pre>
     * Blips.
     * </pre>
     */
    java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment> 
        getFragmentList();
    /**
     * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
     *
     * <pre>
     * Blips.
     * </pre>
     */
    org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment getFragment(int index);
    /**
     * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
     *
     * <pre>
     * Blips.
     * </pre>
     */
    int getFragmentCount();
    /**
     * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
     *
     * <pre>
     * Blips.
     * </pre>
     */
    java.util.List<? extends org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder> 
        getFragmentOrBuilderList();
    /**
     * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
     *
     * <pre>
     * Blips.
     * </pre>
     */
    org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder getFragmentOrBuilder(
        int index);
  }
  /**
   * Protobuf type {@code clientserver.FetchFragmentsResponse}
   */
  public static final class FetchFragmentsResponse extends
      com.google.protobuf.GeneratedMessage
      implements FetchFragmentsResponseOrBuilder {
    // Use FetchFragmentsResponse.newBuilder() to construct.
    private FetchFragmentsResponse(com.google.protobuf.GeneratedMessage.Builder<?> builder) {
      super(builder);
      this.unknownFields = builder.getUnknownFields();
    }
    private FetchFragmentsResponse(boolean noInit) { this.unknownFields = com.google.protobuf.UnknownFieldSet.getDefaultInstance(); }

    private static final FetchFragmentsResponse defaultInstance;
    public static FetchFragmentsResponse getDefaultInstance() {
      return defaultInstance;
    }

    public FetchFragmentsResponse getDefaultInstanceForType() {
      return defaultInstance;
    }

    private final com.google.protobuf.UnknownFieldSet unknownFields;
    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
        getUnknownFields() {
      return this.unknownFields;
    }
    private FetchFragmentsResponse(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      initFields();
      int mutable_bitField0_ = 0;
      com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder();
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!parseUnknownField(input, unknownFields,
                                     extensionRegistry, tag)) {
                done = true;
              }
              break;
            }
            case 10: {
              org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.Builder subBuilder = null;
              if (((bitField0_ & 0x00000001) == 0x00000001)) {
                subBuilder = status_.toBuilder();
              }
              status_ = input.readMessage(org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.PARSER, extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(status_);
                status_ = subBuilder.buildPartial();
              }
              bitField0_ |= 0x00000001;
              break;
            }
            case 18: {
              if (!((mutable_bitField0_ & 0x00000002) == 0x00000002)) {
                fragment_ = new java.util.ArrayList<org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment>();
                mutable_bitField0_ |= 0x00000002;
              }
              fragment_.add(input.readMessage(org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.PARSER, extensionRegistry));
              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e.getMessage()).setUnfinishedMessage(this);
      } finally {
        if (((mutable_bitField0_ & 0x00000002) == 0x00000002)) {
          fragment_ = java.util.Collections.unmodifiableList(fragment_);
        }
        this.unknownFields = unknownFields.build();
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchFragmentsResponse_descriptor;
    }

    protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchFragmentsResponse_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse.class, org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse.Builder.class);
    }

    public static com.google.protobuf.Parser<FetchFragmentsResponse> PARSER =
        new com.google.protobuf.AbstractParser<FetchFragmentsResponse>() {
      public FetchFragmentsResponse parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return new FetchFragmentsResponse(input, extensionRegistry);
      }
    };

    @java.lang.Override
    public com.google.protobuf.Parser<FetchFragmentsResponse> getParserForType() {
      return PARSER;
    }

    private int bitField0_;
    // required .clientserver.ResponseStatus status = 1;
    public static final int STATUS_FIELD_NUMBER = 1;
    private org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus status_;
    /**
     * <code>required .clientserver.ResponseStatus status = 1;</code>
     */
    public boolean hasStatus() {
      return ((bitField0_ & 0x00000001) == 0x00000001);
    }
    /**
     * <code>required .clientserver.ResponseStatus status = 1;</code>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus getStatus() {
      return status_;
    }
    /**
     * <code>required .clientserver.ResponseStatus status = 1;</code>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.ResponseStatusOrBuilder getStatusOrBuilder() {
      return status_;
    }

    // repeated .clientserver.SegmentFragment fragment = 2;
    public static final int FRAGMENT_FIELD_NUMBER = 2;
    private java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment> fragment_;
    /**
     * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
     *
     * <pre>
     * Blips.
     * </pre>
     */
    public java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment> getFragmentList() {
      return fragment_;
    }
    /**
     * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
     *
     * <pre>
     * Blips.
     * </pre>
     */
    public java.util.List<? extends org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder> 
        getFragmentOrBuilderList() {
      return fragment_;
    }
    /**
     * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
     *
     * <pre>
     * Blips.
     * </pre>
     */
    public int getFragmentCount() {
      return fragment_.size();
    }
    /**
     * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
     *
     * <pre>
     * Blips.
     * </pre>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment getFragment(int index) {
      return fragment_.get(index);
    }
    /**
     * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
     *
     * <pre>
     * Blips.
     * </pre>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder getFragmentOrBuilder(
        int index) {
      return fragment_.get(index);
    }

    private void initFields() {
      status_ = org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.getDefaultInstance();
      fragment_ = java.util.Collections.emptyList();
    }
    private byte memoizedIsInitialized = -1;
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized != -1) return isInitialized == 1;

      if (!hasStatus()) {
        memoizedIsInitialized = 0;
        return false;
      }
      if (!getStatus().isInitialized()) {
        memoizedIsInitialized = 0;
        return false;
      }
      for (int i = 0; i < getFragmentCount(); i++) {
        if (!getFragment(i).isInitialized()) {
          memoizedIsInitialized = 0;
          return false;
        }
      }
      memoizedIsInitialized = 1;
      return true;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        output.writeMessage(1, status_);
      }
      for (int i = 0; i < fragment_.size(); i++) {
        output.writeMessage(2, fragment_.get(i));
      }
      getUnknownFields().writeTo(output);
    }

    private int memoizedSerializedSize = -1;
    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;

      size = 0;
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(1, status_);
      }
      for (int i = 0; i < fragment_.size(); i++) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(2, fragment_.get(i));
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }

    private static final long serialVersionUID = 0L;
    @java.lang.Override
    protected java.lang.Object writeReplace()
        throws java.io.ObjectStreamException {
      return super.writeReplace();
    }

    public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }

    public static Builder newBuilder() { return Builder.create(); }
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder(org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse prototype) {
      return newBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() { return newBuilder(this); }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessage.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * Protobuf type {@code clientserver.FetchFragmentsResponse}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessage.Builder<Builder>
       implements org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponseOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchFragmentsResponse_descriptor;
      }

      protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchFragmentsResponse_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse.class, org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse.Builder.class);
      }

      // Construct using org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessage.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders) {
          getStatusFieldBuilder();
          getFragmentFieldBuilder();
        }
      }
      private static Builder create() {
        return new Builder();
      }

      public Builder clear() {
        super.clear();
        if (statusBuilder_ == null) {
          status_ = org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.getDefaultInstance();
        } else {
          statusBuilder_.clear();
        }
        bitField0_ = (bitField0_ & ~0x00000001);
        if (fragmentBuilder_ == null) {
          fragment_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000002);
        } else {
          fragmentBuilder_.clear();
        }
        return this;
      }

      public Builder clone() {
        return create().mergeFrom(buildPartial());
      }

      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_FetchFragmentsResponse_descriptor;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse getDefaultInstanceForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse.getDefaultInstance();
      }

      public org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse build() {
        org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse buildPartial() {
        org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse result = new org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse(this);
        int from_bitField0_ = bitField0_;
        int to_bitField0_ = 0;
        if (((from_bitField0_ & 0x00000001) == 0x00000001)) {
          to_bitField0_ |= 0x00000001;
        }
        if (statusBuilder_ == null) {
          result.status_ = status_;
        } else {
          result.status_ = statusBuilder_.build();
        }
        if (fragmentBuilder_ == null) {
          if (((bitField0_ & 0x00000002) == 0x00000002)) {
            fragment_ = java.util.Collections.unmodifiableList(fragment_);
            bitField0_ = (bitField0_ & ~0x00000002);
          }
          result.fragment_ = fragment_;
        } else {
          result.fragment_ = fragmentBuilder_.build();
        }
        result.bitField0_ = to_bitField0_;
        onBuilt();
        return result;
      }

      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse) {
          return mergeFrom((org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse other) {
        if (other == org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse.getDefaultInstance()) return this;
        if (other.hasStatus()) {
          mergeStatus(other.getStatus());
        }
        if (fragmentBuilder_ == null) {
          if (!other.fragment_.isEmpty()) {
            if (fragment_.isEmpty()) {
              fragment_ = other.fragment_;
              bitField0_ = (bitField0_ & ~0x00000002);
            } else {
              ensureFragmentIsMutable();
              fragment_.addAll(other.fragment_);
            }
            onChanged();
          }
        } else {
          if (!other.fragment_.isEmpty()) {
            if (fragmentBuilder_.isEmpty()) {
              fragmentBuilder_.dispose();
              fragmentBuilder_ = null;
              fragment_ = other.fragment_;
              bitField0_ = (bitField0_ & ~0x00000002);
              fragmentBuilder_ = 
                com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders ?
                   getFragmentFieldBuilder() : null;
            } else {
              fragmentBuilder_.addAllMessages(other.fragment_);
            }
          }
        }
        this.mergeUnknownFields(other.getUnknownFields());
        return this;
      }

      public final boolean isInitialized() {
        if (!hasStatus()) {
          
          return false;
        }
        if (!getStatus().isInitialized()) {
          
          return false;
        }
        for (int i = 0; i < getFragmentCount(); i++) {
          if (!getFragment(i).isInitialized()) {
            
            return false;
          }
        }
        return true;
      }

      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse) e.getUnfinishedMessage();
          throw e;
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }
      private int bitField0_;

      // required .clientserver.ResponseStatus status = 1;
      private org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus status_ = org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.getDefaultInstance();
      private com.google.protobuf.SingleFieldBuilder<
          org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus, org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.Builder, org.waveprotocol.wave.clientserver.ClientServer.ResponseStatusOrBuilder> statusBuilder_;
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public boolean hasStatus() {
        return ((bitField0_ & 0x00000001) == 0x00000001);
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus getStatus() {
        if (statusBuilder_ == null) {
          return status_;
        } else {
          return statusBuilder_.getMessage();
        }
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public Builder setStatus(org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus value) {
        if (statusBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          status_ = value;
          onChanged();
        } else {
          statusBuilder_.setMessage(value);
        }
        bitField0_ |= 0x00000001;
        return this;
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public Builder setStatus(
          org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.Builder builderForValue) {
        if (statusBuilder_ == null) {
          status_ = builderForValue.build();
          onChanged();
        } else {
          statusBuilder_.setMessage(builderForValue.build());
        }
        bitField0_ |= 0x00000001;
        return this;
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public Builder mergeStatus(org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus value) {
        if (statusBuilder_ == null) {
          if (((bitField0_ & 0x00000001) == 0x00000001) &&
              status_ != org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.getDefaultInstance()) {
            status_ =
              org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.newBuilder(status_).mergeFrom(value).buildPartial();
          } else {
            status_ = value;
          }
          onChanged();
        } else {
          statusBuilder_.mergeFrom(value);
        }
        bitField0_ |= 0x00000001;
        return this;
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public Builder clearStatus() {
        if (statusBuilder_ == null) {
          status_ = org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.getDefaultInstance();
          onChanged();
        } else {
          statusBuilder_.clear();
        }
        bitField0_ = (bitField0_ & ~0x00000001);
        return this;
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.Builder getStatusBuilder() {
        bitField0_ |= 0x00000001;
        onChanged();
        return getStatusFieldBuilder().getBuilder();
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.ResponseStatusOrBuilder getStatusOrBuilder() {
        if (statusBuilder_ != null) {
          return statusBuilder_.getMessageOrBuilder();
        } else {
          return status_;
        }
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      private com.google.protobuf.SingleFieldBuilder<
          org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus, org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.Builder, org.waveprotocol.wave.clientserver.ClientServer.ResponseStatusOrBuilder> 
          getStatusFieldBuilder() {
        if (statusBuilder_ == null) {
          statusBuilder_ = new com.google.protobuf.SingleFieldBuilder<
              org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus, org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.Builder, org.waveprotocol.wave.clientserver.ClientServer.ResponseStatusOrBuilder>(
                  status_,
                  getParentForChildren(),
                  isClean());
          status_ = null;
        }
        return statusBuilder_;
      }

      // repeated .clientserver.SegmentFragment fragment = 2;
      private java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment> fragment_ =
        java.util.Collections.emptyList();
      private void ensureFragmentIsMutable() {
        if (!((bitField0_ & 0x00000002) == 0x00000002)) {
          fragment_ = new java.util.ArrayList<org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment>(fragment_);
          bitField0_ |= 0x00000002;
         }
      }

      private com.google.protobuf.RepeatedFieldBuilder<
          org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder> fragmentBuilder_;

      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Blips.
       * </pre>
       */
      public java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment> getFragmentList() {
        if (fragmentBuilder_ == null) {
          return java.util.Collections.unmodifiableList(fragment_);
        } else {
          return fragmentBuilder_.getMessageList();
        }
      }
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Blips.
       * </pre>
       */
      public int getFragmentCount() {
        if (fragmentBuilder_ == null) {
          return fragment_.size();
        } else {
          return fragmentBuilder_.getCount();
        }
      }
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Blips.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment getFragment(int index) {
        if (fragmentBuilder_ == null) {
          return fragment_.get(index);
        } else {
          return fragmentBuilder_.getMessage(index);
        }
      }
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Blips.
       * </pre>
       */
      public Builder setFragment(
          int index, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment value) {
        if (fragmentBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureFragmentIsMutable();
          fragment_.set(index, value);
          onChanged();
        } else {
          fragmentBuilder_.setMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Blips.
       * </pre>
       */
      public Builder setFragment(
          int index, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder builderForValue) {
        if (fragmentBuilder_ == null) {
          ensureFragmentIsMutable();
          fragment_.set(index, builderForValue.build());
          onChanged();
        } else {
          fragmentBuilder_.setMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Blips.
       * </pre>
       */
      public Builder addFragment(org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment value) {
        if (fragmentBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureFragmentIsMutable();
          fragment_.add(value);
          onChanged();
        } else {
          fragmentBuilder_.addMessage(value);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Blips.
       * </pre>
       */
      public Builder addFragment(
          int index, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment value) {
        if (fragmentBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureFragmentIsMutable();
          fragment_.add(index, value);
          onChanged();
        } else {
          fragmentBuilder_.addMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Blips.
       * </pre>
       */
      public Builder addFragment(
          org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder builderForValue) {
        if (fragmentBuilder_ == null) {
          ensureFragmentIsMutable();
          fragment_.add(builderForValue.build());
          onChanged();
        } else {
          fragmentBuilder_.addMessage(builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Blips.
       * </pre>
       */
      public Builder addFragment(
          int index, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder builderForValue) {
        if (fragmentBuilder_ == null) {
          ensureFragmentIsMutable();
          fragment_.add(index, builderForValue.build());
          onChanged();
        } else {
          fragmentBuilder_.addMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Blips.
       * </pre>
       */
      public Builder addAllFragment(
          java.lang.Iterable<? extends org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment> values) {
        if (fragmentBuilder_ == null) {
          ensureFragmentIsMutable();
          super.addAll(values, fragment_);
          onChanged();
        } else {
          fragmentBuilder_.addAllMessages(values);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Blips.
       * </pre>
       */
      public Builder clearFragment() {
        if (fragmentBuilder_ == null) {
          fragment_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000002);
          onChanged();
        } else {
          fragmentBuilder_.clear();
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Blips.
       * </pre>
       */
      public Builder removeFragment(int index) {
        if (fragmentBuilder_ == null) {
          ensureFragmentIsMutable();
          fragment_.remove(index);
          onChanged();
        } else {
          fragmentBuilder_.remove(index);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Blips.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder getFragmentBuilder(
          int index) {
        return getFragmentFieldBuilder().getBuilder(index);
      }
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Blips.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder getFragmentOrBuilder(
          int index) {
        if (fragmentBuilder_ == null) {
          return fragment_.get(index);  } else {
          return fragmentBuilder_.getMessageOrBuilder(index);
        }
      }
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Blips.
       * </pre>
       */
      public java.util.List<? extends org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder> 
           getFragmentOrBuilderList() {
        if (fragmentBuilder_ != null) {
          return fragmentBuilder_.getMessageOrBuilderList();
        } else {
          return java.util.Collections.unmodifiableList(fragment_);
        }
      }
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Blips.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder addFragmentBuilder() {
        return getFragmentFieldBuilder().addBuilder(
            org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.getDefaultInstance());
      }
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Blips.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder addFragmentBuilder(
          int index) {
        return getFragmentFieldBuilder().addBuilder(
            index, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.getDefaultInstance());
      }
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Blips.
       * </pre>
       */
      public java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder> 
           getFragmentBuilderList() {
        return getFragmentFieldBuilder().getBuilderList();
      }
      private com.google.protobuf.RepeatedFieldBuilder<
          org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder> 
          getFragmentFieldBuilder() {
        if (fragmentBuilder_ == null) {
          fragmentBuilder_ = new com.google.protobuf.RepeatedFieldBuilder<
              org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder>(
                  fragment_,
                  ((bitField0_ & 0x00000002) == 0x00000002),
                  getParentForChildren(),
                  isClean());
          fragment_ = null;
        }
        return fragmentBuilder_;
      }

      // @@protoc_insertion_point(builder_scope:clientserver.FetchFragmentsResponse)
    }

    static {
      defaultInstance = new FetchFragmentsResponse(true);
      defaultInstance.initFields();
    }

    // @@protoc_insertion_point(class_scope:clientserver.FetchFragmentsResponse)
  }

  public interface SegmentFragmentOrBuilder
      extends com.google.protobuf.MessageOrBuilder {

    // required string segmentId = 1;
    /**
     * <code>required string segmentId = 1;</code>
     *
     * <pre>
     * Segment's Id.
     * </pre>
     */
    boolean hasSegmentId();
    /**
     * <code>required string segmentId = 1;</code>
     *
     * <pre>
     * Segment's Id.
     * </pre>
     */
    java.lang.String getSegmentId();
    /**
     * <code>required string segmentId = 1;</code>
     *
     * <pre>
     * Segment's Id.
     * </pre>
     */
    com.google.protobuf.ByteString
        getSegmentIdBytes();

    // optional .clientserver.SegmentSnapshot segmentSnapshot = 2;
    /**
     * <code>optional .clientserver.SegmentSnapshot segmentSnapshot = 2;</code>
     *
     * <pre>
     * Segment's snapshot.
     * </pre>
     */
    boolean hasSegmentSnapshot();
    /**
     * <code>optional .clientserver.SegmentSnapshot segmentSnapshot = 2;</code>
     *
     * <pre>
     * Segment's snapshot.
     * </pre>
     */
    org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot getSegmentSnapshot();
    /**
     * <code>optional .clientserver.SegmentSnapshot segmentSnapshot = 2;</code>
     *
     * <pre>
     * Segment's snapshot.
     * </pre>
     */
    org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshotOrBuilder getSegmentSnapshotOrBuilder();

    // repeated .clientserver.SegmentOperation adjustOperation = 3;
    /**
     * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
     *
     * <pre>
     * Operations that transforms snapshot to the begining state.
     * </pre>
     */
    java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation> 
        getAdjustOperationList();
    /**
     * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
     *
     * <pre>
     * Operations that transforms snapshot to the begining state.
     * </pre>
     */
    org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation getAdjustOperation(int index);
    /**
     * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
     *
     * <pre>
     * Operations that transforms snapshot to the begining state.
     * </pre>
     */
    int getAdjustOperationCount();
    /**
     * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
     *
     * <pre>
     * Operations that transforms snapshot to the begining state.
     * </pre>
     */
    java.util.List<? extends org.waveprotocol.wave.clientserver.ClientServer.SegmentOperationOrBuilder> 
        getAdjustOperationOrBuilderList();
    /**
     * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
     *
     * <pre>
     * Operations that transforms snapshot to the begining state.
     * </pre>
     */
    org.waveprotocol.wave.clientserver.ClientServer.SegmentOperationOrBuilder getAdjustOperationOrBuilder(
        int index);

    // repeated .clientserver.SegmentOperation diffOperation = 4;
    /**
     * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
     *
     * <pre>
     * Operations that transforms snapshot to the end state.
     * </pre>
     */
    java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation> 
        getDiffOperationList();
    /**
     * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
     *
     * <pre>
     * Operations that transforms snapshot to the end state.
     * </pre>
     */
    org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation getDiffOperation(int index);
    /**
     * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
     *
     * <pre>
     * Operations that transforms snapshot to the end state.
     * </pre>
     */
    int getDiffOperationCount();
    /**
     * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
     *
     * <pre>
     * Operations that transforms snapshot to the end state.
     * </pre>
     */
    java.util.List<? extends org.waveprotocol.wave.clientserver.ClientServer.SegmentOperationOrBuilder> 
        getDiffOperationOrBuilderList();
    /**
     * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
     *
     * <pre>
     * Operations that transforms snapshot to the end state.
     * </pre>
     */
    org.waveprotocol.wave.clientserver.ClientServer.SegmentOperationOrBuilder getDiffOperationOrBuilder(
        int index);
  }
  /**
   * Protobuf type {@code clientserver.SegmentFragment}
   *
   * <pre>
   ** A fragment of segment. 
   * </pre>
   */
  public static final class SegmentFragment extends
      com.google.protobuf.GeneratedMessage
      implements SegmentFragmentOrBuilder {
    // Use SegmentFragment.newBuilder() to construct.
    private SegmentFragment(com.google.protobuf.GeneratedMessage.Builder<?> builder) {
      super(builder);
      this.unknownFields = builder.getUnknownFields();
    }
    private SegmentFragment(boolean noInit) { this.unknownFields = com.google.protobuf.UnknownFieldSet.getDefaultInstance(); }

    private static final SegmentFragment defaultInstance;
    public static SegmentFragment getDefaultInstance() {
      return defaultInstance;
    }

    public SegmentFragment getDefaultInstanceForType() {
      return defaultInstance;
    }

    private final com.google.protobuf.UnknownFieldSet unknownFields;
    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
        getUnknownFields() {
      return this.unknownFields;
    }
    private SegmentFragment(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      initFields();
      int mutable_bitField0_ = 0;
      com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder();
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!parseUnknownField(input, unknownFields,
                                     extensionRegistry, tag)) {
                done = true;
              }
              break;
            }
            case 10: {
              bitField0_ |= 0x00000001;
              segmentId_ = input.readBytes();
              break;
            }
            case 18: {
              org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot.Builder subBuilder = null;
              if (((bitField0_ & 0x00000002) == 0x00000002)) {
                subBuilder = segmentSnapshot_.toBuilder();
              }
              segmentSnapshot_ = input.readMessage(org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot.PARSER, extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(segmentSnapshot_);
                segmentSnapshot_ = subBuilder.buildPartial();
              }
              bitField0_ |= 0x00000002;
              break;
            }
            case 26: {
              if (!((mutable_bitField0_ & 0x00000004) == 0x00000004)) {
                adjustOperation_ = new java.util.ArrayList<org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation>();
                mutable_bitField0_ |= 0x00000004;
              }
              adjustOperation_.add(input.readMessage(org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.PARSER, extensionRegistry));
              break;
            }
            case 34: {
              if (!((mutable_bitField0_ & 0x00000008) == 0x00000008)) {
                diffOperation_ = new java.util.ArrayList<org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation>();
                mutable_bitField0_ |= 0x00000008;
              }
              diffOperation_.add(input.readMessage(org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.PARSER, extensionRegistry));
              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e.getMessage()).setUnfinishedMessage(this);
      } finally {
        if (((mutable_bitField0_ & 0x00000004) == 0x00000004)) {
          adjustOperation_ = java.util.Collections.unmodifiableList(adjustOperation_);
        }
        if (((mutable_bitField0_ & 0x00000008) == 0x00000008)) {
          diffOperation_ = java.util.Collections.unmodifiableList(diffOperation_);
        }
        this.unknownFields = unknownFields.build();
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_SegmentFragment_descriptor;
    }

    protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_SegmentFragment_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.class, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder.class);
    }

    public static com.google.protobuf.Parser<SegmentFragment> PARSER =
        new com.google.protobuf.AbstractParser<SegmentFragment>() {
      public SegmentFragment parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return new SegmentFragment(input, extensionRegistry);
      }
    };

    @java.lang.Override
    public com.google.protobuf.Parser<SegmentFragment> getParserForType() {
      return PARSER;
    }

    private int bitField0_;
    // required string segmentId = 1;
    public static final int SEGMENTID_FIELD_NUMBER = 1;
    private java.lang.Object segmentId_;
    /**
     * <code>required string segmentId = 1;</code>
     *
     * <pre>
     * Segment's Id.
     * </pre>
     */
    public boolean hasSegmentId() {
      return ((bitField0_ & 0x00000001) == 0x00000001);
    }
    /**
     * <code>required string segmentId = 1;</code>
     *
     * <pre>
     * Segment's Id.
     * </pre>
     */
    public java.lang.String getSegmentId() {
      java.lang.Object ref = segmentId_;
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        if (bs.isValidUtf8()) {
          segmentId_ = s;
        }
        return s;
      }
    }
    /**
     * <code>required string segmentId = 1;</code>
     *
     * <pre>
     * Segment's Id.
     * </pre>
     */
    public com.google.protobuf.ByteString
        getSegmentIdBytes() {
      java.lang.Object ref = segmentId_;
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        segmentId_ = b;
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    // optional .clientserver.SegmentSnapshot segmentSnapshot = 2;
    public static final int SEGMENTSNAPSHOT_FIELD_NUMBER = 2;
    private org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot segmentSnapshot_;
    /**
     * <code>optional .clientserver.SegmentSnapshot segmentSnapshot = 2;</code>
     *
     * <pre>
     * Segment's snapshot.
     * </pre>
     */
    public boolean hasSegmentSnapshot() {
      return ((bitField0_ & 0x00000002) == 0x00000002);
    }
    /**
     * <code>optional .clientserver.SegmentSnapshot segmentSnapshot = 2;</code>
     *
     * <pre>
     * Segment's snapshot.
     * </pre>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot getSegmentSnapshot() {
      return segmentSnapshot_;
    }
    /**
     * <code>optional .clientserver.SegmentSnapshot segmentSnapshot = 2;</code>
     *
     * <pre>
     * Segment's snapshot.
     * </pre>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshotOrBuilder getSegmentSnapshotOrBuilder() {
      return segmentSnapshot_;
    }

    // repeated .clientserver.SegmentOperation adjustOperation = 3;
    public static final int ADJUSTOPERATION_FIELD_NUMBER = 3;
    private java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation> adjustOperation_;
    /**
     * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
     *
     * <pre>
     * Operations that transforms snapshot to the begining state.
     * </pre>
     */
    public java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation> getAdjustOperationList() {
      return adjustOperation_;
    }
    /**
     * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
     *
     * <pre>
     * Operations that transforms snapshot to the begining state.
     * </pre>
     */
    public java.util.List<? extends org.waveprotocol.wave.clientserver.ClientServer.SegmentOperationOrBuilder> 
        getAdjustOperationOrBuilderList() {
      return adjustOperation_;
    }
    /**
     * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
     *
     * <pre>
     * Operations that transforms snapshot to the begining state.
     * </pre>
     */
    public int getAdjustOperationCount() {
      return adjustOperation_.size();
    }
    /**
     * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
     *
     * <pre>
     * Operations that transforms snapshot to the begining state.
     * </pre>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation getAdjustOperation(int index) {
      return adjustOperation_.get(index);
    }
    /**
     * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
     *
     * <pre>
     * Operations that transforms snapshot to the begining state.
     * </pre>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.SegmentOperationOrBuilder getAdjustOperationOrBuilder(
        int index) {
      return adjustOperation_.get(index);
    }

    // repeated .clientserver.SegmentOperation diffOperation = 4;
    public static final int DIFFOPERATION_FIELD_NUMBER = 4;
    private java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation> diffOperation_;
    /**
     * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
     *
     * <pre>
     * Operations that transforms snapshot to the end state.
     * </pre>
     */
    public java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation> getDiffOperationList() {
      return diffOperation_;
    }
    /**
     * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
     *
     * <pre>
     * Operations that transforms snapshot to the end state.
     * </pre>
     */
    public java.util.List<? extends org.waveprotocol.wave.clientserver.ClientServer.SegmentOperationOrBuilder> 
        getDiffOperationOrBuilderList() {
      return diffOperation_;
    }
    /**
     * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
     *
     * <pre>
     * Operations that transforms snapshot to the end state.
     * </pre>
     */
    public int getDiffOperationCount() {
      return diffOperation_.size();
    }
    /**
     * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
     *
     * <pre>
     * Operations that transforms snapshot to the end state.
     * </pre>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation getDiffOperation(int index) {
      return diffOperation_.get(index);
    }
    /**
     * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
     *
     * <pre>
     * Operations that transforms snapshot to the end state.
     * </pre>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.SegmentOperationOrBuilder getDiffOperationOrBuilder(
        int index) {
      return diffOperation_.get(index);
    }

    private void initFields() {
      segmentId_ = "";
      segmentSnapshot_ = org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot.getDefaultInstance();
      adjustOperation_ = java.util.Collections.emptyList();
      diffOperation_ = java.util.Collections.emptyList();
    }
    private byte memoizedIsInitialized = -1;
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized != -1) return isInitialized == 1;

      if (!hasSegmentId()) {
        memoizedIsInitialized = 0;
        return false;
      }
      if (hasSegmentSnapshot()) {
        if (!getSegmentSnapshot().isInitialized()) {
          memoizedIsInitialized = 0;
          return false;
        }
      }
      for (int i = 0; i < getAdjustOperationCount(); i++) {
        if (!getAdjustOperation(i).isInitialized()) {
          memoizedIsInitialized = 0;
          return false;
        }
      }
      for (int i = 0; i < getDiffOperationCount(); i++) {
        if (!getDiffOperation(i).isInitialized()) {
          memoizedIsInitialized = 0;
          return false;
        }
      }
      memoizedIsInitialized = 1;
      return true;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        output.writeBytes(1, getSegmentIdBytes());
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        output.writeMessage(2, segmentSnapshot_);
      }
      for (int i = 0; i < adjustOperation_.size(); i++) {
        output.writeMessage(3, adjustOperation_.get(i));
      }
      for (int i = 0; i < diffOperation_.size(); i++) {
        output.writeMessage(4, diffOperation_.get(i));
      }
      getUnknownFields().writeTo(output);
    }

    private int memoizedSerializedSize = -1;
    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;

      size = 0;
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(1, getSegmentIdBytes());
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(2, segmentSnapshot_);
      }
      for (int i = 0; i < adjustOperation_.size(); i++) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(3, adjustOperation_.get(i));
      }
      for (int i = 0; i < diffOperation_.size(); i++) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(4, diffOperation_.get(i));
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }

    private static final long serialVersionUID = 0L;
    @java.lang.Override
    protected java.lang.Object writeReplace()
        throws java.io.ObjectStreamException {
      return super.writeReplace();
    }

    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }

    public static Builder newBuilder() { return Builder.create(); }
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder(org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment prototype) {
      return newBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() { return newBuilder(this); }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessage.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * Protobuf type {@code clientserver.SegmentFragment}
     *
     * <pre>
     ** A fragment of segment. 
     * </pre>
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessage.Builder<Builder>
       implements org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_SegmentFragment_descriptor;
      }

      protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_SegmentFragment_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.class, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder.class);
      }

      // Construct using org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessage.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders) {
          getSegmentSnapshotFieldBuilder();
          getAdjustOperationFieldBuilder();
          getDiffOperationFieldBuilder();
        }
      }
      private static Builder create() {
        return new Builder();
      }

      public Builder clear() {
        super.clear();
        segmentId_ = "";
        bitField0_ = (bitField0_ & ~0x00000001);
        if (segmentSnapshotBuilder_ == null) {
          segmentSnapshot_ = org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot.getDefaultInstance();
        } else {
          segmentSnapshotBuilder_.clear();
        }
        bitField0_ = (bitField0_ & ~0x00000002);
        if (adjustOperationBuilder_ == null) {
          adjustOperation_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000004);
        } else {
          adjustOperationBuilder_.clear();
        }
        if (diffOperationBuilder_ == null) {
          diffOperation_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000008);
        } else {
          diffOperationBuilder_.clear();
        }
        return this;
      }

      public Builder clone() {
        return create().mergeFrom(buildPartial());
      }

      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_SegmentFragment_descriptor;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment getDefaultInstanceForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.getDefaultInstance();
      }

      public org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment build() {
        org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment buildPartial() {
        org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment result = new org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment(this);
        int from_bitField0_ = bitField0_;
        int to_bitField0_ = 0;
        if (((from_bitField0_ & 0x00000001) == 0x00000001)) {
          to_bitField0_ |= 0x00000001;
        }
        result.segmentId_ = segmentId_;
        if (((from_bitField0_ & 0x00000002) == 0x00000002)) {
          to_bitField0_ |= 0x00000002;
        }
        if (segmentSnapshotBuilder_ == null) {
          result.segmentSnapshot_ = segmentSnapshot_;
        } else {
          result.segmentSnapshot_ = segmentSnapshotBuilder_.build();
        }
        if (adjustOperationBuilder_ == null) {
          if (((bitField0_ & 0x00000004) == 0x00000004)) {
            adjustOperation_ = java.util.Collections.unmodifiableList(adjustOperation_);
            bitField0_ = (bitField0_ & ~0x00000004);
          }
          result.adjustOperation_ = adjustOperation_;
        } else {
          result.adjustOperation_ = adjustOperationBuilder_.build();
        }
        if (diffOperationBuilder_ == null) {
          if (((bitField0_ & 0x00000008) == 0x00000008)) {
            diffOperation_ = java.util.Collections.unmodifiableList(diffOperation_);
            bitField0_ = (bitField0_ & ~0x00000008);
          }
          result.diffOperation_ = diffOperation_;
        } else {
          result.diffOperation_ = diffOperationBuilder_.build();
        }
        result.bitField0_ = to_bitField0_;
        onBuilt();
        return result;
      }

      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment) {
          return mergeFrom((org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment other) {
        if (other == org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.getDefaultInstance()) return this;
        if (other.hasSegmentId()) {
          bitField0_ |= 0x00000001;
          segmentId_ = other.segmentId_;
          onChanged();
        }
        if (other.hasSegmentSnapshot()) {
          mergeSegmentSnapshot(other.getSegmentSnapshot());
        }
        if (adjustOperationBuilder_ == null) {
          if (!other.adjustOperation_.isEmpty()) {
            if (adjustOperation_.isEmpty()) {
              adjustOperation_ = other.adjustOperation_;
              bitField0_ = (bitField0_ & ~0x00000004);
            } else {
              ensureAdjustOperationIsMutable();
              adjustOperation_.addAll(other.adjustOperation_);
            }
            onChanged();
          }
        } else {
          if (!other.adjustOperation_.isEmpty()) {
            if (adjustOperationBuilder_.isEmpty()) {
              adjustOperationBuilder_.dispose();
              adjustOperationBuilder_ = null;
              adjustOperation_ = other.adjustOperation_;
              bitField0_ = (bitField0_ & ~0x00000004);
              adjustOperationBuilder_ = 
                com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders ?
                   getAdjustOperationFieldBuilder() : null;
            } else {
              adjustOperationBuilder_.addAllMessages(other.adjustOperation_);
            }
          }
        }
        if (diffOperationBuilder_ == null) {
          if (!other.diffOperation_.isEmpty()) {
            if (diffOperation_.isEmpty()) {
              diffOperation_ = other.diffOperation_;
              bitField0_ = (bitField0_ & ~0x00000008);
            } else {
              ensureDiffOperationIsMutable();
              diffOperation_.addAll(other.diffOperation_);
            }
            onChanged();
          }
        } else {
          if (!other.diffOperation_.isEmpty()) {
            if (diffOperationBuilder_.isEmpty()) {
              diffOperationBuilder_.dispose();
              diffOperationBuilder_ = null;
              diffOperation_ = other.diffOperation_;
              bitField0_ = (bitField0_ & ~0x00000008);
              diffOperationBuilder_ = 
                com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders ?
                   getDiffOperationFieldBuilder() : null;
            } else {
              diffOperationBuilder_.addAllMessages(other.diffOperation_);
            }
          }
        }
        this.mergeUnknownFields(other.getUnknownFields());
        return this;
      }

      public final boolean isInitialized() {
        if (!hasSegmentId()) {
          
          return false;
        }
        if (hasSegmentSnapshot()) {
          if (!getSegmentSnapshot().isInitialized()) {
            
            return false;
          }
        }
        for (int i = 0; i < getAdjustOperationCount(); i++) {
          if (!getAdjustOperation(i).isInitialized()) {
            
            return false;
          }
        }
        for (int i = 0; i < getDiffOperationCount(); i++) {
          if (!getDiffOperation(i).isInitialized()) {
            
            return false;
          }
        }
        return true;
      }

      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment) e.getUnfinishedMessage();
          throw e;
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }
      private int bitField0_;

      // required string segmentId = 1;
      private java.lang.Object segmentId_ = "";
      /**
       * <code>required string segmentId = 1;</code>
       *
       * <pre>
       * Segment's Id.
       * </pre>
       */
      public boolean hasSegmentId() {
        return ((bitField0_ & 0x00000001) == 0x00000001);
      }
      /**
       * <code>required string segmentId = 1;</code>
       *
       * <pre>
       * Segment's Id.
       * </pre>
       */
      public java.lang.String getSegmentId() {
        java.lang.Object ref = segmentId_;
        if (!(ref instanceof java.lang.String)) {
          java.lang.String s = ((com.google.protobuf.ByteString) ref)
              .toStringUtf8();
          segmentId_ = s;
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <code>required string segmentId = 1;</code>
       *
       * <pre>
       * Segment's Id.
       * </pre>
       */
      public com.google.protobuf.ByteString
          getSegmentIdBytes() {
        java.lang.Object ref = segmentId_;
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          segmentId_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <code>required string segmentId = 1;</code>
       *
       * <pre>
       * Segment's Id.
       * </pre>
       */
      public Builder setSegmentId(
          java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
        segmentId_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>required string segmentId = 1;</code>
       *
       * <pre>
       * Segment's Id.
       * </pre>
       */
      public Builder clearSegmentId() {
        bitField0_ = (bitField0_ & ~0x00000001);
        segmentId_ = getDefaultInstance().getSegmentId();
        onChanged();
        return this;
      }
      /**
       * <code>required string segmentId = 1;</code>
       *
       * <pre>
       * Segment's Id.
       * </pre>
       */
      public Builder setSegmentIdBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
        segmentId_ = value;
        onChanged();
        return this;
      }

      // optional .clientserver.SegmentSnapshot segmentSnapshot = 2;
      private org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot segmentSnapshot_ = org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot.getDefaultInstance();
      private com.google.protobuf.SingleFieldBuilder<
          org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot, org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot.Builder, org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshotOrBuilder> segmentSnapshotBuilder_;
      /**
       * <code>optional .clientserver.SegmentSnapshot segmentSnapshot = 2;</code>
       *
       * <pre>
       * Segment's snapshot.
       * </pre>
       */
      public boolean hasSegmentSnapshot() {
        return ((bitField0_ & 0x00000002) == 0x00000002);
      }
      /**
       * <code>optional .clientserver.SegmentSnapshot segmentSnapshot = 2;</code>
       *
       * <pre>
       * Segment's snapshot.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot getSegmentSnapshot() {
        if (segmentSnapshotBuilder_ == null) {
          return segmentSnapshot_;
        } else {
          return segmentSnapshotBuilder_.getMessage();
        }
      }
      /**
       * <code>optional .clientserver.SegmentSnapshot segmentSnapshot = 2;</code>
       *
       * <pre>
       * Segment's snapshot.
       * </pre>
       */
      public Builder setSegmentSnapshot(org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot value) {
        if (segmentSnapshotBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          segmentSnapshot_ = value;
          onChanged();
        } else {
          segmentSnapshotBuilder_.setMessage(value);
        }
        bitField0_ |= 0x00000002;
        return this;
      }
      /**
       * <code>optional .clientserver.SegmentSnapshot segmentSnapshot = 2;</code>
       *
       * <pre>
       * Segment's snapshot.
       * </pre>
       */
      public Builder setSegmentSnapshot(
          org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot.Builder builderForValue) {
        if (segmentSnapshotBuilder_ == null) {
          segmentSnapshot_ = builderForValue.build();
          onChanged();
        } else {
          segmentSnapshotBuilder_.setMessage(builderForValue.build());
        }
        bitField0_ |= 0x00000002;
        return this;
      }
      /**
       * <code>optional .clientserver.SegmentSnapshot segmentSnapshot = 2;</code>
       *
       * <pre>
       * Segment's snapshot.
       * </pre>
       */
      public Builder mergeSegmentSnapshot(org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot value) {
        if (segmentSnapshotBuilder_ == null) {
          if (((bitField0_ & 0x00000002) == 0x00000002) &&
              segmentSnapshot_ != org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot.getDefaultInstance()) {
            segmentSnapshot_ =
              org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot.newBuilder(segmentSnapshot_).mergeFrom(value).buildPartial();
          } else {
            segmentSnapshot_ = value;
          }
          onChanged();
        } else {
          segmentSnapshotBuilder_.mergeFrom(value);
        }
        bitField0_ |= 0x00000002;
        return this;
      }
      /**
       * <code>optional .clientserver.SegmentSnapshot segmentSnapshot = 2;</code>
       *
       * <pre>
       * Segment's snapshot.
       * </pre>
       */
      public Builder clearSegmentSnapshot() {
        if (segmentSnapshotBuilder_ == null) {
          segmentSnapshot_ = org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot.getDefaultInstance();
          onChanged();
        } else {
          segmentSnapshotBuilder_.clear();
        }
        bitField0_ = (bitField0_ & ~0x00000002);
        return this;
      }
      /**
       * <code>optional .clientserver.SegmentSnapshot segmentSnapshot = 2;</code>
       *
       * <pre>
       * Segment's snapshot.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot.Builder getSegmentSnapshotBuilder() {
        bitField0_ |= 0x00000002;
        onChanged();
        return getSegmentSnapshotFieldBuilder().getBuilder();
      }
      /**
       * <code>optional .clientserver.SegmentSnapshot segmentSnapshot = 2;</code>
       *
       * <pre>
       * Segment's snapshot.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshotOrBuilder getSegmentSnapshotOrBuilder() {
        if (segmentSnapshotBuilder_ != null) {
          return segmentSnapshotBuilder_.getMessageOrBuilder();
        } else {
          return segmentSnapshot_;
        }
      }
      /**
       * <code>optional .clientserver.SegmentSnapshot segmentSnapshot = 2;</code>
       *
       * <pre>
       * Segment's snapshot.
       * </pre>
       */
      private com.google.protobuf.SingleFieldBuilder<
          org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot, org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot.Builder, org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshotOrBuilder> 
          getSegmentSnapshotFieldBuilder() {
        if (segmentSnapshotBuilder_ == null) {
          segmentSnapshotBuilder_ = new com.google.protobuf.SingleFieldBuilder<
              org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot, org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot.Builder, org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshotOrBuilder>(
                  segmentSnapshot_,
                  getParentForChildren(),
                  isClean());
          segmentSnapshot_ = null;
        }
        return segmentSnapshotBuilder_;
      }

      // repeated .clientserver.SegmentOperation adjustOperation = 3;
      private java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation> adjustOperation_ =
        java.util.Collections.emptyList();
      private void ensureAdjustOperationIsMutable() {
        if (!((bitField0_ & 0x00000004) == 0x00000004)) {
          adjustOperation_ = new java.util.ArrayList<org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation>(adjustOperation_);
          bitField0_ |= 0x00000004;
         }
      }

      private com.google.protobuf.RepeatedFieldBuilder<
          org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation, org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.Builder, org.waveprotocol.wave.clientserver.ClientServer.SegmentOperationOrBuilder> adjustOperationBuilder_;

      /**
       * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the begining state.
       * </pre>
       */
      public java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation> getAdjustOperationList() {
        if (adjustOperationBuilder_ == null) {
          return java.util.Collections.unmodifiableList(adjustOperation_);
        } else {
          return adjustOperationBuilder_.getMessageList();
        }
      }
      /**
       * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the begining state.
       * </pre>
       */
      public int getAdjustOperationCount() {
        if (adjustOperationBuilder_ == null) {
          return adjustOperation_.size();
        } else {
          return adjustOperationBuilder_.getCount();
        }
      }
      /**
       * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the begining state.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation getAdjustOperation(int index) {
        if (adjustOperationBuilder_ == null) {
          return adjustOperation_.get(index);
        } else {
          return adjustOperationBuilder_.getMessage(index);
        }
      }
      /**
       * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the begining state.
       * </pre>
       */
      public Builder setAdjustOperation(
          int index, org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation value) {
        if (adjustOperationBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureAdjustOperationIsMutable();
          adjustOperation_.set(index, value);
          onChanged();
        } else {
          adjustOperationBuilder_.setMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the begining state.
       * </pre>
       */
      public Builder setAdjustOperation(
          int index, org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.Builder builderForValue) {
        if (adjustOperationBuilder_ == null) {
          ensureAdjustOperationIsMutable();
          adjustOperation_.set(index, builderForValue.build());
          onChanged();
        } else {
          adjustOperationBuilder_.setMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the begining state.
       * </pre>
       */
      public Builder addAdjustOperation(org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation value) {
        if (adjustOperationBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureAdjustOperationIsMutable();
          adjustOperation_.add(value);
          onChanged();
        } else {
          adjustOperationBuilder_.addMessage(value);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the begining state.
       * </pre>
       */
      public Builder addAdjustOperation(
          int index, org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation value) {
        if (adjustOperationBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureAdjustOperationIsMutable();
          adjustOperation_.add(index, value);
          onChanged();
        } else {
          adjustOperationBuilder_.addMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the begining state.
       * </pre>
       */
      public Builder addAdjustOperation(
          org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.Builder builderForValue) {
        if (adjustOperationBuilder_ == null) {
          ensureAdjustOperationIsMutable();
          adjustOperation_.add(builderForValue.build());
          onChanged();
        } else {
          adjustOperationBuilder_.addMessage(builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the begining state.
       * </pre>
       */
      public Builder addAdjustOperation(
          int index, org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.Builder builderForValue) {
        if (adjustOperationBuilder_ == null) {
          ensureAdjustOperationIsMutable();
          adjustOperation_.add(index, builderForValue.build());
          onChanged();
        } else {
          adjustOperationBuilder_.addMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the begining state.
       * </pre>
       */
      public Builder addAllAdjustOperation(
          java.lang.Iterable<? extends org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation> values) {
        if (adjustOperationBuilder_ == null) {
          ensureAdjustOperationIsMutable();
          super.addAll(values, adjustOperation_);
          onChanged();
        } else {
          adjustOperationBuilder_.addAllMessages(values);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the begining state.
       * </pre>
       */
      public Builder clearAdjustOperation() {
        if (adjustOperationBuilder_ == null) {
          adjustOperation_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000004);
          onChanged();
        } else {
          adjustOperationBuilder_.clear();
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the begining state.
       * </pre>
       */
      public Builder removeAdjustOperation(int index) {
        if (adjustOperationBuilder_ == null) {
          ensureAdjustOperationIsMutable();
          adjustOperation_.remove(index);
          onChanged();
        } else {
          adjustOperationBuilder_.remove(index);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the begining state.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.Builder getAdjustOperationBuilder(
          int index) {
        return getAdjustOperationFieldBuilder().getBuilder(index);
      }
      /**
       * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the begining state.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.SegmentOperationOrBuilder getAdjustOperationOrBuilder(
          int index) {
        if (adjustOperationBuilder_ == null) {
          return adjustOperation_.get(index);  } else {
          return adjustOperationBuilder_.getMessageOrBuilder(index);
        }
      }
      /**
       * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the begining state.
       * </pre>
       */
      public java.util.List<? extends org.waveprotocol.wave.clientserver.ClientServer.SegmentOperationOrBuilder> 
           getAdjustOperationOrBuilderList() {
        if (adjustOperationBuilder_ != null) {
          return adjustOperationBuilder_.getMessageOrBuilderList();
        } else {
          return java.util.Collections.unmodifiableList(adjustOperation_);
        }
      }
      /**
       * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the begining state.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.Builder addAdjustOperationBuilder() {
        return getAdjustOperationFieldBuilder().addBuilder(
            org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.getDefaultInstance());
      }
      /**
       * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the begining state.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.Builder addAdjustOperationBuilder(
          int index) {
        return getAdjustOperationFieldBuilder().addBuilder(
            index, org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.getDefaultInstance());
      }
      /**
       * <code>repeated .clientserver.SegmentOperation adjustOperation = 3;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the begining state.
       * </pre>
       */
      public java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.Builder> 
           getAdjustOperationBuilderList() {
        return getAdjustOperationFieldBuilder().getBuilderList();
      }
      private com.google.protobuf.RepeatedFieldBuilder<
          org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation, org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.Builder, org.waveprotocol.wave.clientserver.ClientServer.SegmentOperationOrBuilder> 
          getAdjustOperationFieldBuilder() {
        if (adjustOperationBuilder_ == null) {
          adjustOperationBuilder_ = new com.google.protobuf.RepeatedFieldBuilder<
              org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation, org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.Builder, org.waveprotocol.wave.clientserver.ClientServer.SegmentOperationOrBuilder>(
                  adjustOperation_,
                  ((bitField0_ & 0x00000004) == 0x00000004),
                  getParentForChildren(),
                  isClean());
          adjustOperation_ = null;
        }
        return adjustOperationBuilder_;
      }

      // repeated .clientserver.SegmentOperation diffOperation = 4;
      private java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation> diffOperation_ =
        java.util.Collections.emptyList();
      private void ensureDiffOperationIsMutable() {
        if (!((bitField0_ & 0x00000008) == 0x00000008)) {
          diffOperation_ = new java.util.ArrayList<org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation>(diffOperation_);
          bitField0_ |= 0x00000008;
         }
      }

      private com.google.protobuf.RepeatedFieldBuilder<
          org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation, org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.Builder, org.waveprotocol.wave.clientserver.ClientServer.SegmentOperationOrBuilder> diffOperationBuilder_;

      /**
       * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the end state.
       * </pre>
       */
      public java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation> getDiffOperationList() {
        if (diffOperationBuilder_ == null) {
          return java.util.Collections.unmodifiableList(diffOperation_);
        } else {
          return diffOperationBuilder_.getMessageList();
        }
      }
      /**
       * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the end state.
       * </pre>
       */
      public int getDiffOperationCount() {
        if (diffOperationBuilder_ == null) {
          return diffOperation_.size();
        } else {
          return diffOperationBuilder_.getCount();
        }
      }
      /**
       * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the end state.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation getDiffOperation(int index) {
        if (diffOperationBuilder_ == null) {
          return diffOperation_.get(index);
        } else {
          return diffOperationBuilder_.getMessage(index);
        }
      }
      /**
       * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the end state.
       * </pre>
       */
      public Builder setDiffOperation(
          int index, org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation value) {
        if (diffOperationBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureDiffOperationIsMutable();
          diffOperation_.set(index, value);
          onChanged();
        } else {
          diffOperationBuilder_.setMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the end state.
       * </pre>
       */
      public Builder setDiffOperation(
          int index, org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.Builder builderForValue) {
        if (diffOperationBuilder_ == null) {
          ensureDiffOperationIsMutable();
          diffOperation_.set(index, builderForValue.build());
          onChanged();
        } else {
          diffOperationBuilder_.setMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the end state.
       * </pre>
       */
      public Builder addDiffOperation(org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation value) {
        if (diffOperationBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureDiffOperationIsMutable();
          diffOperation_.add(value);
          onChanged();
        } else {
          diffOperationBuilder_.addMessage(value);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the end state.
       * </pre>
       */
      public Builder addDiffOperation(
          int index, org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation value) {
        if (diffOperationBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureDiffOperationIsMutable();
          diffOperation_.add(index, value);
          onChanged();
        } else {
          diffOperationBuilder_.addMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the end state.
       * </pre>
       */
      public Builder addDiffOperation(
          org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.Builder builderForValue) {
        if (diffOperationBuilder_ == null) {
          ensureDiffOperationIsMutable();
          diffOperation_.add(builderForValue.build());
          onChanged();
        } else {
          diffOperationBuilder_.addMessage(builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the end state.
       * </pre>
       */
      public Builder addDiffOperation(
          int index, org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.Builder builderForValue) {
        if (diffOperationBuilder_ == null) {
          ensureDiffOperationIsMutable();
          diffOperation_.add(index, builderForValue.build());
          onChanged();
        } else {
          diffOperationBuilder_.addMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the end state.
       * </pre>
       */
      public Builder addAllDiffOperation(
          java.lang.Iterable<? extends org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation> values) {
        if (diffOperationBuilder_ == null) {
          ensureDiffOperationIsMutable();
          super.addAll(values, diffOperation_);
          onChanged();
        } else {
          diffOperationBuilder_.addAllMessages(values);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the end state.
       * </pre>
       */
      public Builder clearDiffOperation() {
        if (diffOperationBuilder_ == null) {
          diffOperation_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000008);
          onChanged();
        } else {
          diffOperationBuilder_.clear();
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the end state.
       * </pre>
       */
      public Builder removeDiffOperation(int index) {
        if (diffOperationBuilder_ == null) {
          ensureDiffOperationIsMutable();
          diffOperation_.remove(index);
          onChanged();
        } else {
          diffOperationBuilder_.remove(index);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the end state.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.Builder getDiffOperationBuilder(
          int index) {
        return getDiffOperationFieldBuilder().getBuilder(index);
      }
      /**
       * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the end state.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.SegmentOperationOrBuilder getDiffOperationOrBuilder(
          int index) {
        if (diffOperationBuilder_ == null) {
          return diffOperation_.get(index);  } else {
          return diffOperationBuilder_.getMessageOrBuilder(index);
        }
      }
      /**
       * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the end state.
       * </pre>
       */
      public java.util.List<? extends org.waveprotocol.wave.clientserver.ClientServer.SegmentOperationOrBuilder> 
           getDiffOperationOrBuilderList() {
        if (diffOperationBuilder_ != null) {
          return diffOperationBuilder_.getMessageOrBuilderList();
        } else {
          return java.util.Collections.unmodifiableList(diffOperation_);
        }
      }
      /**
       * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the end state.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.Builder addDiffOperationBuilder() {
        return getDiffOperationFieldBuilder().addBuilder(
            org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.getDefaultInstance());
      }
      /**
       * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the end state.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.Builder addDiffOperationBuilder(
          int index) {
        return getDiffOperationFieldBuilder().addBuilder(
            index, org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.getDefaultInstance());
      }
      /**
       * <code>repeated .clientserver.SegmentOperation diffOperation = 4;</code>
       *
       * <pre>
       * Operations that transforms snapshot to the end state.
       * </pre>
       */
      public java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.Builder> 
           getDiffOperationBuilderList() {
        return getDiffOperationFieldBuilder().getBuilderList();
      }
      private com.google.protobuf.RepeatedFieldBuilder<
          org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation, org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.Builder, org.waveprotocol.wave.clientserver.ClientServer.SegmentOperationOrBuilder> 
          getDiffOperationFieldBuilder() {
        if (diffOperationBuilder_ == null) {
          diffOperationBuilder_ = new com.google.protobuf.RepeatedFieldBuilder<
              org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation, org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.Builder, org.waveprotocol.wave.clientserver.ClientServer.SegmentOperationOrBuilder>(
                  diffOperation_,
                  ((bitField0_ & 0x00000008) == 0x00000008),
                  getParentForChildren(),
                  isClean());
          diffOperation_ = null;
        }
        return diffOperationBuilder_;
      }

      // @@protoc_insertion_point(builder_scope:clientserver.SegmentFragment)
    }

    static {
      defaultInstance = new SegmentFragment(true);
      defaultInstance.initFields();
    }

    // @@protoc_insertion_point(class_scope:clientserver.SegmentFragment)
  }

  public interface SegmentSnapshotOrBuilder
      extends com.google.protobuf.MessageOrBuilder {

    // required string rawSnapshot = 1;
    /**
     * <code>required string rawSnapshot = 1;</code>
     *
     * <pre>
     * Segment's snapshot.
     * </pre>
     */
    boolean hasRawSnapshot();
    /**
     * <code>required string rawSnapshot = 1;</code>
     *
     * <pre>
     * Segment's snapshot.
     * </pre>
     */
    java.lang.String getRawSnapshot();
    /**
     * <code>required string rawSnapshot = 1;</code>
     *
     * <pre>
     * Segment's snapshot.
     * </pre>
     */
    com.google.protobuf.ByteString
        getRawSnapshotBytes();
  }
  /**
   * Protobuf type {@code clientserver.SegmentSnapshot}
   *
   * <pre>
   ** A snapshot of segment. 
   * </pre>
   */
  public static final class SegmentSnapshot extends
      com.google.protobuf.GeneratedMessage
      implements SegmentSnapshotOrBuilder {
    // Use SegmentSnapshot.newBuilder() to construct.
    private SegmentSnapshot(com.google.protobuf.GeneratedMessage.Builder<?> builder) {
      super(builder);
      this.unknownFields = builder.getUnknownFields();
    }
    private SegmentSnapshot(boolean noInit) { this.unknownFields = com.google.protobuf.UnknownFieldSet.getDefaultInstance(); }

    private static final SegmentSnapshot defaultInstance;
    public static SegmentSnapshot getDefaultInstance() {
      return defaultInstance;
    }

    public SegmentSnapshot getDefaultInstanceForType() {
      return defaultInstance;
    }

    private final com.google.protobuf.UnknownFieldSet unknownFields;
    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
        getUnknownFields() {
      return this.unknownFields;
    }
    private SegmentSnapshot(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      initFields();
      int mutable_bitField0_ = 0;
      com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder();
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!parseUnknownField(input, unknownFields,
                                     extensionRegistry, tag)) {
                done = true;
              }
              break;
            }
            case 10: {
              bitField0_ |= 0x00000001;
              rawSnapshot_ = input.readBytes();
              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e.getMessage()).setUnfinishedMessage(this);
      } finally {
        this.unknownFields = unknownFields.build();
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_SegmentSnapshot_descriptor;
    }

    protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_SegmentSnapshot_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot.class, org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot.Builder.class);
    }

    public static com.google.protobuf.Parser<SegmentSnapshot> PARSER =
        new com.google.protobuf.AbstractParser<SegmentSnapshot>() {
      public SegmentSnapshot parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return new SegmentSnapshot(input, extensionRegistry);
      }
    };

    @java.lang.Override
    public com.google.protobuf.Parser<SegmentSnapshot> getParserForType() {
      return PARSER;
    }

    private int bitField0_;
    // required string rawSnapshot = 1;
    public static final int RAWSNAPSHOT_FIELD_NUMBER = 1;
    private java.lang.Object rawSnapshot_;
    /**
     * <code>required string rawSnapshot = 1;</code>
     *
     * <pre>
     * Segment's snapshot.
     * </pre>
     */
    public boolean hasRawSnapshot() {
      return ((bitField0_ & 0x00000001) == 0x00000001);
    }
    /**
     * <code>required string rawSnapshot = 1;</code>
     *
     * <pre>
     * Segment's snapshot.
     * </pre>
     */
    public java.lang.String getRawSnapshot() {
      java.lang.Object ref = rawSnapshot_;
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        if (bs.isValidUtf8()) {
          rawSnapshot_ = s;
        }
        return s;
      }
    }
    /**
     * <code>required string rawSnapshot = 1;</code>
     *
     * <pre>
     * Segment's snapshot.
     * </pre>
     */
    public com.google.protobuf.ByteString
        getRawSnapshotBytes() {
      java.lang.Object ref = rawSnapshot_;
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        rawSnapshot_ = b;
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    private void initFields() {
      rawSnapshot_ = "";
    }
    private byte memoizedIsInitialized = -1;
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized != -1) return isInitialized == 1;

      if (!hasRawSnapshot()) {
        memoizedIsInitialized = 0;
        return false;
      }
      memoizedIsInitialized = 1;
      return true;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        output.writeBytes(1, getRawSnapshotBytes());
      }
      getUnknownFields().writeTo(output);
    }

    private int memoizedSerializedSize = -1;
    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;

      size = 0;
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(1, getRawSnapshotBytes());
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }

    private static final long serialVersionUID = 0L;
    @java.lang.Override
    protected java.lang.Object writeReplace()
        throws java.io.ObjectStreamException {
      return super.writeReplace();
    }

    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }

    public static Builder newBuilder() { return Builder.create(); }
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder(org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot prototype) {
      return newBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() { return newBuilder(this); }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessage.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * Protobuf type {@code clientserver.SegmentSnapshot}
     *
     * <pre>
     ** A snapshot of segment. 
     * </pre>
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessage.Builder<Builder>
       implements org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshotOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_SegmentSnapshot_descriptor;
      }

      protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_SegmentSnapshot_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot.class, org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot.Builder.class);
      }

      // Construct using org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessage.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders) {
        }
      }
      private static Builder create() {
        return new Builder();
      }

      public Builder clear() {
        super.clear();
        rawSnapshot_ = "";
        bitField0_ = (bitField0_ & ~0x00000001);
        return this;
      }

      public Builder clone() {
        return create().mergeFrom(buildPartial());
      }

      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_SegmentSnapshot_descriptor;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot getDefaultInstanceForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot.getDefaultInstance();
      }

      public org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot build() {
        org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot buildPartial() {
        org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot result = new org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot(this);
        int from_bitField0_ = bitField0_;
        int to_bitField0_ = 0;
        if (((from_bitField0_ & 0x00000001) == 0x00000001)) {
          to_bitField0_ |= 0x00000001;
        }
        result.rawSnapshot_ = rawSnapshot_;
        result.bitField0_ = to_bitField0_;
        onBuilt();
        return result;
      }

      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot) {
          return mergeFrom((org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot other) {
        if (other == org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot.getDefaultInstance()) return this;
        if (other.hasRawSnapshot()) {
          bitField0_ |= 0x00000001;
          rawSnapshot_ = other.rawSnapshot_;
          onChanged();
        }
        this.mergeUnknownFields(other.getUnknownFields());
        return this;
      }

      public final boolean isInitialized() {
        if (!hasRawSnapshot()) {
          
          return false;
        }
        return true;
      }

      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (org.waveprotocol.wave.clientserver.ClientServer.SegmentSnapshot) e.getUnfinishedMessage();
          throw e;
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }
      private int bitField0_;

      // required string rawSnapshot = 1;
      private java.lang.Object rawSnapshot_ = "";
      /**
       * <code>required string rawSnapshot = 1;</code>
       *
       * <pre>
       * Segment's snapshot.
       * </pre>
       */
      public boolean hasRawSnapshot() {
        return ((bitField0_ & 0x00000001) == 0x00000001);
      }
      /**
       * <code>required string rawSnapshot = 1;</code>
       *
       * <pre>
       * Segment's snapshot.
       * </pre>
       */
      public java.lang.String getRawSnapshot() {
        java.lang.Object ref = rawSnapshot_;
        if (!(ref instanceof java.lang.String)) {
          java.lang.String s = ((com.google.protobuf.ByteString) ref)
              .toStringUtf8();
          rawSnapshot_ = s;
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <code>required string rawSnapshot = 1;</code>
       *
       * <pre>
       * Segment's snapshot.
       * </pre>
       */
      public com.google.protobuf.ByteString
          getRawSnapshotBytes() {
        java.lang.Object ref = rawSnapshot_;
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          rawSnapshot_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <code>required string rawSnapshot = 1;</code>
       *
       * <pre>
       * Segment's snapshot.
       * </pre>
       */
      public Builder setRawSnapshot(
          java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
        rawSnapshot_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>required string rawSnapshot = 1;</code>
       *
       * <pre>
       * Segment's snapshot.
       * </pre>
       */
      public Builder clearRawSnapshot() {
        bitField0_ = (bitField0_ & ~0x00000001);
        rawSnapshot_ = getDefaultInstance().getRawSnapshot();
        onChanged();
        return this;
      }
      /**
       * <code>required string rawSnapshot = 1;</code>
       *
       * <pre>
       * Segment's snapshot.
       * </pre>
       */
      public Builder setRawSnapshotBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
        rawSnapshot_ = value;
        onChanged();
        return this;
      }

      // @@protoc_insertion_point(builder_scope:clientserver.SegmentSnapshot)
    }

    static {
      defaultInstance = new SegmentSnapshot(true);
      defaultInstance.initFields();
    }

    // @@protoc_insertion_point(class_scope:clientserver.SegmentSnapshot)
  }

  public interface SegmentOperationOrBuilder
      extends com.google.protobuf.MessageOrBuilder {

    // required string operations = 1;
    /**
     * <code>required string operations = 1;</code>
     *
     * <pre>
     * Raw ProtoWaveletOperations.
     * </pre>
     */
    boolean hasOperations();
    /**
     * <code>required string operations = 1;</code>
     *
     * <pre>
     * Raw ProtoWaveletOperations.
     * </pre>
     */
    java.lang.String getOperations();
    /**
     * <code>required string operations = 1;</code>
     *
     * <pre>
     * Raw ProtoWaveletOperations.
     * </pre>
     */
    com.google.protobuf.ByteString
        getOperationsBytes();

    // optional string author = 3;
    /**
     * <code>optional string author = 3;</code>
     *
     * <pre>
     * Author of operation.
     * </pre>
     */
    boolean hasAuthor();
    /**
     * <code>optional string author = 3;</code>
     *
     * <pre>
     * Author of operation.
     * </pre>
     */
    java.lang.String getAuthor();
    /**
     * <code>optional string author = 3;</code>
     *
     * <pre>
     * Author of operation.
     * </pre>
     */
    com.google.protobuf.ByteString
        getAuthorBytes();

    // required int64 targetVersion = 4;
    /**
     * <code>required int64 targetVersion = 4;</code>
     *
     * <pre>
     * Target version.
     * </pre>
     */
    boolean hasTargetVersion();
    /**
     * <code>required int64 targetVersion = 4;</code>
     *
     * <pre>
     * Target version.
     * </pre>
     */
    long getTargetVersion();

    // required int64 timestamp = 5;
    /**
     * <code>required int64 timestamp = 5;</code>
     *
     * <pre>
     * Time of operation.
     * </pre>
     */
    boolean hasTimestamp();
    /**
     * <code>required int64 timestamp = 5;</code>
     *
     * <pre>
     * Time of operation.
     * </pre>
     */
    long getTimestamp();
  }
  /**
   * Protobuf type {@code clientserver.SegmentOperation}
   *
   * <pre>
   ** A operation on segment. 
   * </pre>
   */
  public static final class SegmentOperation extends
      com.google.protobuf.GeneratedMessage
      implements SegmentOperationOrBuilder {
    // Use SegmentOperation.newBuilder() to construct.
    private SegmentOperation(com.google.protobuf.GeneratedMessage.Builder<?> builder) {
      super(builder);
      this.unknownFields = builder.getUnknownFields();
    }
    private SegmentOperation(boolean noInit) { this.unknownFields = com.google.protobuf.UnknownFieldSet.getDefaultInstance(); }

    private static final SegmentOperation defaultInstance;
    public static SegmentOperation getDefaultInstance() {
      return defaultInstance;
    }

    public SegmentOperation getDefaultInstanceForType() {
      return defaultInstance;
    }

    private final com.google.protobuf.UnknownFieldSet unknownFields;
    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
        getUnknownFields() {
      return this.unknownFields;
    }
    private SegmentOperation(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      initFields();
      int mutable_bitField0_ = 0;
      com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder();
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!parseUnknownField(input, unknownFields,
                                     extensionRegistry, tag)) {
                done = true;
              }
              break;
            }
            case 10: {
              bitField0_ |= 0x00000001;
              operations_ = input.readBytes();
              break;
            }
            case 26: {
              bitField0_ |= 0x00000002;
              author_ = input.readBytes();
              break;
            }
            case 32: {
              bitField0_ |= 0x00000004;
              targetVersion_ = input.readInt64();
              break;
            }
            case 40: {
              bitField0_ |= 0x00000008;
              timestamp_ = input.readInt64();
              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e.getMessage()).setUnfinishedMessage(this);
      } finally {
        this.unknownFields = unknownFields.build();
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_SegmentOperation_descriptor;
    }

    protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_SegmentOperation_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.class, org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.Builder.class);
    }

    public static com.google.protobuf.Parser<SegmentOperation> PARSER =
        new com.google.protobuf.AbstractParser<SegmentOperation>() {
      public SegmentOperation parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return new SegmentOperation(input, extensionRegistry);
      }
    };

    @java.lang.Override
    public com.google.protobuf.Parser<SegmentOperation> getParserForType() {
      return PARSER;
    }

    private int bitField0_;
    // required string operations = 1;
    public static final int OPERATIONS_FIELD_NUMBER = 1;
    private java.lang.Object operations_;
    /**
     * <code>required string operations = 1;</code>
     *
     * <pre>
     * Raw ProtoWaveletOperations.
     * </pre>
     */
    public boolean hasOperations() {
      return ((bitField0_ & 0x00000001) == 0x00000001);
    }
    /**
     * <code>required string operations = 1;</code>
     *
     * <pre>
     * Raw ProtoWaveletOperations.
     * </pre>
     */
    public java.lang.String getOperations() {
      java.lang.Object ref = operations_;
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        if (bs.isValidUtf8()) {
          operations_ = s;
        }
        return s;
      }
    }
    /**
     * <code>required string operations = 1;</code>
     *
     * <pre>
     * Raw ProtoWaveletOperations.
     * </pre>
     */
    public com.google.protobuf.ByteString
        getOperationsBytes() {
      java.lang.Object ref = operations_;
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        operations_ = b;
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    // optional string author = 3;
    public static final int AUTHOR_FIELD_NUMBER = 3;
    private java.lang.Object author_;
    /**
     * <code>optional string author = 3;</code>
     *
     * <pre>
     * Author of operation.
     * </pre>
     */
    public boolean hasAuthor() {
      return ((bitField0_ & 0x00000002) == 0x00000002);
    }
    /**
     * <code>optional string author = 3;</code>
     *
     * <pre>
     * Author of operation.
     * </pre>
     */
    public java.lang.String getAuthor() {
      java.lang.Object ref = author_;
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        if (bs.isValidUtf8()) {
          author_ = s;
        }
        return s;
      }
    }
    /**
     * <code>optional string author = 3;</code>
     *
     * <pre>
     * Author of operation.
     * </pre>
     */
    public com.google.protobuf.ByteString
        getAuthorBytes() {
      java.lang.Object ref = author_;
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        author_ = b;
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    // required int64 targetVersion = 4;
    public static final int TARGETVERSION_FIELD_NUMBER = 4;
    private long targetVersion_;
    /**
     * <code>required int64 targetVersion = 4;</code>
     *
     * <pre>
     * Target version.
     * </pre>
     */
    public boolean hasTargetVersion() {
      return ((bitField0_ & 0x00000004) == 0x00000004);
    }
    /**
     * <code>required int64 targetVersion = 4;</code>
     *
     * <pre>
     * Target version.
     * </pre>
     */
    public long getTargetVersion() {
      return targetVersion_;
    }

    // required int64 timestamp = 5;
    public static final int TIMESTAMP_FIELD_NUMBER = 5;
    private long timestamp_;
    /**
     * <code>required int64 timestamp = 5;</code>
     *
     * <pre>
     * Time of operation.
     * </pre>
     */
    public boolean hasTimestamp() {
      return ((bitField0_ & 0x00000008) == 0x00000008);
    }
    /**
     * <code>required int64 timestamp = 5;</code>
     *
     * <pre>
     * Time of operation.
     * </pre>
     */
    public long getTimestamp() {
      return timestamp_;
    }

    private void initFields() {
      operations_ = "";
      author_ = "";
      targetVersion_ = 0L;
      timestamp_ = 0L;
    }
    private byte memoizedIsInitialized = -1;
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized != -1) return isInitialized == 1;

      if (!hasOperations()) {
        memoizedIsInitialized = 0;
        return false;
      }
      if (!hasTargetVersion()) {
        memoizedIsInitialized = 0;
        return false;
      }
      if (!hasTimestamp()) {
        memoizedIsInitialized = 0;
        return false;
      }
      memoizedIsInitialized = 1;
      return true;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        output.writeBytes(1, getOperationsBytes());
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        output.writeBytes(3, getAuthorBytes());
      }
      if (((bitField0_ & 0x00000004) == 0x00000004)) {
        output.writeInt64(4, targetVersion_);
      }
      if (((bitField0_ & 0x00000008) == 0x00000008)) {
        output.writeInt64(5, timestamp_);
      }
      getUnknownFields().writeTo(output);
    }

    private int memoizedSerializedSize = -1;
    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;

      size = 0;
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(1, getOperationsBytes());
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(3, getAuthorBytes());
      }
      if (((bitField0_ & 0x00000004) == 0x00000004)) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt64Size(4, targetVersion_);
      }
      if (((bitField0_ & 0x00000008) == 0x00000008)) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt64Size(5, timestamp_);
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }

    private static final long serialVersionUID = 0L;
    @java.lang.Override
    protected java.lang.Object writeReplace()
        throws java.io.ObjectStreamException {
      return super.writeReplace();
    }

    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }

    public static Builder newBuilder() { return Builder.create(); }
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder(org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation prototype) {
      return newBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() { return newBuilder(this); }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessage.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * Protobuf type {@code clientserver.SegmentOperation}
     *
     * <pre>
     ** A operation on segment. 
     * </pre>
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessage.Builder<Builder>
       implements org.waveprotocol.wave.clientserver.ClientServer.SegmentOperationOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_SegmentOperation_descriptor;
      }

      protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_SegmentOperation_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.class, org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.Builder.class);
      }

      // Construct using org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessage.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders) {
        }
      }
      private static Builder create() {
        return new Builder();
      }

      public Builder clear() {
        super.clear();
        operations_ = "";
        bitField0_ = (bitField0_ & ~0x00000001);
        author_ = "";
        bitField0_ = (bitField0_ & ~0x00000002);
        targetVersion_ = 0L;
        bitField0_ = (bitField0_ & ~0x00000004);
        timestamp_ = 0L;
        bitField0_ = (bitField0_ & ~0x00000008);
        return this;
      }

      public Builder clone() {
        return create().mergeFrom(buildPartial());
      }

      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_SegmentOperation_descriptor;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation getDefaultInstanceForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.getDefaultInstance();
      }

      public org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation build() {
        org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation buildPartial() {
        org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation result = new org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation(this);
        int from_bitField0_ = bitField0_;
        int to_bitField0_ = 0;
        if (((from_bitField0_ & 0x00000001) == 0x00000001)) {
          to_bitField0_ |= 0x00000001;
        }
        result.operations_ = operations_;
        if (((from_bitField0_ & 0x00000002) == 0x00000002)) {
          to_bitField0_ |= 0x00000002;
        }
        result.author_ = author_;
        if (((from_bitField0_ & 0x00000004) == 0x00000004)) {
          to_bitField0_ |= 0x00000004;
        }
        result.targetVersion_ = targetVersion_;
        if (((from_bitField0_ & 0x00000008) == 0x00000008)) {
          to_bitField0_ |= 0x00000008;
        }
        result.timestamp_ = timestamp_;
        result.bitField0_ = to_bitField0_;
        onBuilt();
        return result;
      }

      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation) {
          return mergeFrom((org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation other) {
        if (other == org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation.getDefaultInstance()) return this;
        if (other.hasOperations()) {
          bitField0_ |= 0x00000001;
          operations_ = other.operations_;
          onChanged();
        }
        if (other.hasAuthor()) {
          bitField0_ |= 0x00000002;
          author_ = other.author_;
          onChanged();
        }
        if (other.hasTargetVersion()) {
          setTargetVersion(other.getTargetVersion());
        }
        if (other.hasTimestamp()) {
          setTimestamp(other.getTimestamp());
        }
        this.mergeUnknownFields(other.getUnknownFields());
        return this;
      }

      public final boolean isInitialized() {
        if (!hasOperations()) {
          
          return false;
        }
        if (!hasTargetVersion()) {
          
          return false;
        }
        if (!hasTimestamp()) {
          
          return false;
        }
        return true;
      }

      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (org.waveprotocol.wave.clientserver.ClientServer.SegmentOperation) e.getUnfinishedMessage();
          throw e;
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }
      private int bitField0_;

      // required string operations = 1;
      private java.lang.Object operations_ = "";
      /**
       * <code>required string operations = 1;</code>
       *
       * <pre>
       * Raw ProtoWaveletOperations.
       * </pre>
       */
      public boolean hasOperations() {
        return ((bitField0_ & 0x00000001) == 0x00000001);
      }
      /**
       * <code>required string operations = 1;</code>
       *
       * <pre>
       * Raw ProtoWaveletOperations.
       * </pre>
       */
      public java.lang.String getOperations() {
        java.lang.Object ref = operations_;
        if (!(ref instanceof java.lang.String)) {
          java.lang.String s = ((com.google.protobuf.ByteString) ref)
              .toStringUtf8();
          operations_ = s;
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <code>required string operations = 1;</code>
       *
       * <pre>
       * Raw ProtoWaveletOperations.
       * </pre>
       */
      public com.google.protobuf.ByteString
          getOperationsBytes() {
        java.lang.Object ref = operations_;
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          operations_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <code>required string operations = 1;</code>
       *
       * <pre>
       * Raw ProtoWaveletOperations.
       * </pre>
       */
      public Builder setOperations(
          java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
        operations_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>required string operations = 1;</code>
       *
       * <pre>
       * Raw ProtoWaveletOperations.
       * </pre>
       */
      public Builder clearOperations() {
        bitField0_ = (bitField0_ & ~0x00000001);
        operations_ = getDefaultInstance().getOperations();
        onChanged();
        return this;
      }
      /**
       * <code>required string operations = 1;</code>
       *
       * <pre>
       * Raw ProtoWaveletOperations.
       * </pre>
       */
      public Builder setOperationsBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
        operations_ = value;
        onChanged();
        return this;
      }

      // optional string author = 3;
      private java.lang.Object author_ = "";
      /**
       * <code>optional string author = 3;</code>
       *
       * <pre>
       * Author of operation.
       * </pre>
       */
      public boolean hasAuthor() {
        return ((bitField0_ & 0x00000002) == 0x00000002);
      }
      /**
       * <code>optional string author = 3;</code>
       *
       * <pre>
       * Author of operation.
       * </pre>
       */
      public java.lang.String getAuthor() {
        java.lang.Object ref = author_;
        if (!(ref instanceof java.lang.String)) {
          java.lang.String s = ((com.google.protobuf.ByteString) ref)
              .toStringUtf8();
          author_ = s;
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <code>optional string author = 3;</code>
       *
       * <pre>
       * Author of operation.
       * </pre>
       */
      public com.google.protobuf.ByteString
          getAuthorBytes() {
        java.lang.Object ref = author_;
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          author_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <code>optional string author = 3;</code>
       *
       * <pre>
       * Author of operation.
       * </pre>
       */
      public Builder setAuthor(
          java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000002;
        author_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>optional string author = 3;</code>
       *
       * <pre>
       * Author of operation.
       * </pre>
       */
      public Builder clearAuthor() {
        bitField0_ = (bitField0_ & ~0x00000002);
        author_ = getDefaultInstance().getAuthor();
        onChanged();
        return this;
      }
      /**
       * <code>optional string author = 3;</code>
       *
       * <pre>
       * Author of operation.
       * </pre>
       */
      public Builder setAuthorBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000002;
        author_ = value;
        onChanged();
        return this;
      }

      // required int64 targetVersion = 4;
      private long targetVersion_ ;
      /**
       * <code>required int64 targetVersion = 4;</code>
       *
       * <pre>
       * Target version.
       * </pre>
       */
      public boolean hasTargetVersion() {
        return ((bitField0_ & 0x00000004) == 0x00000004);
      }
      /**
       * <code>required int64 targetVersion = 4;</code>
       *
       * <pre>
       * Target version.
       * </pre>
       */
      public long getTargetVersion() {
        return targetVersion_;
      }
      /**
       * <code>required int64 targetVersion = 4;</code>
       *
       * <pre>
       * Target version.
       * </pre>
       */
      public Builder setTargetVersion(long value) {
        bitField0_ |= 0x00000004;
        targetVersion_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>required int64 targetVersion = 4;</code>
       *
       * <pre>
       * Target version.
       * </pre>
       */
      public Builder clearTargetVersion() {
        bitField0_ = (bitField0_ & ~0x00000004);
        targetVersion_ = 0L;
        onChanged();
        return this;
      }

      // required int64 timestamp = 5;
      private long timestamp_ ;
      /**
       * <code>required int64 timestamp = 5;</code>
       *
       * <pre>
       * Time of operation.
       * </pre>
       */
      public boolean hasTimestamp() {
        return ((bitField0_ & 0x00000008) == 0x00000008);
      }
      /**
       * <code>required int64 timestamp = 5;</code>
       *
       * <pre>
       * Time of operation.
       * </pre>
       */
      public long getTimestamp() {
        return timestamp_;
      }
      /**
       * <code>required int64 timestamp = 5;</code>
       *
       * <pre>
       * Time of operation.
       * </pre>
       */
      public Builder setTimestamp(long value) {
        bitField0_ |= 0x00000008;
        timestamp_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>required int64 timestamp = 5;</code>
       *
       * <pre>
       * Time of operation.
       * </pre>
       */
      public Builder clearTimestamp() {
        bitField0_ = (bitField0_ & ~0x00000008);
        timestamp_ = 0L;
        onChanged();
        return this;
      }

      // @@protoc_insertion_point(builder_scope:clientserver.SegmentOperation)
    }

    static {
      defaultInstance = new SegmentOperation(true);
      defaultInstance.initFields();
    }

    // @@protoc_insertion_point(class_scope:clientserver.SegmentOperation)
  }

  public interface OpenWaveletChannelRequestOrBuilder
      extends com.google.protobuf.MessageOrBuilder {

    // required string waveletName = 1;
    /**
     * <code>required string waveletName = 1;</code>
     *
     * <pre>
     * Wavelet name, URI path format.
     * </pre>
     */
    boolean hasWaveletName();
    /**
     * <code>required string waveletName = 1;</code>
     *
     * <pre>
     * Wavelet name, URI path format.
     * </pre>
     */
    java.lang.String getWaveletName();
    /**
     * <code>required string waveletName = 1;</code>
     *
     * <pre>
     * Wavelet name, URI path format.
     * </pre>
     */
    com.google.protobuf.ByteString
        getWaveletNameBytes();

    // repeated string segmentId = 2;
    /**
     * <code>repeated string segmentId = 2;</code>
     *
     * <pre>
     * Ids of segments uploaded on client.
     * </pre>
     */
    java.util.List<java.lang.String>
    getSegmentIdList();
    /**
     * <code>repeated string segmentId = 2;</code>
     *
     * <pre>
     * Ids of segments uploaded on client.
     * </pre>
     */
    int getSegmentIdCount();
    /**
     * <code>repeated string segmentId = 2;</code>
     *
     * <pre>
     * Ids of segments uploaded on client.
     * </pre>
     */
    java.lang.String getSegmentId(int index);
    /**
     * <code>repeated string segmentId = 2;</code>
     *
     * <pre>
     * Ids of segments uploaded on client.
     * </pre>
     */
    com.google.protobuf.ByteString
        getSegmentIdBytes(int index);

    // repeated .federation.ProtocolHashedVersion knownVersion = 3;
    /**
     * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
     *
     * <pre>
     * Known versions from CC.
     * </pre>
     */
    java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion> 
        getKnownVersionList();
    /**
     * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
     *
     * <pre>
     * Known versions from CC.
     * </pre>
     */
    org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getKnownVersion(int index);
    /**
     * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
     *
     * <pre>
     * Known versions from CC.
     * </pre>
     */
    int getKnownVersionCount();
    /**
     * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
     *
     * <pre>
     * Known versions from CC.
     * </pre>
     */
    java.util.List<? extends org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder> 
        getKnownVersionOrBuilderList();
    /**
     * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
     *
     * <pre>
     * Known versions from CC.
     * </pre>
     */
    org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder getKnownVersionOrBuilder(
        int index);

    // optional .federation.ProtocolWaveletDelta unacknowledgedDelta = 4;
    /**
     * <code>optional .federation.ProtocolWaveletDelta unacknowledgedDelta = 4;</code>
     *
     * <pre>
     * Unacknowldged delta.
     * </pre>
     */
    boolean hasUnacknowledgedDelta();
    /**
     * <code>optional .federation.ProtocolWaveletDelta unacknowledgedDelta = 4;</code>
     *
     * <pre>
     * Unacknowldged delta.
     * </pre>
     */
    org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta getUnacknowledgedDelta();
    /**
     * <code>optional .federation.ProtocolWaveletDelta unacknowledgedDelta = 4;</code>
     *
     * <pre>
     * Unacknowldged delta.
     * </pre>
     */
    org.waveprotocol.wave.federation.Proto.ProtocolWaveletDeltaOrBuilder getUnacknowledgedDeltaOrBuilder();
  }
  /**
   * Protobuf type {@code clientserver.OpenWaveletChannelRequest}
   */
  public static final class OpenWaveletChannelRequest extends
      com.google.protobuf.GeneratedMessage
      implements OpenWaveletChannelRequestOrBuilder {
    // Use OpenWaveletChannelRequest.newBuilder() to construct.
    private OpenWaveletChannelRequest(com.google.protobuf.GeneratedMessage.Builder<?> builder) {
      super(builder);
      this.unknownFields = builder.getUnknownFields();
    }
    private OpenWaveletChannelRequest(boolean noInit) { this.unknownFields = com.google.protobuf.UnknownFieldSet.getDefaultInstance(); }

    private static final OpenWaveletChannelRequest defaultInstance;
    public static OpenWaveletChannelRequest getDefaultInstance() {
      return defaultInstance;
    }

    public OpenWaveletChannelRequest getDefaultInstanceForType() {
      return defaultInstance;
    }

    private final com.google.protobuf.UnknownFieldSet unknownFields;
    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
        getUnknownFields() {
      return this.unknownFields;
    }
    private OpenWaveletChannelRequest(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      initFields();
      int mutable_bitField0_ = 0;
      com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder();
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!parseUnknownField(input, unknownFields,
                                     extensionRegistry, tag)) {
                done = true;
              }
              break;
            }
            case 10: {
              bitField0_ |= 0x00000001;
              waveletName_ = input.readBytes();
              break;
            }
            case 18: {
              if (!((mutable_bitField0_ & 0x00000002) == 0x00000002)) {
                segmentId_ = new com.google.protobuf.LazyStringArrayList();
                mutable_bitField0_ |= 0x00000002;
              }
              segmentId_.add(input.readBytes());
              break;
            }
            case 26: {
              if (!((mutable_bitField0_ & 0x00000004) == 0x00000004)) {
                knownVersion_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion>();
                mutable_bitField0_ |= 0x00000004;
              }
              knownVersion_.add(input.readMessage(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.PARSER, extensionRegistry));
              break;
            }
            case 34: {
              org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.Builder subBuilder = null;
              if (((bitField0_ & 0x00000002) == 0x00000002)) {
                subBuilder = unacknowledgedDelta_.toBuilder();
              }
              unacknowledgedDelta_ = input.readMessage(org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.PARSER, extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(unacknowledgedDelta_);
                unacknowledgedDelta_ = subBuilder.buildPartial();
              }
              bitField0_ |= 0x00000002;
              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e.getMessage()).setUnfinishedMessage(this);
      } finally {
        if (((mutable_bitField0_ & 0x00000002) == 0x00000002)) {
          segmentId_ = new com.google.protobuf.UnmodifiableLazyStringList(segmentId_);
        }
        if (((mutable_bitField0_ & 0x00000004) == 0x00000004)) {
          knownVersion_ = java.util.Collections.unmodifiableList(knownVersion_);
        }
        this.unknownFields = unknownFields.build();
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_OpenWaveletChannelRequest_descriptor;
    }

    protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_OpenWaveletChannelRequest_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest.class, org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest.Builder.class);
    }

    public static com.google.protobuf.Parser<OpenWaveletChannelRequest> PARSER =
        new com.google.protobuf.AbstractParser<OpenWaveletChannelRequest>() {
      public OpenWaveletChannelRequest parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return new OpenWaveletChannelRequest(input, extensionRegistry);
      }
    };

    @java.lang.Override
    public com.google.protobuf.Parser<OpenWaveletChannelRequest> getParserForType() {
      return PARSER;
    }

    private int bitField0_;
    // required string waveletName = 1;
    public static final int WAVELETNAME_FIELD_NUMBER = 1;
    private java.lang.Object waveletName_;
    /**
     * <code>required string waveletName = 1;</code>
     *
     * <pre>
     * Wavelet name, URI path format.
     * </pre>
     */
    public boolean hasWaveletName() {
      return ((bitField0_ & 0x00000001) == 0x00000001);
    }
    /**
     * <code>required string waveletName = 1;</code>
     *
     * <pre>
     * Wavelet name, URI path format.
     * </pre>
     */
    public java.lang.String getWaveletName() {
      java.lang.Object ref = waveletName_;
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        if (bs.isValidUtf8()) {
          waveletName_ = s;
        }
        return s;
      }
    }
    /**
     * <code>required string waveletName = 1;</code>
     *
     * <pre>
     * Wavelet name, URI path format.
     * </pre>
     */
    public com.google.protobuf.ByteString
        getWaveletNameBytes() {
      java.lang.Object ref = waveletName_;
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        waveletName_ = b;
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    // repeated string segmentId = 2;
    public static final int SEGMENTID_FIELD_NUMBER = 2;
    private com.google.protobuf.LazyStringList segmentId_;
    /**
     * <code>repeated string segmentId = 2;</code>
     *
     * <pre>
     * Ids of segments uploaded on client.
     * </pre>
     */
    public java.util.List<java.lang.String>
        getSegmentIdList() {
      return segmentId_;
    }
    /**
     * <code>repeated string segmentId = 2;</code>
     *
     * <pre>
     * Ids of segments uploaded on client.
     * </pre>
     */
    public int getSegmentIdCount() {
      return segmentId_.size();
    }
    /**
     * <code>repeated string segmentId = 2;</code>
     *
     * <pre>
     * Ids of segments uploaded on client.
     * </pre>
     */
    public java.lang.String getSegmentId(int index) {
      return segmentId_.get(index);
    }
    /**
     * <code>repeated string segmentId = 2;</code>
     *
     * <pre>
     * Ids of segments uploaded on client.
     * </pre>
     */
    public com.google.protobuf.ByteString
        getSegmentIdBytes(int index) {
      return segmentId_.getByteString(index);
    }

    // repeated .federation.ProtocolHashedVersion knownVersion = 3;
    public static final int KNOWNVERSION_FIELD_NUMBER = 3;
    private java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion> knownVersion_;
    /**
     * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
     *
     * <pre>
     * Known versions from CC.
     * </pre>
     */
    public java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion> getKnownVersionList() {
      return knownVersion_;
    }
    /**
     * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
     *
     * <pre>
     * Known versions from CC.
     * </pre>
     */
    public java.util.List<? extends org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder> 
        getKnownVersionOrBuilderList() {
      return knownVersion_;
    }
    /**
     * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
     *
     * <pre>
     * Known versions from CC.
     * </pre>
     */
    public int getKnownVersionCount() {
      return knownVersion_.size();
    }
    /**
     * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
     *
     * <pre>
     * Known versions from CC.
     * </pre>
     */
    public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getKnownVersion(int index) {
      return knownVersion_.get(index);
    }
    /**
     * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
     *
     * <pre>
     * Known versions from CC.
     * </pre>
     */
    public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder getKnownVersionOrBuilder(
        int index) {
      return knownVersion_.get(index);
    }

    // optional .federation.ProtocolWaveletDelta unacknowledgedDelta = 4;
    public static final int UNACKNOWLEDGEDDELTA_FIELD_NUMBER = 4;
    private org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta unacknowledgedDelta_;
    /**
     * <code>optional .federation.ProtocolWaveletDelta unacknowledgedDelta = 4;</code>
     *
     * <pre>
     * Unacknowldged delta.
     * </pre>
     */
    public boolean hasUnacknowledgedDelta() {
      return ((bitField0_ & 0x00000002) == 0x00000002);
    }
    /**
     * <code>optional .federation.ProtocolWaveletDelta unacknowledgedDelta = 4;</code>
     *
     * <pre>
     * Unacknowldged delta.
     * </pre>
     */
    public org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta getUnacknowledgedDelta() {
      return unacknowledgedDelta_;
    }
    /**
     * <code>optional .federation.ProtocolWaveletDelta unacknowledgedDelta = 4;</code>
     *
     * <pre>
     * Unacknowldged delta.
     * </pre>
     */
    public org.waveprotocol.wave.federation.Proto.ProtocolWaveletDeltaOrBuilder getUnacknowledgedDeltaOrBuilder() {
      return unacknowledgedDelta_;
    }

    private void initFields() {
      waveletName_ = "";
      segmentId_ = com.google.protobuf.LazyStringArrayList.EMPTY;
      knownVersion_ = java.util.Collections.emptyList();
      unacknowledgedDelta_ = org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.getDefaultInstance();
    }
    private byte memoizedIsInitialized = -1;
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized != -1) return isInitialized == 1;

      if (!hasWaveletName()) {
        memoizedIsInitialized = 0;
        return false;
      }
      for (int i = 0; i < getKnownVersionCount(); i++) {
        if (!getKnownVersion(i).isInitialized()) {
          memoizedIsInitialized = 0;
          return false;
        }
      }
      if (hasUnacknowledgedDelta()) {
        if (!getUnacknowledgedDelta().isInitialized()) {
          memoizedIsInitialized = 0;
          return false;
        }
      }
      memoizedIsInitialized = 1;
      return true;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        output.writeBytes(1, getWaveletNameBytes());
      }
      for (int i = 0; i < segmentId_.size(); i++) {
        output.writeBytes(2, segmentId_.getByteString(i));
      }
      for (int i = 0; i < knownVersion_.size(); i++) {
        output.writeMessage(3, knownVersion_.get(i));
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        output.writeMessage(4, unacknowledgedDelta_);
      }
      getUnknownFields().writeTo(output);
    }

    private int memoizedSerializedSize = -1;
    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;

      size = 0;
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(1, getWaveletNameBytes());
      }
      {
        int dataSize = 0;
        for (int i = 0; i < segmentId_.size(); i++) {
          dataSize += com.google.protobuf.CodedOutputStream
            .computeBytesSizeNoTag(segmentId_.getByteString(i));
        }
        size += dataSize;
        size += 1 * getSegmentIdList().size();
      }
      for (int i = 0; i < knownVersion_.size(); i++) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(3, knownVersion_.get(i));
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(4, unacknowledgedDelta_);
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }

    private static final long serialVersionUID = 0L;
    @java.lang.Override
    protected java.lang.Object writeReplace()
        throws java.io.ObjectStreamException {
      return super.writeReplace();
    }

    public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }

    public static Builder newBuilder() { return Builder.create(); }
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder(org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest prototype) {
      return newBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() { return newBuilder(this); }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessage.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * Protobuf type {@code clientserver.OpenWaveletChannelRequest}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessage.Builder<Builder>
       implements org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequestOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_OpenWaveletChannelRequest_descriptor;
      }

      protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_OpenWaveletChannelRequest_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest.class, org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest.Builder.class);
      }

      // Construct using org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessage.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders) {
          getKnownVersionFieldBuilder();
          getUnacknowledgedDeltaFieldBuilder();
        }
      }
      private static Builder create() {
        return new Builder();
      }

      public Builder clear() {
        super.clear();
        waveletName_ = "";
        bitField0_ = (bitField0_ & ~0x00000001);
        segmentId_ = com.google.protobuf.LazyStringArrayList.EMPTY;
        bitField0_ = (bitField0_ & ~0x00000002);
        if (knownVersionBuilder_ == null) {
          knownVersion_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000004);
        } else {
          knownVersionBuilder_.clear();
        }
        if (unacknowledgedDeltaBuilder_ == null) {
          unacknowledgedDelta_ = org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.getDefaultInstance();
        } else {
          unacknowledgedDeltaBuilder_.clear();
        }
        bitField0_ = (bitField0_ & ~0x00000008);
        return this;
      }

      public Builder clone() {
        return create().mergeFrom(buildPartial());
      }

      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_OpenWaveletChannelRequest_descriptor;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest getDefaultInstanceForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest.getDefaultInstance();
      }

      public org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest build() {
        org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest buildPartial() {
        org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest result = new org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest(this);
        int from_bitField0_ = bitField0_;
        int to_bitField0_ = 0;
        if (((from_bitField0_ & 0x00000001) == 0x00000001)) {
          to_bitField0_ |= 0x00000001;
        }
        result.waveletName_ = waveletName_;
        if (((bitField0_ & 0x00000002) == 0x00000002)) {
          segmentId_ = new com.google.protobuf.UnmodifiableLazyStringList(
              segmentId_);
          bitField0_ = (bitField0_ & ~0x00000002);
        }
        result.segmentId_ = segmentId_;
        if (knownVersionBuilder_ == null) {
          if (((bitField0_ & 0x00000004) == 0x00000004)) {
            knownVersion_ = java.util.Collections.unmodifiableList(knownVersion_);
            bitField0_ = (bitField0_ & ~0x00000004);
          }
          result.knownVersion_ = knownVersion_;
        } else {
          result.knownVersion_ = knownVersionBuilder_.build();
        }
        if (((from_bitField0_ & 0x00000008) == 0x00000008)) {
          to_bitField0_ |= 0x00000002;
        }
        if (unacknowledgedDeltaBuilder_ == null) {
          result.unacknowledgedDelta_ = unacknowledgedDelta_;
        } else {
          result.unacknowledgedDelta_ = unacknowledgedDeltaBuilder_.build();
        }
        result.bitField0_ = to_bitField0_;
        onBuilt();
        return result;
      }

      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest) {
          return mergeFrom((org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest other) {
        if (other == org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest.getDefaultInstance()) return this;
        if (other.hasWaveletName()) {
          bitField0_ |= 0x00000001;
          waveletName_ = other.waveletName_;
          onChanged();
        }
        if (!other.segmentId_.isEmpty()) {
          if (segmentId_.isEmpty()) {
            segmentId_ = other.segmentId_;
            bitField0_ = (bitField0_ & ~0x00000002);
          } else {
            ensureSegmentIdIsMutable();
            segmentId_.addAll(other.segmentId_);
          }
          onChanged();
        }
        if (knownVersionBuilder_ == null) {
          if (!other.knownVersion_.isEmpty()) {
            if (knownVersion_.isEmpty()) {
              knownVersion_ = other.knownVersion_;
              bitField0_ = (bitField0_ & ~0x00000004);
            } else {
              ensureKnownVersionIsMutable();
              knownVersion_.addAll(other.knownVersion_);
            }
            onChanged();
          }
        } else {
          if (!other.knownVersion_.isEmpty()) {
            if (knownVersionBuilder_.isEmpty()) {
              knownVersionBuilder_.dispose();
              knownVersionBuilder_ = null;
              knownVersion_ = other.knownVersion_;
              bitField0_ = (bitField0_ & ~0x00000004);
              knownVersionBuilder_ = 
                com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders ?
                   getKnownVersionFieldBuilder() : null;
            } else {
              knownVersionBuilder_.addAllMessages(other.knownVersion_);
            }
          }
        }
        if (other.hasUnacknowledgedDelta()) {
          mergeUnacknowledgedDelta(other.getUnacknowledgedDelta());
        }
        this.mergeUnknownFields(other.getUnknownFields());
        return this;
      }

      public final boolean isInitialized() {
        if (!hasWaveletName()) {
          
          return false;
        }
        for (int i = 0; i < getKnownVersionCount(); i++) {
          if (!getKnownVersion(i).isInitialized()) {
            
            return false;
          }
        }
        if (hasUnacknowledgedDelta()) {
          if (!getUnacknowledgedDelta().isInitialized()) {
            
            return false;
          }
        }
        return true;
      }

      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest) e.getUnfinishedMessage();
          throw e;
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }
      private int bitField0_;

      // required string waveletName = 1;
      private java.lang.Object waveletName_ = "";
      /**
       * <code>required string waveletName = 1;</code>
       *
       * <pre>
       * Wavelet name, URI path format.
       * </pre>
       */
      public boolean hasWaveletName() {
        return ((bitField0_ & 0x00000001) == 0x00000001);
      }
      /**
       * <code>required string waveletName = 1;</code>
       *
       * <pre>
       * Wavelet name, URI path format.
       * </pre>
       */
      public java.lang.String getWaveletName() {
        java.lang.Object ref = waveletName_;
        if (!(ref instanceof java.lang.String)) {
          java.lang.String s = ((com.google.protobuf.ByteString) ref)
              .toStringUtf8();
          waveletName_ = s;
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <code>required string waveletName = 1;</code>
       *
       * <pre>
       * Wavelet name, URI path format.
       * </pre>
       */
      public com.google.protobuf.ByteString
          getWaveletNameBytes() {
        java.lang.Object ref = waveletName_;
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          waveletName_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <code>required string waveletName = 1;</code>
       *
       * <pre>
       * Wavelet name, URI path format.
       * </pre>
       */
      public Builder setWaveletName(
          java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
        waveletName_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>required string waveletName = 1;</code>
       *
       * <pre>
       * Wavelet name, URI path format.
       * </pre>
       */
      public Builder clearWaveletName() {
        bitField0_ = (bitField0_ & ~0x00000001);
        waveletName_ = getDefaultInstance().getWaveletName();
        onChanged();
        return this;
      }
      /**
       * <code>required string waveletName = 1;</code>
       *
       * <pre>
       * Wavelet name, URI path format.
       * </pre>
       */
      public Builder setWaveletNameBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
        waveletName_ = value;
        onChanged();
        return this;
      }

      // repeated string segmentId = 2;
      private com.google.protobuf.LazyStringList segmentId_ = com.google.protobuf.LazyStringArrayList.EMPTY;
      private void ensureSegmentIdIsMutable() {
        if (!((bitField0_ & 0x00000002) == 0x00000002)) {
          segmentId_ = new com.google.protobuf.LazyStringArrayList(segmentId_);
          bitField0_ |= 0x00000002;
         }
      }
      /**
       * <code>repeated string segmentId = 2;</code>
       *
       * <pre>
       * Ids of segments uploaded on client.
       * </pre>
       */
      public java.util.List<java.lang.String>
          getSegmentIdList() {
        return java.util.Collections.unmodifiableList(segmentId_);
      }
      /**
       * <code>repeated string segmentId = 2;</code>
       *
       * <pre>
       * Ids of segments uploaded on client.
       * </pre>
       */
      public int getSegmentIdCount() {
        return segmentId_.size();
      }
      /**
       * <code>repeated string segmentId = 2;</code>
       *
       * <pre>
       * Ids of segments uploaded on client.
       * </pre>
       */
      public java.lang.String getSegmentId(int index) {
        return segmentId_.get(index);
      }
      /**
       * <code>repeated string segmentId = 2;</code>
       *
       * <pre>
       * Ids of segments uploaded on client.
       * </pre>
       */
      public com.google.protobuf.ByteString
          getSegmentIdBytes(int index) {
        return segmentId_.getByteString(index);
      }
      /**
       * <code>repeated string segmentId = 2;</code>
       *
       * <pre>
       * Ids of segments uploaded on client.
       * </pre>
       */
      public Builder setSegmentId(
          int index, java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  ensureSegmentIdIsMutable();
        segmentId_.set(index, value);
        onChanged();
        return this;
      }
      /**
       * <code>repeated string segmentId = 2;</code>
       *
       * <pre>
       * Ids of segments uploaded on client.
       * </pre>
       */
      public Builder addSegmentId(
          java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  ensureSegmentIdIsMutable();
        segmentId_.add(value);
        onChanged();
        return this;
      }
      /**
       * <code>repeated string segmentId = 2;</code>
       *
       * <pre>
       * Ids of segments uploaded on client.
       * </pre>
       */
      public Builder addAllSegmentId(
          java.lang.Iterable<java.lang.String> values) {
        ensureSegmentIdIsMutable();
        super.addAll(values, segmentId_);
        onChanged();
        return this;
      }
      /**
       * <code>repeated string segmentId = 2;</code>
       *
       * <pre>
       * Ids of segments uploaded on client.
       * </pre>
       */
      public Builder clearSegmentId() {
        segmentId_ = com.google.protobuf.LazyStringArrayList.EMPTY;
        bitField0_ = (bitField0_ & ~0x00000002);
        onChanged();
        return this;
      }
      /**
       * <code>repeated string segmentId = 2;</code>
       *
       * <pre>
       * Ids of segments uploaded on client.
       * </pre>
       */
      public Builder addSegmentIdBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  ensureSegmentIdIsMutable();
        segmentId_.add(value);
        onChanged();
        return this;
      }

      // repeated .federation.ProtocolHashedVersion knownVersion = 3;
      private java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion> knownVersion_ =
        java.util.Collections.emptyList();
      private void ensureKnownVersionIsMutable() {
        if (!((bitField0_ & 0x00000004) == 0x00000004)) {
          knownVersion_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion>(knownVersion_);
          bitField0_ |= 0x00000004;
         }
      }

      private com.google.protobuf.RepeatedFieldBuilder<
          org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder> knownVersionBuilder_;

      /**
       * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
       *
       * <pre>
       * Known versions from CC.
       * </pre>
       */
      public java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion> getKnownVersionList() {
        if (knownVersionBuilder_ == null) {
          return java.util.Collections.unmodifiableList(knownVersion_);
        } else {
          return knownVersionBuilder_.getMessageList();
        }
      }
      /**
       * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
       *
       * <pre>
       * Known versions from CC.
       * </pre>
       */
      public int getKnownVersionCount() {
        if (knownVersionBuilder_ == null) {
          return knownVersion_.size();
        } else {
          return knownVersionBuilder_.getCount();
        }
      }
      /**
       * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
       *
       * <pre>
       * Known versions from CC.
       * </pre>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getKnownVersion(int index) {
        if (knownVersionBuilder_ == null) {
          return knownVersion_.get(index);
        } else {
          return knownVersionBuilder_.getMessage(index);
        }
      }
      /**
       * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
       *
       * <pre>
       * Known versions from CC.
       * </pre>
       */
      public Builder setKnownVersion(
          int index, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion value) {
        if (knownVersionBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureKnownVersionIsMutable();
          knownVersion_.set(index, value);
          onChanged();
        } else {
          knownVersionBuilder_.setMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
       *
       * <pre>
       * Known versions from CC.
       * </pre>
       */
      public Builder setKnownVersion(
          int index, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder builderForValue) {
        if (knownVersionBuilder_ == null) {
          ensureKnownVersionIsMutable();
          knownVersion_.set(index, builderForValue.build());
          onChanged();
        } else {
          knownVersionBuilder_.setMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
       *
       * <pre>
       * Known versions from CC.
       * </pre>
       */
      public Builder addKnownVersion(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion value) {
        if (knownVersionBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureKnownVersionIsMutable();
          knownVersion_.add(value);
          onChanged();
        } else {
          knownVersionBuilder_.addMessage(value);
        }
        return this;
      }
      /**
       * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
       *
       * <pre>
       * Known versions from CC.
       * </pre>
       */
      public Builder addKnownVersion(
          int index, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion value) {
        if (knownVersionBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureKnownVersionIsMutable();
          knownVersion_.add(index, value);
          onChanged();
        } else {
          knownVersionBuilder_.addMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
       *
       * <pre>
       * Known versions from CC.
       * </pre>
       */
      public Builder addKnownVersion(
          org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder builderForValue) {
        if (knownVersionBuilder_ == null) {
          ensureKnownVersionIsMutable();
          knownVersion_.add(builderForValue.build());
          onChanged();
        } else {
          knownVersionBuilder_.addMessage(builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
       *
       * <pre>
       * Known versions from CC.
       * </pre>
       */
      public Builder addKnownVersion(
          int index, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder builderForValue) {
        if (knownVersionBuilder_ == null) {
          ensureKnownVersionIsMutable();
          knownVersion_.add(index, builderForValue.build());
          onChanged();
        } else {
          knownVersionBuilder_.addMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
       *
       * <pre>
       * Known versions from CC.
       * </pre>
       */
      public Builder addAllKnownVersion(
          java.lang.Iterable<? extends org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion> values) {
        if (knownVersionBuilder_ == null) {
          ensureKnownVersionIsMutable();
          super.addAll(values, knownVersion_);
          onChanged();
        } else {
          knownVersionBuilder_.addAllMessages(values);
        }
        return this;
      }
      /**
       * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
       *
       * <pre>
       * Known versions from CC.
       * </pre>
       */
      public Builder clearKnownVersion() {
        if (knownVersionBuilder_ == null) {
          knownVersion_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000004);
          onChanged();
        } else {
          knownVersionBuilder_.clear();
        }
        return this;
      }
      /**
       * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
       *
       * <pre>
       * Known versions from CC.
       * </pre>
       */
      public Builder removeKnownVersion(int index) {
        if (knownVersionBuilder_ == null) {
          ensureKnownVersionIsMutable();
          knownVersion_.remove(index);
          onChanged();
        } else {
          knownVersionBuilder_.remove(index);
        }
        return this;
      }
      /**
       * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
       *
       * <pre>
       * Known versions from CC.
       * </pre>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder getKnownVersionBuilder(
          int index) {
        return getKnownVersionFieldBuilder().getBuilder(index);
      }
      /**
       * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
       *
       * <pre>
       * Known versions from CC.
       * </pre>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder getKnownVersionOrBuilder(
          int index) {
        if (knownVersionBuilder_ == null) {
          return knownVersion_.get(index);  } else {
          return knownVersionBuilder_.getMessageOrBuilder(index);
        }
      }
      /**
       * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
       *
       * <pre>
       * Known versions from CC.
       * </pre>
       */
      public java.util.List<? extends org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder> 
           getKnownVersionOrBuilderList() {
        if (knownVersionBuilder_ != null) {
          return knownVersionBuilder_.getMessageOrBuilderList();
        } else {
          return java.util.Collections.unmodifiableList(knownVersion_);
        }
      }
      /**
       * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
       *
       * <pre>
       * Known versions from CC.
       * </pre>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder addKnownVersionBuilder() {
        return getKnownVersionFieldBuilder().addBuilder(
            org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance());
      }
      /**
       * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
       *
       * <pre>
       * Known versions from CC.
       * </pre>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder addKnownVersionBuilder(
          int index) {
        return getKnownVersionFieldBuilder().addBuilder(
            index, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance());
      }
      /**
       * <code>repeated .federation.ProtocolHashedVersion knownVersion = 3;</code>
       *
       * <pre>
       * Known versions from CC.
       * </pre>
       */
      public java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder> 
           getKnownVersionBuilderList() {
        return getKnownVersionFieldBuilder().getBuilderList();
      }
      private com.google.protobuf.RepeatedFieldBuilder<
          org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder> 
          getKnownVersionFieldBuilder() {
        if (knownVersionBuilder_ == null) {
          knownVersionBuilder_ = new com.google.protobuf.RepeatedFieldBuilder<
              org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder>(
                  knownVersion_,
                  ((bitField0_ & 0x00000004) == 0x00000004),
                  getParentForChildren(),
                  isClean());
          knownVersion_ = null;
        }
        return knownVersionBuilder_;
      }

      // optional .federation.ProtocolWaveletDelta unacknowledgedDelta = 4;
      private org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta unacknowledgedDelta_ = org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.getDefaultInstance();
      private com.google.protobuf.SingleFieldBuilder<
          org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta, org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.Builder, org.waveprotocol.wave.federation.Proto.ProtocolWaveletDeltaOrBuilder> unacknowledgedDeltaBuilder_;
      /**
       * <code>optional .federation.ProtocolWaveletDelta unacknowledgedDelta = 4;</code>
       *
       * <pre>
       * Unacknowldged delta.
       * </pre>
       */
      public boolean hasUnacknowledgedDelta() {
        return ((bitField0_ & 0x00000008) == 0x00000008);
      }
      /**
       * <code>optional .federation.ProtocolWaveletDelta unacknowledgedDelta = 4;</code>
       *
       * <pre>
       * Unacknowldged delta.
       * </pre>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta getUnacknowledgedDelta() {
        if (unacknowledgedDeltaBuilder_ == null) {
          return unacknowledgedDelta_;
        } else {
          return unacknowledgedDeltaBuilder_.getMessage();
        }
      }
      /**
       * <code>optional .federation.ProtocolWaveletDelta unacknowledgedDelta = 4;</code>
       *
       * <pre>
       * Unacknowldged delta.
       * </pre>
       */
      public Builder setUnacknowledgedDelta(org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta value) {
        if (unacknowledgedDeltaBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          unacknowledgedDelta_ = value;
          onChanged();
        } else {
          unacknowledgedDeltaBuilder_.setMessage(value);
        }
        bitField0_ |= 0x00000008;
        return this;
      }
      /**
       * <code>optional .federation.ProtocolWaveletDelta unacknowledgedDelta = 4;</code>
       *
       * <pre>
       * Unacknowldged delta.
       * </pre>
       */
      public Builder setUnacknowledgedDelta(
          org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.Builder builderForValue) {
        if (unacknowledgedDeltaBuilder_ == null) {
          unacknowledgedDelta_ = builderForValue.build();
          onChanged();
        } else {
          unacknowledgedDeltaBuilder_.setMessage(builderForValue.build());
        }
        bitField0_ |= 0x00000008;
        return this;
      }
      /**
       * <code>optional .federation.ProtocolWaveletDelta unacknowledgedDelta = 4;</code>
       *
       * <pre>
       * Unacknowldged delta.
       * </pre>
       */
      public Builder mergeUnacknowledgedDelta(org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta value) {
        if (unacknowledgedDeltaBuilder_ == null) {
          if (((bitField0_ & 0x00000008) == 0x00000008) &&
              unacknowledgedDelta_ != org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.getDefaultInstance()) {
            unacknowledgedDelta_ =
              org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.newBuilder(unacknowledgedDelta_).mergeFrom(value).buildPartial();
          } else {
            unacknowledgedDelta_ = value;
          }
          onChanged();
        } else {
          unacknowledgedDeltaBuilder_.mergeFrom(value);
        }
        bitField0_ |= 0x00000008;
        return this;
      }
      /**
       * <code>optional .federation.ProtocolWaveletDelta unacknowledgedDelta = 4;</code>
       *
       * <pre>
       * Unacknowldged delta.
       * </pre>
       */
      public Builder clearUnacknowledgedDelta() {
        if (unacknowledgedDeltaBuilder_ == null) {
          unacknowledgedDelta_ = org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.getDefaultInstance();
          onChanged();
        } else {
          unacknowledgedDeltaBuilder_.clear();
        }
        bitField0_ = (bitField0_ & ~0x00000008);
        return this;
      }
      /**
       * <code>optional .federation.ProtocolWaveletDelta unacknowledgedDelta = 4;</code>
       *
       * <pre>
       * Unacknowldged delta.
       * </pre>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.Builder getUnacknowledgedDeltaBuilder() {
        bitField0_ |= 0x00000008;
        onChanged();
        return getUnacknowledgedDeltaFieldBuilder().getBuilder();
      }
      /**
       * <code>optional .federation.ProtocolWaveletDelta unacknowledgedDelta = 4;</code>
       *
       * <pre>
       * Unacknowldged delta.
       * </pre>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolWaveletDeltaOrBuilder getUnacknowledgedDeltaOrBuilder() {
        if (unacknowledgedDeltaBuilder_ != null) {
          return unacknowledgedDeltaBuilder_.getMessageOrBuilder();
        } else {
          return unacknowledgedDelta_;
        }
      }
      /**
       * <code>optional .federation.ProtocolWaveletDelta unacknowledgedDelta = 4;</code>
       *
       * <pre>
       * Unacknowldged delta.
       * </pre>
       */
      private com.google.protobuf.SingleFieldBuilder<
          org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta, org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.Builder, org.waveprotocol.wave.federation.Proto.ProtocolWaveletDeltaOrBuilder> 
          getUnacknowledgedDeltaFieldBuilder() {
        if (unacknowledgedDeltaBuilder_ == null) {
          unacknowledgedDeltaBuilder_ = new com.google.protobuf.SingleFieldBuilder<
              org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta, org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.Builder, org.waveprotocol.wave.federation.Proto.ProtocolWaveletDeltaOrBuilder>(
                  unacknowledgedDelta_,
                  getParentForChildren(),
                  isClean());
          unacknowledgedDelta_ = null;
        }
        return unacknowledgedDeltaBuilder_;
      }

      // @@protoc_insertion_point(builder_scope:clientserver.OpenWaveletChannelRequest)
    }

    static {
      defaultInstance = new OpenWaveletChannelRequest(true);
      defaultInstance.initFields();
    }

    // @@protoc_insertion_point(class_scope:clientserver.OpenWaveletChannelRequest)
  }

  public interface OpenWaveletChannelStreamOrBuilder
      extends com.google.protobuf.MessageOrBuilder {

    // optional string channelId = 1;
    /**
     * <code>optional string channelId = 1;</code>
     *
     * <pre>
     * Channel id is provided only in the first message
     * </pre>
     */
    boolean hasChannelId();
    /**
     * <code>optional string channelId = 1;</code>
     *
     * <pre>
     * Channel id is provided only in the first message
     * </pre>
     */
    java.lang.String getChannelId();
    /**
     * <code>optional string channelId = 1;</code>
     *
     * <pre>
     * Channel id is provided only in the first message
     * </pre>
     */
    com.google.protobuf.ByteString
        getChannelIdBytes();

    // optional .clientserver.OpenWaveletChannelStream.ChannelOpen channelOpen = 2;
    /**
     * <code>optional .clientserver.OpenWaveletChannelStream.ChannelOpen channelOpen = 2;</code>
     */
    boolean hasChannelOpen();
    /**
     * <code>optional .clientserver.OpenWaveletChannelStream.ChannelOpen channelOpen = 2;</code>
     */
    org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen getChannelOpen();
    /**
     * <code>optional .clientserver.OpenWaveletChannelStream.ChannelOpen channelOpen = 2;</code>
     */
    org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpenOrBuilder getChannelOpenOrBuilder();

    // repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;
    /**
     * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
     */
    java.util.List<org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate> 
        getDeltaList();
    /**
     * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
     */
    org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate getDelta(int index);
    /**
     * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
     */
    int getDeltaCount();
    /**
     * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
     */
    java.util.List<? extends org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdateOrBuilder> 
        getDeltaOrBuilderList();
    /**
     * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
     */
    org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdateOrBuilder getDeltaOrBuilder(
        int index);

    // optional .federation.ProtocolHashedVersion commitVersion = 4;
    /**
     * <code>optional .federation.ProtocolHashedVersion commitVersion = 4;</code>
     */
    boolean hasCommitVersion();
    /**
     * <code>optional .federation.ProtocolHashedVersion commitVersion = 4;</code>
     */
    org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getCommitVersion();
    /**
     * <code>optional .federation.ProtocolHashedVersion commitVersion = 4;</code>
     */
    org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder getCommitVersionOrBuilder();

    // optional .clientserver.WaveletChannelTerminator terminator = 5;
    /**
     * <code>optional .clientserver.WaveletChannelTerminator terminator = 5;</code>
     *
     * <pre>
     * Last message contains only a terminator.
     * </pre>
     */
    boolean hasTerminator();
    /**
     * <code>optional .clientserver.WaveletChannelTerminator terminator = 5;</code>
     *
     * <pre>
     * Last message contains only a terminator.
     * </pre>
     */
    org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator getTerminator();
    /**
     * <code>optional .clientserver.WaveletChannelTerminator terminator = 5;</code>
     *
     * <pre>
     * Last message contains only a terminator.
     * </pre>
     */
    org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminatorOrBuilder getTerminatorOrBuilder();
  }
  /**
   * Protobuf type {@code clientserver.OpenWaveletChannelStream}
   *
   * <pre>
   ** Repeated message for a wavelet channels. 
   * </pre>
   */
  public static final class OpenWaveletChannelStream extends
      com.google.protobuf.GeneratedMessage
      implements OpenWaveletChannelStreamOrBuilder {
    // Use OpenWaveletChannelStream.newBuilder() to construct.
    private OpenWaveletChannelStream(com.google.protobuf.GeneratedMessage.Builder<?> builder) {
      super(builder);
      this.unknownFields = builder.getUnknownFields();
    }
    private OpenWaveletChannelStream(boolean noInit) { this.unknownFields = com.google.protobuf.UnknownFieldSet.getDefaultInstance(); }

    private static final OpenWaveletChannelStream defaultInstance;
    public static OpenWaveletChannelStream getDefaultInstance() {
      return defaultInstance;
    }

    public OpenWaveletChannelStream getDefaultInstanceForType() {
      return defaultInstance;
    }

    private final com.google.protobuf.UnknownFieldSet unknownFields;
    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
        getUnknownFields() {
      return this.unknownFields;
    }
    private OpenWaveletChannelStream(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      initFields();
      int mutable_bitField0_ = 0;
      com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder();
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!parseUnknownField(input, unknownFields,
                                     extensionRegistry, tag)) {
                done = true;
              }
              break;
            }
            case 10: {
              bitField0_ |= 0x00000001;
              channelId_ = input.readBytes();
              break;
            }
            case 18: {
              org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen.Builder subBuilder = null;
              if (((bitField0_ & 0x00000002) == 0x00000002)) {
                subBuilder = channelOpen_.toBuilder();
              }
              channelOpen_ = input.readMessage(org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen.PARSER, extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(channelOpen_);
                channelOpen_ = subBuilder.buildPartial();
              }
              bitField0_ |= 0x00000002;
              break;
            }
            case 26: {
              if (!((mutable_bitField0_ & 0x00000004) == 0x00000004)) {
                delta_ = new java.util.ArrayList<org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate>();
                mutable_bitField0_ |= 0x00000004;
              }
              delta_.add(input.readMessage(org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate.PARSER, extensionRegistry));
              break;
            }
            case 34: {
              org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder subBuilder = null;
              if (((bitField0_ & 0x00000004) == 0x00000004)) {
                subBuilder = commitVersion_.toBuilder();
              }
              commitVersion_ = input.readMessage(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.PARSER, extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(commitVersion_);
                commitVersion_ = subBuilder.buildPartial();
              }
              bitField0_ |= 0x00000004;
              break;
            }
            case 42: {
              org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator.Builder subBuilder = null;
              if (((bitField0_ & 0x00000008) == 0x00000008)) {
                subBuilder = terminator_.toBuilder();
              }
              terminator_ = input.readMessage(org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator.PARSER, extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(terminator_);
                terminator_ = subBuilder.buildPartial();
              }
              bitField0_ |= 0x00000008;
              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e.getMessage()).setUnfinishedMessage(this);
      } finally {
        if (((mutable_bitField0_ & 0x00000004) == 0x00000004)) {
          delta_ = java.util.Collections.unmodifiableList(delta_);
        }
        this.unknownFields = unknownFields.build();
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_OpenWaveletChannelStream_descriptor;
    }

    protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_OpenWaveletChannelStream_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.class, org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.Builder.class);
    }

    public static com.google.protobuf.Parser<OpenWaveletChannelStream> PARSER =
        new com.google.protobuf.AbstractParser<OpenWaveletChannelStream>() {
      public OpenWaveletChannelStream parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return new OpenWaveletChannelStream(input, extensionRegistry);
      }
    };

    @java.lang.Override
    public com.google.protobuf.Parser<OpenWaveletChannelStream> getParserForType() {
      return PARSER;
    }

    public interface ChannelOpenOrBuilder
        extends com.google.protobuf.MessageOrBuilder {

      // required .federation.ProtocolHashedVersion connectVersion = 1;
      /**
       * <code>required .federation.ProtocolHashedVersion connectVersion = 1;</code>
       *
       * <pre>
       * Start version.
       * </pre>
       */
      boolean hasConnectVersion();
      /**
       * <code>required .federation.ProtocolHashedVersion connectVersion = 1;</code>
       *
       * <pre>
       * Start version.
       * </pre>
       */
      org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getConnectVersion();
      /**
       * <code>required .federation.ProtocolHashedVersion connectVersion = 1;</code>
       *
       * <pre>
       * Start version.
       * </pre>
       */
      org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder getConnectVersionOrBuilder();

      // repeated .clientserver.SegmentFragment fragment = 2;
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Fragments of the segments.
       * </pre>
       */
      java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment> 
          getFragmentList();
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Fragments of the segments.
       * </pre>
       */
      org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment getFragment(int index);
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Fragments of the segments.
       * </pre>
       */
      int getFragmentCount();
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Fragments of the segments.
       * </pre>
       */
      java.util.List<? extends org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder> 
          getFragmentOrBuilderList();
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Fragments of the segments.
       * </pre>
       */
      org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder getFragmentOrBuilder(
          int index);

      // required .federation.ProtocolHashedVersion lastModifiedVersion = 3;
      /**
       * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 3;</code>
       *
       * <pre>
       * Current version and modification timestamp of the wavelet.
       * </pre>
       */
      boolean hasLastModifiedVersion();
      /**
       * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 3;</code>
       *
       * <pre>
       * Current version and modification timestamp of the wavelet.
       * </pre>
       */
      org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getLastModifiedVersion();
      /**
       * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 3;</code>
       *
       * <pre>
       * Current version and modification timestamp of the wavelet.
       * </pre>
       */
      org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder getLastModifiedVersionOrBuilder();

      // required int64 lastModifiedTime = 4;
      /**
       * <code>required int64 lastModifiedTime = 4;</code>
       */
      boolean hasLastModifiedTime();
      /**
       * <code>required int64 lastModifiedTime = 4;</code>
       */
      long getLastModifiedTime();

      // optional .federation.ProtocolHashedVersion unacknowledgedDeltaVersion = 5;
      /**
       * <code>optional .federation.ProtocolHashedVersion unacknowledgedDeltaVersion = 5;</code>
       *
       * <pre>
       * For connection repairing. Version of unacknowledged delta found in deltas history.
       * </pre>
       */
      boolean hasUnacknowledgedDeltaVersion();
      /**
       * <code>optional .federation.ProtocolHashedVersion unacknowledgedDeltaVersion = 5;</code>
       *
       * <pre>
       * For connection repairing. Version of unacknowledged delta found in deltas history.
       * </pre>
       */
      org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getUnacknowledgedDeltaVersion();
      /**
       * <code>optional .federation.ProtocolHashedVersion unacknowledgedDeltaVersion = 5;</code>
       *
       * <pre>
       * For connection repairing. Version of unacknowledged delta found in deltas history.
       * </pre>
       */
      org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder getUnacknowledgedDeltaVersionOrBuilder();
    }
    /**
     * Protobuf type {@code clientserver.OpenWaveletChannelStream.ChannelOpen}
     *
     * <pre>
     * Provided only in the first message.
     * </pre>
     */
    public static final class ChannelOpen extends
        com.google.protobuf.GeneratedMessage
        implements ChannelOpenOrBuilder {
      // Use ChannelOpen.newBuilder() to construct.
      private ChannelOpen(com.google.protobuf.GeneratedMessage.Builder<?> builder) {
        super(builder);
        this.unknownFields = builder.getUnknownFields();
      }
      private ChannelOpen(boolean noInit) { this.unknownFields = com.google.protobuf.UnknownFieldSet.getDefaultInstance(); }

      private static final ChannelOpen defaultInstance;
      public static ChannelOpen getDefaultInstance() {
        return defaultInstance;
      }

      public ChannelOpen getDefaultInstanceForType() {
        return defaultInstance;
      }

      private final com.google.protobuf.UnknownFieldSet unknownFields;
      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
          getUnknownFields() {
        return this.unknownFields;
      }
      private ChannelOpen(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        initFields();
        int mutable_bitField0_ = 0;
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              default: {
                if (!parseUnknownField(input, unknownFields,
                                       extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
              case 10: {
                org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder subBuilder = null;
                if (((bitField0_ & 0x00000001) == 0x00000001)) {
                  subBuilder = connectVersion_.toBuilder();
                }
                connectVersion_ = input.readMessage(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.PARSER, extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(connectVersion_);
                  connectVersion_ = subBuilder.buildPartial();
                }
                bitField0_ |= 0x00000001;
                break;
              }
              case 18: {
                if (!((mutable_bitField0_ & 0x00000002) == 0x00000002)) {
                  fragment_ = new java.util.ArrayList<org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment>();
                  mutable_bitField0_ |= 0x00000002;
                }
                fragment_.add(input.readMessage(org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.PARSER, extensionRegistry));
                break;
              }
              case 26: {
                org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder subBuilder = null;
                if (((bitField0_ & 0x00000002) == 0x00000002)) {
                  subBuilder = lastModifiedVersion_.toBuilder();
                }
                lastModifiedVersion_ = input.readMessage(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.PARSER, extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(lastModifiedVersion_);
                  lastModifiedVersion_ = subBuilder.buildPartial();
                }
                bitField0_ |= 0x00000002;
                break;
              }
              case 32: {
                bitField0_ |= 0x00000004;
                lastModifiedTime_ = input.readInt64();
                break;
              }
              case 42: {
                org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder subBuilder = null;
                if (((bitField0_ & 0x00000008) == 0x00000008)) {
                  subBuilder = unacknowledgedDeltaVersion_.toBuilder();
                }
                unacknowledgedDeltaVersion_ = input.readMessage(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.PARSER, extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(unacknowledgedDeltaVersion_);
                  unacknowledgedDeltaVersion_ = subBuilder.buildPartial();
                }
                bitField0_ |= 0x00000008;
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e.getMessage()).setUnfinishedMessage(this);
        } finally {
          if (((mutable_bitField0_ & 0x00000002) == 0x00000002)) {
            fragment_ = java.util.Collections.unmodifiableList(fragment_);
          }
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_OpenWaveletChannelStream_ChannelOpen_descriptor;
      }

      protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_OpenWaveletChannelStream_ChannelOpen_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen.class, org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen.Builder.class);
      }

      public static com.google.protobuf.Parser<ChannelOpen> PARSER =
          new com.google.protobuf.AbstractParser<ChannelOpen>() {
        public ChannelOpen parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new ChannelOpen(input, extensionRegistry);
        }
      };

      @java.lang.Override
      public com.google.protobuf.Parser<ChannelOpen> getParserForType() {
        return PARSER;
      }

      private int bitField0_;
      // required .federation.ProtocolHashedVersion connectVersion = 1;
      public static final int CONNECTVERSION_FIELD_NUMBER = 1;
      private org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion connectVersion_;
      /**
       * <code>required .federation.ProtocolHashedVersion connectVersion = 1;</code>
       *
       * <pre>
       * Start version.
       * </pre>
       */
      public boolean hasConnectVersion() {
        return ((bitField0_ & 0x00000001) == 0x00000001);
      }
      /**
       * <code>required .federation.ProtocolHashedVersion connectVersion = 1;</code>
       *
       * <pre>
       * Start version.
       * </pre>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getConnectVersion() {
        return connectVersion_;
      }
      /**
       * <code>required .federation.ProtocolHashedVersion connectVersion = 1;</code>
       *
       * <pre>
       * Start version.
       * </pre>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder getConnectVersionOrBuilder() {
        return connectVersion_;
      }

      // repeated .clientserver.SegmentFragment fragment = 2;
      public static final int FRAGMENT_FIELD_NUMBER = 2;
      private java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment> fragment_;
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Fragments of the segments.
       * </pre>
       */
      public java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment> getFragmentList() {
        return fragment_;
      }
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Fragments of the segments.
       * </pre>
       */
      public java.util.List<? extends org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder> 
          getFragmentOrBuilderList() {
        return fragment_;
      }
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Fragments of the segments.
       * </pre>
       */
      public int getFragmentCount() {
        return fragment_.size();
      }
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Fragments of the segments.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment getFragment(int index) {
        return fragment_.get(index);
      }
      /**
       * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
       *
       * <pre>
       * Fragments of the segments.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder getFragmentOrBuilder(
          int index) {
        return fragment_.get(index);
      }

      // required .federation.ProtocolHashedVersion lastModifiedVersion = 3;
      public static final int LASTMODIFIEDVERSION_FIELD_NUMBER = 3;
      private org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion lastModifiedVersion_;
      /**
       * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 3;</code>
       *
       * <pre>
       * Current version and modification timestamp of the wavelet.
       * </pre>
       */
      public boolean hasLastModifiedVersion() {
        return ((bitField0_ & 0x00000002) == 0x00000002);
      }
      /**
       * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 3;</code>
       *
       * <pre>
       * Current version and modification timestamp of the wavelet.
       * </pre>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getLastModifiedVersion() {
        return lastModifiedVersion_;
      }
      /**
       * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 3;</code>
       *
       * <pre>
       * Current version and modification timestamp of the wavelet.
       * </pre>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder getLastModifiedVersionOrBuilder() {
        return lastModifiedVersion_;
      }

      // required int64 lastModifiedTime = 4;
      public static final int LASTMODIFIEDTIME_FIELD_NUMBER = 4;
      private long lastModifiedTime_;
      /**
       * <code>required int64 lastModifiedTime = 4;</code>
       */
      public boolean hasLastModifiedTime() {
        return ((bitField0_ & 0x00000004) == 0x00000004);
      }
      /**
       * <code>required int64 lastModifiedTime = 4;</code>
       */
      public long getLastModifiedTime() {
        return lastModifiedTime_;
      }

      // optional .federation.ProtocolHashedVersion unacknowledgedDeltaVersion = 5;
      public static final int UNACKNOWLEDGEDDELTAVERSION_FIELD_NUMBER = 5;
      private org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion unacknowledgedDeltaVersion_;
      /**
       * <code>optional .federation.ProtocolHashedVersion unacknowledgedDeltaVersion = 5;</code>
       *
       * <pre>
       * For connection repairing. Version of unacknowledged delta found in deltas history.
       * </pre>
       */
      public boolean hasUnacknowledgedDeltaVersion() {
        return ((bitField0_ & 0x00000008) == 0x00000008);
      }
      /**
       * <code>optional .federation.ProtocolHashedVersion unacknowledgedDeltaVersion = 5;</code>
       *
       * <pre>
       * For connection repairing. Version of unacknowledged delta found in deltas history.
       * </pre>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getUnacknowledgedDeltaVersion() {
        return unacknowledgedDeltaVersion_;
      }
      /**
       * <code>optional .federation.ProtocolHashedVersion unacknowledgedDeltaVersion = 5;</code>
       *
       * <pre>
       * For connection repairing. Version of unacknowledged delta found in deltas history.
       * </pre>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder getUnacknowledgedDeltaVersionOrBuilder() {
        return unacknowledgedDeltaVersion_;
      }

      private void initFields() {
        connectVersion_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
        fragment_ = java.util.Collections.emptyList();
        lastModifiedVersion_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
        lastModifiedTime_ = 0L;
        unacknowledgedDeltaVersion_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
      }
      private byte memoizedIsInitialized = -1;
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized != -1) return isInitialized == 1;

        if (!hasConnectVersion()) {
          memoizedIsInitialized = 0;
          return false;
        }
        if (!hasLastModifiedVersion()) {
          memoizedIsInitialized = 0;
          return false;
        }
        if (!hasLastModifiedTime()) {
          memoizedIsInitialized = 0;
          return false;
        }
        if (!getConnectVersion().isInitialized()) {
          memoizedIsInitialized = 0;
          return false;
        }
        for (int i = 0; i < getFragmentCount(); i++) {
          if (!getFragment(i).isInitialized()) {
            memoizedIsInitialized = 0;
            return false;
          }
        }
        if (!getLastModifiedVersion().isInitialized()) {
          memoizedIsInitialized = 0;
          return false;
        }
        if (hasUnacknowledgedDeltaVersion()) {
          if (!getUnacknowledgedDeltaVersion().isInitialized()) {
            memoizedIsInitialized = 0;
            return false;
          }
        }
        memoizedIsInitialized = 1;
        return true;
      }

      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        getSerializedSize();
        if (((bitField0_ & 0x00000001) == 0x00000001)) {
          output.writeMessage(1, connectVersion_);
        }
        for (int i = 0; i < fragment_.size(); i++) {
          output.writeMessage(2, fragment_.get(i));
        }
        if (((bitField0_ & 0x00000002) == 0x00000002)) {
          output.writeMessage(3, lastModifiedVersion_);
        }
        if (((bitField0_ & 0x00000004) == 0x00000004)) {
          output.writeInt64(4, lastModifiedTime_);
        }
        if (((bitField0_ & 0x00000008) == 0x00000008)) {
          output.writeMessage(5, unacknowledgedDeltaVersion_);
        }
        getUnknownFields().writeTo(output);
      }

      private int memoizedSerializedSize = -1;
      public int getSerializedSize() {
        int size = memoizedSerializedSize;
        if (size != -1) return size;

        size = 0;
        if (((bitField0_ & 0x00000001) == 0x00000001)) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(1, connectVersion_);
        }
        for (int i = 0; i < fragment_.size(); i++) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(2, fragment_.get(i));
        }
        if (((bitField0_ & 0x00000002) == 0x00000002)) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(3, lastModifiedVersion_);
        }
        if (((bitField0_ & 0x00000004) == 0x00000004)) {
          size += com.google.protobuf.CodedOutputStream
            .computeInt64Size(4, lastModifiedTime_);
        }
        if (((bitField0_ & 0x00000008) == 0x00000008)) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(5, unacknowledgedDeltaVersion_);
        }
        size += getUnknownFields().getSerializedSize();
        memoizedSerializedSize = size;
        return size;
      }

      private static final long serialVersionUID = 0L;
      @java.lang.Override
      protected java.lang.Object writeReplace()
          throws java.io.ObjectStreamException {
        return super.writeReplace();
      }

      public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return PARSER.parseFrom(input);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return PARSER.parseFrom(input, extensionRegistry);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return PARSER.parseDelimitedFrom(input);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return PARSER.parseDelimitedFrom(input, extensionRegistry);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return PARSER.parseFrom(input);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return PARSER.parseFrom(input, extensionRegistry);
      }

      public static Builder newBuilder() { return Builder.create(); }
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder(org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen prototype) {
        return newBuilder().mergeFrom(prototype);
      }
      public Builder toBuilder() { return newBuilder(this); }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessage.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code clientserver.OpenWaveletChannelStream.ChannelOpen}
       *
       * <pre>
       * Provided only in the first message.
       * </pre>
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessage.Builder<Builder>
         implements org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpenOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_OpenWaveletChannelStream_ChannelOpen_descriptor;
        }

        protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_OpenWaveletChannelStream_ChannelOpen_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen.class, org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen.Builder.class);
        }

        // Construct using org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessage.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders) {
            getConnectVersionFieldBuilder();
            getFragmentFieldBuilder();
            getLastModifiedVersionFieldBuilder();
            getUnacknowledgedDeltaVersionFieldBuilder();
          }
        }
        private static Builder create() {
          return new Builder();
        }

        public Builder clear() {
          super.clear();
          if (connectVersionBuilder_ == null) {
            connectVersion_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
          } else {
            connectVersionBuilder_.clear();
          }
          bitField0_ = (bitField0_ & ~0x00000001);
          if (fragmentBuilder_ == null) {
            fragment_ = java.util.Collections.emptyList();
            bitField0_ = (bitField0_ & ~0x00000002);
          } else {
            fragmentBuilder_.clear();
          }
          if (lastModifiedVersionBuilder_ == null) {
            lastModifiedVersion_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
          } else {
            lastModifiedVersionBuilder_.clear();
          }
          bitField0_ = (bitField0_ & ~0x00000004);
          lastModifiedTime_ = 0L;
          bitField0_ = (bitField0_ & ~0x00000008);
          if (unacknowledgedDeltaVersionBuilder_ == null) {
            unacknowledgedDeltaVersion_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
          } else {
            unacknowledgedDeltaVersionBuilder_.clear();
          }
          bitField0_ = (bitField0_ & ~0x00000010);
          return this;
        }

        public Builder clone() {
          return create().mergeFrom(buildPartial());
        }

        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_OpenWaveletChannelStream_ChannelOpen_descriptor;
        }

        public org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen getDefaultInstanceForType() {
          return org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen.getDefaultInstance();
        }

        public org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen build() {
          org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        public org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen buildPartial() {
          org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen result = new org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen(this);
          int from_bitField0_ = bitField0_;
          int to_bitField0_ = 0;
          if (((from_bitField0_ & 0x00000001) == 0x00000001)) {
            to_bitField0_ |= 0x00000001;
          }
          if (connectVersionBuilder_ == null) {
            result.connectVersion_ = connectVersion_;
          } else {
            result.connectVersion_ = connectVersionBuilder_.build();
          }
          if (fragmentBuilder_ == null) {
            if (((bitField0_ & 0x00000002) == 0x00000002)) {
              fragment_ = java.util.Collections.unmodifiableList(fragment_);
              bitField0_ = (bitField0_ & ~0x00000002);
            }
            result.fragment_ = fragment_;
          } else {
            result.fragment_ = fragmentBuilder_.build();
          }
          if (((from_bitField0_ & 0x00000004) == 0x00000004)) {
            to_bitField0_ |= 0x00000002;
          }
          if (lastModifiedVersionBuilder_ == null) {
            result.lastModifiedVersion_ = lastModifiedVersion_;
          } else {
            result.lastModifiedVersion_ = lastModifiedVersionBuilder_.build();
          }
          if (((from_bitField0_ & 0x00000008) == 0x00000008)) {
            to_bitField0_ |= 0x00000004;
          }
          result.lastModifiedTime_ = lastModifiedTime_;
          if (((from_bitField0_ & 0x00000010) == 0x00000010)) {
            to_bitField0_ |= 0x00000008;
          }
          if (unacknowledgedDeltaVersionBuilder_ == null) {
            result.unacknowledgedDeltaVersion_ = unacknowledgedDeltaVersion_;
          } else {
            result.unacknowledgedDeltaVersion_ = unacknowledgedDeltaVersionBuilder_.build();
          }
          result.bitField0_ = to_bitField0_;
          onBuilt();
          return result;
        }

        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen) {
            return mergeFrom((org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen other) {
          if (other == org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen.getDefaultInstance()) return this;
          if (other.hasConnectVersion()) {
            mergeConnectVersion(other.getConnectVersion());
          }
          if (fragmentBuilder_ == null) {
            if (!other.fragment_.isEmpty()) {
              if (fragment_.isEmpty()) {
                fragment_ = other.fragment_;
                bitField0_ = (bitField0_ & ~0x00000002);
              } else {
                ensureFragmentIsMutable();
                fragment_.addAll(other.fragment_);
              }
              onChanged();
            }
          } else {
            if (!other.fragment_.isEmpty()) {
              if (fragmentBuilder_.isEmpty()) {
                fragmentBuilder_.dispose();
                fragmentBuilder_ = null;
                fragment_ = other.fragment_;
                bitField0_ = (bitField0_ & ~0x00000002);
                fragmentBuilder_ = 
                  com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders ?
                     getFragmentFieldBuilder() : null;
              } else {
                fragmentBuilder_.addAllMessages(other.fragment_);
              }
            }
          }
          if (other.hasLastModifiedVersion()) {
            mergeLastModifiedVersion(other.getLastModifiedVersion());
          }
          if (other.hasLastModifiedTime()) {
            setLastModifiedTime(other.getLastModifiedTime());
          }
          if (other.hasUnacknowledgedDeltaVersion()) {
            mergeUnacknowledgedDeltaVersion(other.getUnacknowledgedDeltaVersion());
          }
          this.mergeUnknownFields(other.getUnknownFields());
          return this;
        }

        public final boolean isInitialized() {
          if (!hasConnectVersion()) {
            
            return false;
          }
          if (!hasLastModifiedVersion()) {
            
            return false;
          }
          if (!hasLastModifiedTime()) {
            
            return false;
          }
          if (!getConnectVersion().isInitialized()) {
            
            return false;
          }
          for (int i = 0; i < getFragmentCount(); i++) {
            if (!getFragment(i).isInitialized()) {
              
              return false;
            }
          }
          if (!getLastModifiedVersion().isInitialized()) {
            
            return false;
          }
          if (hasUnacknowledgedDeltaVersion()) {
            if (!getUnacknowledgedDeltaVersion().isInitialized()) {
              
              return false;
            }
          }
          return true;
        }

        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen) e.getUnfinishedMessage();
            throw e;
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }
        private int bitField0_;

        // required .federation.ProtocolHashedVersion connectVersion = 1;
        private org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion connectVersion_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
        private com.google.protobuf.SingleFieldBuilder<
            org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder> connectVersionBuilder_;
        /**
         * <code>required .federation.ProtocolHashedVersion connectVersion = 1;</code>
         *
         * <pre>
         * Start version.
         * </pre>
         */
        public boolean hasConnectVersion() {
          return ((bitField0_ & 0x00000001) == 0x00000001);
        }
        /**
         * <code>required .federation.ProtocolHashedVersion connectVersion = 1;</code>
         *
         * <pre>
         * Start version.
         * </pre>
         */
        public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getConnectVersion() {
          if (connectVersionBuilder_ == null) {
            return connectVersion_;
          } else {
            return connectVersionBuilder_.getMessage();
          }
        }
        /**
         * <code>required .federation.ProtocolHashedVersion connectVersion = 1;</code>
         *
         * <pre>
         * Start version.
         * </pre>
         */
        public Builder setConnectVersion(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion value) {
          if (connectVersionBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            connectVersion_ = value;
            onChanged();
          } else {
            connectVersionBuilder_.setMessage(value);
          }
          bitField0_ |= 0x00000001;
          return this;
        }
        /**
         * <code>required .federation.ProtocolHashedVersion connectVersion = 1;</code>
         *
         * <pre>
         * Start version.
         * </pre>
         */
        public Builder setConnectVersion(
            org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder builderForValue) {
          if (connectVersionBuilder_ == null) {
            connectVersion_ = builderForValue.build();
            onChanged();
          } else {
            connectVersionBuilder_.setMessage(builderForValue.build());
          }
          bitField0_ |= 0x00000001;
          return this;
        }
        /**
         * <code>required .federation.ProtocolHashedVersion connectVersion = 1;</code>
         *
         * <pre>
         * Start version.
         * </pre>
         */
        public Builder mergeConnectVersion(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion value) {
          if (connectVersionBuilder_ == null) {
            if (((bitField0_ & 0x00000001) == 0x00000001) &&
                connectVersion_ != org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance()) {
              connectVersion_ =
                org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.newBuilder(connectVersion_).mergeFrom(value).buildPartial();
            } else {
              connectVersion_ = value;
            }
            onChanged();
          } else {
            connectVersionBuilder_.mergeFrom(value);
          }
          bitField0_ |= 0x00000001;
          return this;
        }
        /**
         * <code>required .federation.ProtocolHashedVersion connectVersion = 1;</code>
         *
         * <pre>
         * Start version.
         * </pre>
         */
        public Builder clearConnectVersion() {
          if (connectVersionBuilder_ == null) {
            connectVersion_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
            onChanged();
          } else {
            connectVersionBuilder_.clear();
          }
          bitField0_ = (bitField0_ & ~0x00000001);
          return this;
        }
        /**
         * <code>required .federation.ProtocolHashedVersion connectVersion = 1;</code>
         *
         * <pre>
         * Start version.
         * </pre>
         */
        public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder getConnectVersionBuilder() {
          bitField0_ |= 0x00000001;
          onChanged();
          return getConnectVersionFieldBuilder().getBuilder();
        }
        /**
         * <code>required .federation.ProtocolHashedVersion connectVersion = 1;</code>
         *
         * <pre>
         * Start version.
         * </pre>
         */
        public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder getConnectVersionOrBuilder() {
          if (connectVersionBuilder_ != null) {
            return connectVersionBuilder_.getMessageOrBuilder();
          } else {
            return connectVersion_;
          }
        }
        /**
         * <code>required .federation.ProtocolHashedVersion connectVersion = 1;</code>
         *
         * <pre>
         * Start version.
         * </pre>
         */
        private com.google.protobuf.SingleFieldBuilder<
            org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder> 
            getConnectVersionFieldBuilder() {
          if (connectVersionBuilder_ == null) {
            connectVersionBuilder_ = new com.google.protobuf.SingleFieldBuilder<
                org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder>(
                    connectVersion_,
                    getParentForChildren(),
                    isClean());
            connectVersion_ = null;
          }
          return connectVersionBuilder_;
        }

        // repeated .clientserver.SegmentFragment fragment = 2;
        private java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment> fragment_ =
          java.util.Collections.emptyList();
        private void ensureFragmentIsMutable() {
          if (!((bitField0_ & 0x00000002) == 0x00000002)) {
            fragment_ = new java.util.ArrayList<org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment>(fragment_);
            bitField0_ |= 0x00000002;
           }
        }

        private com.google.protobuf.RepeatedFieldBuilder<
            org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder> fragmentBuilder_;

        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment> getFragmentList() {
          if (fragmentBuilder_ == null) {
            return java.util.Collections.unmodifiableList(fragment_);
          } else {
            return fragmentBuilder_.getMessageList();
          }
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public int getFragmentCount() {
          if (fragmentBuilder_ == null) {
            return fragment_.size();
          } else {
            return fragmentBuilder_.getCount();
          }
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment getFragment(int index) {
          if (fragmentBuilder_ == null) {
            return fragment_.get(index);
          } else {
            return fragmentBuilder_.getMessage(index);
          }
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public Builder setFragment(
            int index, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment value) {
          if (fragmentBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            ensureFragmentIsMutable();
            fragment_.set(index, value);
            onChanged();
          } else {
            fragmentBuilder_.setMessage(index, value);
          }
          return this;
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public Builder setFragment(
            int index, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder builderForValue) {
          if (fragmentBuilder_ == null) {
            ensureFragmentIsMutable();
            fragment_.set(index, builderForValue.build());
            onChanged();
          } else {
            fragmentBuilder_.setMessage(index, builderForValue.build());
          }
          return this;
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public Builder addFragment(org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment value) {
          if (fragmentBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            ensureFragmentIsMutable();
            fragment_.add(value);
            onChanged();
          } else {
            fragmentBuilder_.addMessage(value);
          }
          return this;
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public Builder addFragment(
            int index, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment value) {
          if (fragmentBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            ensureFragmentIsMutable();
            fragment_.add(index, value);
            onChanged();
          } else {
            fragmentBuilder_.addMessage(index, value);
          }
          return this;
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public Builder addFragment(
            org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder builderForValue) {
          if (fragmentBuilder_ == null) {
            ensureFragmentIsMutable();
            fragment_.add(builderForValue.build());
            onChanged();
          } else {
            fragmentBuilder_.addMessage(builderForValue.build());
          }
          return this;
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public Builder addFragment(
            int index, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder builderForValue) {
          if (fragmentBuilder_ == null) {
            ensureFragmentIsMutable();
            fragment_.add(index, builderForValue.build());
            onChanged();
          } else {
            fragmentBuilder_.addMessage(index, builderForValue.build());
          }
          return this;
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public Builder addAllFragment(
            java.lang.Iterable<? extends org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment> values) {
          if (fragmentBuilder_ == null) {
            ensureFragmentIsMutable();
            super.addAll(values, fragment_);
            onChanged();
          } else {
            fragmentBuilder_.addAllMessages(values);
          }
          return this;
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public Builder clearFragment() {
          if (fragmentBuilder_ == null) {
            fragment_ = java.util.Collections.emptyList();
            bitField0_ = (bitField0_ & ~0x00000002);
            onChanged();
          } else {
            fragmentBuilder_.clear();
          }
          return this;
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public Builder removeFragment(int index) {
          if (fragmentBuilder_ == null) {
            ensureFragmentIsMutable();
            fragment_.remove(index);
            onChanged();
          } else {
            fragmentBuilder_.remove(index);
          }
          return this;
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder getFragmentBuilder(
            int index) {
          return getFragmentFieldBuilder().getBuilder(index);
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder getFragmentOrBuilder(
            int index) {
          if (fragmentBuilder_ == null) {
            return fragment_.get(index);  } else {
            return fragmentBuilder_.getMessageOrBuilder(index);
          }
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public java.util.List<? extends org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder> 
             getFragmentOrBuilderList() {
          if (fragmentBuilder_ != null) {
            return fragmentBuilder_.getMessageOrBuilderList();
          } else {
            return java.util.Collections.unmodifiableList(fragment_);
          }
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder addFragmentBuilder() {
          return getFragmentFieldBuilder().addBuilder(
              org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.getDefaultInstance());
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder addFragmentBuilder(
            int index) {
          return getFragmentFieldBuilder().addBuilder(
              index, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.getDefaultInstance());
        }
        /**
         * <code>repeated .clientserver.SegmentFragment fragment = 2;</code>
         *
         * <pre>
         * Fragments of the segments.
         * </pre>
         */
        public java.util.List<org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder> 
             getFragmentBuilderList() {
          return getFragmentFieldBuilder().getBuilderList();
        }
        private com.google.protobuf.RepeatedFieldBuilder<
            org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder> 
            getFragmentFieldBuilder() {
          if (fragmentBuilder_ == null) {
            fragmentBuilder_ = new com.google.protobuf.RepeatedFieldBuilder<
                org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragment.Builder, org.waveprotocol.wave.clientserver.ClientServer.SegmentFragmentOrBuilder>(
                    fragment_,
                    ((bitField0_ & 0x00000002) == 0x00000002),
                    getParentForChildren(),
                    isClean());
            fragment_ = null;
          }
          return fragmentBuilder_;
        }

        // required .federation.ProtocolHashedVersion lastModifiedVersion = 3;
        private org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion lastModifiedVersion_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
        private com.google.protobuf.SingleFieldBuilder<
            org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder> lastModifiedVersionBuilder_;
        /**
         * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 3;</code>
         *
         * <pre>
         * Current version and modification timestamp of the wavelet.
         * </pre>
         */
        public boolean hasLastModifiedVersion() {
          return ((bitField0_ & 0x00000004) == 0x00000004);
        }
        /**
         * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 3;</code>
         *
         * <pre>
         * Current version and modification timestamp of the wavelet.
         * </pre>
         */
        public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getLastModifiedVersion() {
          if (lastModifiedVersionBuilder_ == null) {
            return lastModifiedVersion_;
          } else {
            return lastModifiedVersionBuilder_.getMessage();
          }
        }
        /**
         * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 3;</code>
         *
         * <pre>
         * Current version and modification timestamp of the wavelet.
         * </pre>
         */
        public Builder setLastModifiedVersion(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion value) {
          if (lastModifiedVersionBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            lastModifiedVersion_ = value;
            onChanged();
          } else {
            lastModifiedVersionBuilder_.setMessage(value);
          }
          bitField0_ |= 0x00000004;
          return this;
        }
        /**
         * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 3;</code>
         *
         * <pre>
         * Current version and modification timestamp of the wavelet.
         * </pre>
         */
        public Builder setLastModifiedVersion(
            org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder builderForValue) {
          if (lastModifiedVersionBuilder_ == null) {
            lastModifiedVersion_ = builderForValue.build();
            onChanged();
          } else {
            lastModifiedVersionBuilder_.setMessage(builderForValue.build());
          }
          bitField0_ |= 0x00000004;
          return this;
        }
        /**
         * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 3;</code>
         *
         * <pre>
         * Current version and modification timestamp of the wavelet.
         * </pre>
         */
        public Builder mergeLastModifiedVersion(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion value) {
          if (lastModifiedVersionBuilder_ == null) {
            if (((bitField0_ & 0x00000004) == 0x00000004) &&
                lastModifiedVersion_ != org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance()) {
              lastModifiedVersion_ =
                org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.newBuilder(lastModifiedVersion_).mergeFrom(value).buildPartial();
            } else {
              lastModifiedVersion_ = value;
            }
            onChanged();
          } else {
            lastModifiedVersionBuilder_.mergeFrom(value);
          }
          bitField0_ |= 0x00000004;
          return this;
        }
        /**
         * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 3;</code>
         *
         * <pre>
         * Current version and modification timestamp of the wavelet.
         * </pre>
         */
        public Builder clearLastModifiedVersion() {
          if (lastModifiedVersionBuilder_ == null) {
            lastModifiedVersion_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
            onChanged();
          } else {
            lastModifiedVersionBuilder_.clear();
          }
          bitField0_ = (bitField0_ & ~0x00000004);
          return this;
        }
        /**
         * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 3;</code>
         *
         * <pre>
         * Current version and modification timestamp of the wavelet.
         * </pre>
         */
        public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder getLastModifiedVersionBuilder() {
          bitField0_ |= 0x00000004;
          onChanged();
          return getLastModifiedVersionFieldBuilder().getBuilder();
        }
        /**
         * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 3;</code>
         *
         * <pre>
         * Current version and modification timestamp of the wavelet.
         * </pre>
         */
        public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder getLastModifiedVersionOrBuilder() {
          if (lastModifiedVersionBuilder_ != null) {
            return lastModifiedVersionBuilder_.getMessageOrBuilder();
          } else {
            return lastModifiedVersion_;
          }
        }
        /**
         * <code>required .federation.ProtocolHashedVersion lastModifiedVersion = 3;</code>
         *
         * <pre>
         * Current version and modification timestamp of the wavelet.
         * </pre>
         */
        private com.google.protobuf.SingleFieldBuilder<
            org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder> 
            getLastModifiedVersionFieldBuilder() {
          if (lastModifiedVersionBuilder_ == null) {
            lastModifiedVersionBuilder_ = new com.google.protobuf.SingleFieldBuilder<
                org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder>(
                    lastModifiedVersion_,
                    getParentForChildren(),
                    isClean());
            lastModifiedVersion_ = null;
          }
          return lastModifiedVersionBuilder_;
        }

        // required int64 lastModifiedTime = 4;
        private long lastModifiedTime_ ;
        /**
         * <code>required int64 lastModifiedTime = 4;</code>
         */
        public boolean hasLastModifiedTime() {
          return ((bitField0_ & 0x00000008) == 0x00000008);
        }
        /**
         * <code>required int64 lastModifiedTime = 4;</code>
         */
        public long getLastModifiedTime() {
          return lastModifiedTime_;
        }
        /**
         * <code>required int64 lastModifiedTime = 4;</code>
         */
        public Builder setLastModifiedTime(long value) {
          bitField0_ |= 0x00000008;
          lastModifiedTime_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>required int64 lastModifiedTime = 4;</code>
         */
        public Builder clearLastModifiedTime() {
          bitField0_ = (bitField0_ & ~0x00000008);
          lastModifiedTime_ = 0L;
          onChanged();
          return this;
        }

        // optional .federation.ProtocolHashedVersion unacknowledgedDeltaVersion = 5;
        private org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion unacknowledgedDeltaVersion_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
        private com.google.protobuf.SingleFieldBuilder<
            org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder> unacknowledgedDeltaVersionBuilder_;
        /**
         * <code>optional .federation.ProtocolHashedVersion unacknowledgedDeltaVersion = 5;</code>
         *
         * <pre>
         * For connection repairing. Version of unacknowledged delta found in deltas history.
         * </pre>
         */
        public boolean hasUnacknowledgedDeltaVersion() {
          return ((bitField0_ & 0x00000010) == 0x00000010);
        }
        /**
         * <code>optional .federation.ProtocolHashedVersion unacknowledgedDeltaVersion = 5;</code>
         *
         * <pre>
         * For connection repairing. Version of unacknowledged delta found in deltas history.
         * </pre>
         */
        public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getUnacknowledgedDeltaVersion() {
          if (unacknowledgedDeltaVersionBuilder_ == null) {
            return unacknowledgedDeltaVersion_;
          } else {
            return unacknowledgedDeltaVersionBuilder_.getMessage();
          }
        }
        /**
         * <code>optional .federation.ProtocolHashedVersion unacknowledgedDeltaVersion = 5;</code>
         *
         * <pre>
         * For connection repairing. Version of unacknowledged delta found in deltas history.
         * </pre>
         */
        public Builder setUnacknowledgedDeltaVersion(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion value) {
          if (unacknowledgedDeltaVersionBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            unacknowledgedDeltaVersion_ = value;
            onChanged();
          } else {
            unacknowledgedDeltaVersionBuilder_.setMessage(value);
          }
          bitField0_ |= 0x00000010;
          return this;
        }
        /**
         * <code>optional .federation.ProtocolHashedVersion unacknowledgedDeltaVersion = 5;</code>
         *
         * <pre>
         * For connection repairing. Version of unacknowledged delta found in deltas history.
         * </pre>
         */
        public Builder setUnacknowledgedDeltaVersion(
            org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder builderForValue) {
          if (unacknowledgedDeltaVersionBuilder_ == null) {
            unacknowledgedDeltaVersion_ = builderForValue.build();
            onChanged();
          } else {
            unacknowledgedDeltaVersionBuilder_.setMessage(builderForValue.build());
          }
          bitField0_ |= 0x00000010;
          return this;
        }
        /**
         * <code>optional .federation.ProtocolHashedVersion unacknowledgedDeltaVersion = 5;</code>
         *
         * <pre>
         * For connection repairing. Version of unacknowledged delta found in deltas history.
         * </pre>
         */
        public Builder mergeUnacknowledgedDeltaVersion(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion value) {
          if (unacknowledgedDeltaVersionBuilder_ == null) {
            if (((bitField0_ & 0x00000010) == 0x00000010) &&
                unacknowledgedDeltaVersion_ != org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance()) {
              unacknowledgedDeltaVersion_ =
                org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.newBuilder(unacknowledgedDeltaVersion_).mergeFrom(value).buildPartial();
            } else {
              unacknowledgedDeltaVersion_ = value;
            }
            onChanged();
          } else {
            unacknowledgedDeltaVersionBuilder_.mergeFrom(value);
          }
          bitField0_ |= 0x00000010;
          return this;
        }
        /**
         * <code>optional .federation.ProtocolHashedVersion unacknowledgedDeltaVersion = 5;</code>
         *
         * <pre>
         * For connection repairing. Version of unacknowledged delta found in deltas history.
         * </pre>
         */
        public Builder clearUnacknowledgedDeltaVersion() {
          if (unacknowledgedDeltaVersionBuilder_ == null) {
            unacknowledgedDeltaVersion_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
            onChanged();
          } else {
            unacknowledgedDeltaVersionBuilder_.clear();
          }
          bitField0_ = (bitField0_ & ~0x00000010);
          return this;
        }
        /**
         * <code>optional .federation.ProtocolHashedVersion unacknowledgedDeltaVersion = 5;</code>
         *
         * <pre>
         * For connection repairing. Version of unacknowledged delta found in deltas history.
         * </pre>
         */
        public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder getUnacknowledgedDeltaVersionBuilder() {
          bitField0_ |= 0x00000010;
          onChanged();
          return getUnacknowledgedDeltaVersionFieldBuilder().getBuilder();
        }
        /**
         * <code>optional .federation.ProtocolHashedVersion unacknowledgedDeltaVersion = 5;</code>
         *
         * <pre>
         * For connection repairing. Version of unacknowledged delta found in deltas history.
         * </pre>
         */
        public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder getUnacknowledgedDeltaVersionOrBuilder() {
          if (unacknowledgedDeltaVersionBuilder_ != null) {
            return unacknowledgedDeltaVersionBuilder_.getMessageOrBuilder();
          } else {
            return unacknowledgedDeltaVersion_;
          }
        }
        /**
         * <code>optional .federation.ProtocolHashedVersion unacknowledgedDeltaVersion = 5;</code>
         *
         * <pre>
         * For connection repairing. Version of unacknowledged delta found in deltas history.
         * </pre>
         */
        private com.google.protobuf.SingleFieldBuilder<
            org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder> 
            getUnacknowledgedDeltaVersionFieldBuilder() {
          if (unacknowledgedDeltaVersionBuilder_ == null) {
            unacknowledgedDeltaVersionBuilder_ = new com.google.protobuf.SingleFieldBuilder<
                org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder>(
                    unacknowledgedDeltaVersion_,
                    getParentForChildren(),
                    isClean());
            unacknowledgedDeltaVersion_ = null;
          }
          return unacknowledgedDeltaVersionBuilder_;
        }

        // @@protoc_insertion_point(builder_scope:clientserver.OpenWaveletChannelStream.ChannelOpen)
      }

      static {
        defaultInstance = new ChannelOpen(true);
        defaultInstance.initFields();
      }

      // @@protoc_insertion_point(class_scope:clientserver.OpenWaveletChannelStream.ChannelOpen)
    }

    public interface WaveletUpdateOrBuilder
        extends com.google.protobuf.MessageOrBuilder {

      // required .federation.ProtocolWaveletDelta delta = 1;
      /**
       * <code>required .federation.ProtocolWaveletDelta delta = 1;</code>
       *
       * <pre>
       * Transformed delta.
       * </pre>
       */
      boolean hasDelta();
      /**
       * <code>required .federation.ProtocolWaveletDelta delta = 1;</code>
       *
       * <pre>
       * Transformed delta.
       * </pre>
       */
      org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta getDelta();
      /**
       * <code>required .federation.ProtocolWaveletDelta delta = 1;</code>
       *
       * <pre>
       * Transformed delta.
       * </pre>
       */
      org.waveprotocol.wave.federation.Proto.ProtocolWaveletDeltaOrBuilder getDeltaOrBuilder();

      // required .federation.ProtocolHashedVersion resultingVersion = 2;
      /**
       * <code>required .federation.ProtocolHashedVersion resultingVersion = 2;</code>
       *
       * <pre>
       * Wavelet hashed version after the delta.
       * </pre>
       */
      boolean hasResultingVersion();
      /**
       * <code>required .federation.ProtocolHashedVersion resultingVersion = 2;</code>
       *
       * <pre>
       * Wavelet hashed version after the delta.
       * </pre>
       */
      org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getResultingVersion();
      /**
       * <code>required .federation.ProtocolHashedVersion resultingVersion = 2;</code>
       *
       * <pre>
       * Wavelet hashed version after the delta.
       * </pre>
       */
      org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder getResultingVersionOrBuilder();

      // required int64 applicationTimestamp = 3;
      /**
       * <code>required int64 applicationTimestamp = 3;</code>
       *
       * <pre>
       * Timestamp of delta application.
       * </pre>
       */
      boolean hasApplicationTimestamp();
      /**
       * <code>required int64 applicationTimestamp = 3;</code>
       *
       * <pre>
       * Timestamp of delta application.
       * </pre>
       */
      long getApplicationTimestamp();
    }
    /**
     * Protobuf type {@code clientserver.OpenWaveletChannelStream.WaveletUpdate}
     *
     * <pre>
     * A delta applied to a wavelet.
     * </pre>
     */
    public static final class WaveletUpdate extends
        com.google.protobuf.GeneratedMessage
        implements WaveletUpdateOrBuilder {
      // Use WaveletUpdate.newBuilder() to construct.
      private WaveletUpdate(com.google.protobuf.GeneratedMessage.Builder<?> builder) {
        super(builder);
        this.unknownFields = builder.getUnknownFields();
      }
      private WaveletUpdate(boolean noInit) { this.unknownFields = com.google.protobuf.UnknownFieldSet.getDefaultInstance(); }

      private static final WaveletUpdate defaultInstance;
      public static WaveletUpdate getDefaultInstance() {
        return defaultInstance;
      }

      public WaveletUpdate getDefaultInstanceForType() {
        return defaultInstance;
      }

      private final com.google.protobuf.UnknownFieldSet unknownFields;
      @java.lang.Override
      public final com.google.protobuf.UnknownFieldSet
          getUnknownFields() {
        return this.unknownFields;
      }
      private WaveletUpdate(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        initFields();
        int mutable_bitField0_ = 0;
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder();
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              default: {
                if (!parseUnknownField(input, unknownFields,
                                       extensionRegistry, tag)) {
                  done = true;
                }
                break;
              }
              case 10: {
                org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.Builder subBuilder = null;
                if (((bitField0_ & 0x00000001) == 0x00000001)) {
                  subBuilder = delta_.toBuilder();
                }
                delta_ = input.readMessage(org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.PARSER, extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(delta_);
                  delta_ = subBuilder.buildPartial();
                }
                bitField0_ |= 0x00000001;
                break;
              }
              case 18: {
                org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder subBuilder = null;
                if (((bitField0_ & 0x00000002) == 0x00000002)) {
                  subBuilder = resultingVersion_.toBuilder();
                }
                resultingVersion_ = input.readMessage(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.PARSER, extensionRegistry);
                if (subBuilder != null) {
                  subBuilder.mergeFrom(resultingVersion_);
                  resultingVersion_ = subBuilder.buildPartial();
                }
                bitField0_ |= 0x00000002;
                break;
              }
              case 24: {
                bitField0_ |= 0x00000004;
                applicationTimestamp_ = input.readInt64();
                break;
              }
            }
          }
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(this);
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(
              e.getMessage()).setUnfinishedMessage(this);
        } finally {
          this.unknownFields = unknownFields.build();
          makeExtensionsImmutable();
        }
      }
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_OpenWaveletChannelStream_WaveletUpdate_descriptor;
      }

      protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_OpenWaveletChannelStream_WaveletUpdate_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate.class, org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate.Builder.class);
      }

      public static com.google.protobuf.Parser<WaveletUpdate> PARSER =
          new com.google.protobuf.AbstractParser<WaveletUpdate>() {
        public WaveletUpdate parsePartialFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return new WaveletUpdate(input, extensionRegistry);
        }
      };

      @java.lang.Override
      public com.google.protobuf.Parser<WaveletUpdate> getParserForType() {
        return PARSER;
      }

      private int bitField0_;
      // required .federation.ProtocolWaveletDelta delta = 1;
      public static final int DELTA_FIELD_NUMBER = 1;
      private org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta delta_;
      /**
       * <code>required .federation.ProtocolWaveletDelta delta = 1;</code>
       *
       * <pre>
       * Transformed delta.
       * </pre>
       */
      public boolean hasDelta() {
        return ((bitField0_ & 0x00000001) == 0x00000001);
      }
      /**
       * <code>required .federation.ProtocolWaveletDelta delta = 1;</code>
       *
       * <pre>
       * Transformed delta.
       * </pre>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta getDelta() {
        return delta_;
      }
      /**
       * <code>required .federation.ProtocolWaveletDelta delta = 1;</code>
       *
       * <pre>
       * Transformed delta.
       * </pre>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolWaveletDeltaOrBuilder getDeltaOrBuilder() {
        return delta_;
      }

      // required .federation.ProtocolHashedVersion resultingVersion = 2;
      public static final int RESULTINGVERSION_FIELD_NUMBER = 2;
      private org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion resultingVersion_;
      /**
       * <code>required .federation.ProtocolHashedVersion resultingVersion = 2;</code>
       *
       * <pre>
       * Wavelet hashed version after the delta.
       * </pre>
       */
      public boolean hasResultingVersion() {
        return ((bitField0_ & 0x00000002) == 0x00000002);
      }
      /**
       * <code>required .federation.ProtocolHashedVersion resultingVersion = 2;</code>
       *
       * <pre>
       * Wavelet hashed version after the delta.
       * </pre>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getResultingVersion() {
        return resultingVersion_;
      }
      /**
       * <code>required .federation.ProtocolHashedVersion resultingVersion = 2;</code>
       *
       * <pre>
       * Wavelet hashed version after the delta.
       * </pre>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder getResultingVersionOrBuilder() {
        return resultingVersion_;
      }

      // required int64 applicationTimestamp = 3;
      public static final int APPLICATIONTIMESTAMP_FIELD_NUMBER = 3;
      private long applicationTimestamp_;
      /**
       * <code>required int64 applicationTimestamp = 3;</code>
       *
       * <pre>
       * Timestamp of delta application.
       * </pre>
       */
      public boolean hasApplicationTimestamp() {
        return ((bitField0_ & 0x00000004) == 0x00000004);
      }
      /**
       * <code>required int64 applicationTimestamp = 3;</code>
       *
       * <pre>
       * Timestamp of delta application.
       * </pre>
       */
      public long getApplicationTimestamp() {
        return applicationTimestamp_;
      }

      private void initFields() {
        delta_ = org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.getDefaultInstance();
        resultingVersion_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
        applicationTimestamp_ = 0L;
      }
      private byte memoizedIsInitialized = -1;
      public final boolean isInitialized() {
        byte isInitialized = memoizedIsInitialized;
        if (isInitialized != -1) return isInitialized == 1;

        if (!hasDelta()) {
          memoizedIsInitialized = 0;
          return false;
        }
        if (!hasResultingVersion()) {
          memoizedIsInitialized = 0;
          return false;
        }
        if (!hasApplicationTimestamp()) {
          memoizedIsInitialized = 0;
          return false;
        }
        if (!getDelta().isInitialized()) {
          memoizedIsInitialized = 0;
          return false;
        }
        if (!getResultingVersion().isInitialized()) {
          memoizedIsInitialized = 0;
          return false;
        }
        memoizedIsInitialized = 1;
        return true;
      }

      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        getSerializedSize();
        if (((bitField0_ & 0x00000001) == 0x00000001)) {
          output.writeMessage(1, delta_);
        }
        if (((bitField0_ & 0x00000002) == 0x00000002)) {
          output.writeMessage(2, resultingVersion_);
        }
        if (((bitField0_ & 0x00000004) == 0x00000004)) {
          output.writeInt64(3, applicationTimestamp_);
        }
        getUnknownFields().writeTo(output);
      }

      private int memoizedSerializedSize = -1;
      public int getSerializedSize() {
        int size = memoizedSerializedSize;
        if (size != -1) return size;

        size = 0;
        if (((bitField0_ & 0x00000001) == 0x00000001)) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(1, delta_);
        }
        if (((bitField0_ & 0x00000002) == 0x00000002)) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(2, resultingVersion_);
        }
        if (((bitField0_ & 0x00000004) == 0x00000004)) {
          size += com.google.protobuf.CodedOutputStream
            .computeInt64Size(3, applicationTimestamp_);
        }
        size += getUnknownFields().getSerializedSize();
        memoizedSerializedSize = size;
        return size;
      }

      private static final long serialVersionUID = 0L;
      @java.lang.Override
      protected java.lang.Object writeReplace()
          throws java.io.ObjectStreamException {
        return super.writeReplace();
      }

      public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return PARSER.parseFrom(data, extensionRegistry);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return PARSER.parseFrom(input);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return PARSER.parseFrom(input, extensionRegistry);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        return PARSER.parseDelimitedFrom(input);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return PARSER.parseDelimitedFrom(input, extensionRegistry);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return PARSER.parseFrom(input);
      }
      public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return PARSER.parseFrom(input, extensionRegistry);
      }

      public static Builder newBuilder() { return Builder.create(); }
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder(org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate prototype) {
        return newBuilder().mergeFrom(prototype);
      }
      public Builder toBuilder() { return newBuilder(this); }

      @java.lang.Override
      protected Builder newBuilderForType(
          com.google.protobuf.GeneratedMessage.BuilderParent parent) {
        Builder builder = new Builder(parent);
        return builder;
      }
      /**
       * Protobuf type {@code clientserver.OpenWaveletChannelStream.WaveletUpdate}
       *
       * <pre>
       * A delta applied to a wavelet.
       * </pre>
       */
      public static final class Builder extends
          com.google.protobuf.GeneratedMessage.Builder<Builder>
         implements org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdateOrBuilder {
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_OpenWaveletChannelStream_WaveletUpdate_descriptor;
        }

        protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_OpenWaveletChannelStream_WaveletUpdate_fieldAccessorTable
              .ensureFieldAccessorsInitialized(
                  org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate.class, org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate.Builder.class);
        }

        // Construct using org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate.newBuilder()
        private Builder() {
          maybeForceBuilderInitialization();
        }

        private Builder(
            com.google.protobuf.GeneratedMessage.BuilderParent parent) {
          super(parent);
          maybeForceBuilderInitialization();
        }
        private void maybeForceBuilderInitialization() {
          if (com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders) {
            getDeltaFieldBuilder();
            getResultingVersionFieldBuilder();
          }
        }
        private static Builder create() {
          return new Builder();
        }

        public Builder clear() {
          super.clear();
          if (deltaBuilder_ == null) {
            delta_ = org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.getDefaultInstance();
          } else {
            deltaBuilder_.clear();
          }
          bitField0_ = (bitField0_ & ~0x00000001);
          if (resultingVersionBuilder_ == null) {
            resultingVersion_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
          } else {
            resultingVersionBuilder_.clear();
          }
          bitField0_ = (bitField0_ & ~0x00000002);
          applicationTimestamp_ = 0L;
          bitField0_ = (bitField0_ & ~0x00000004);
          return this;
        }

        public Builder clone() {
          return create().mergeFrom(buildPartial());
        }

        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_OpenWaveletChannelStream_WaveletUpdate_descriptor;
        }

        public org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate getDefaultInstanceForType() {
          return org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate.getDefaultInstance();
        }

        public org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate build() {
          org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate result = buildPartial();
          if (!result.isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return result;
        }

        public org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate buildPartial() {
          org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate result = new org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate(this);
          int from_bitField0_ = bitField0_;
          int to_bitField0_ = 0;
          if (((from_bitField0_ & 0x00000001) == 0x00000001)) {
            to_bitField0_ |= 0x00000001;
          }
          if (deltaBuilder_ == null) {
            result.delta_ = delta_;
          } else {
            result.delta_ = deltaBuilder_.build();
          }
          if (((from_bitField0_ & 0x00000002) == 0x00000002)) {
            to_bitField0_ |= 0x00000002;
          }
          if (resultingVersionBuilder_ == null) {
            result.resultingVersion_ = resultingVersion_;
          } else {
            result.resultingVersion_ = resultingVersionBuilder_.build();
          }
          if (((from_bitField0_ & 0x00000004) == 0x00000004)) {
            to_bitField0_ |= 0x00000004;
          }
          result.applicationTimestamp_ = applicationTimestamp_;
          result.bitField0_ = to_bitField0_;
          onBuilt();
          return result;
        }

        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate) {
            return mergeFrom((org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }

        public Builder mergeFrom(org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate other) {
          if (other == org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate.getDefaultInstance()) return this;
          if (other.hasDelta()) {
            mergeDelta(other.getDelta());
          }
          if (other.hasResultingVersion()) {
            mergeResultingVersion(other.getResultingVersion());
          }
          if (other.hasApplicationTimestamp()) {
            setApplicationTimestamp(other.getApplicationTimestamp());
          }
          this.mergeUnknownFields(other.getUnknownFields());
          return this;
        }

        public final boolean isInitialized() {
          if (!hasDelta()) {
            
            return false;
          }
          if (!hasResultingVersion()) {
            
            return false;
          }
          if (!hasApplicationTimestamp()) {
            
            return false;
          }
          if (!getDelta().isInitialized()) {
            
            return false;
          }
          if (!getResultingVersion().isInitialized()) {
            
            return false;
          }
          return true;
        }

        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate parsedMessage = null;
          try {
            parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
          } catch (com.google.protobuf.InvalidProtocolBufferException e) {
            parsedMessage = (org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate) e.getUnfinishedMessage();
            throw e;
          } finally {
            if (parsedMessage != null) {
              mergeFrom(parsedMessage);
            }
          }
          return this;
        }
        private int bitField0_;

        // required .federation.ProtocolWaveletDelta delta = 1;
        private org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta delta_ = org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.getDefaultInstance();
        private com.google.protobuf.SingleFieldBuilder<
            org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta, org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.Builder, org.waveprotocol.wave.federation.Proto.ProtocolWaveletDeltaOrBuilder> deltaBuilder_;
        /**
         * <code>required .federation.ProtocolWaveletDelta delta = 1;</code>
         *
         * <pre>
         * Transformed delta.
         * </pre>
         */
        public boolean hasDelta() {
          return ((bitField0_ & 0x00000001) == 0x00000001);
        }
        /**
         * <code>required .federation.ProtocolWaveletDelta delta = 1;</code>
         *
         * <pre>
         * Transformed delta.
         * </pre>
         */
        public org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta getDelta() {
          if (deltaBuilder_ == null) {
            return delta_;
          } else {
            return deltaBuilder_.getMessage();
          }
        }
        /**
         * <code>required .federation.ProtocolWaveletDelta delta = 1;</code>
         *
         * <pre>
         * Transformed delta.
         * </pre>
         */
        public Builder setDelta(org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta value) {
          if (deltaBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            delta_ = value;
            onChanged();
          } else {
            deltaBuilder_.setMessage(value);
          }
          bitField0_ |= 0x00000001;
          return this;
        }
        /**
         * <code>required .federation.ProtocolWaveletDelta delta = 1;</code>
         *
         * <pre>
         * Transformed delta.
         * </pre>
         */
        public Builder setDelta(
            org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.Builder builderForValue) {
          if (deltaBuilder_ == null) {
            delta_ = builderForValue.build();
            onChanged();
          } else {
            deltaBuilder_.setMessage(builderForValue.build());
          }
          bitField0_ |= 0x00000001;
          return this;
        }
        /**
         * <code>required .federation.ProtocolWaveletDelta delta = 1;</code>
         *
         * <pre>
         * Transformed delta.
         * </pre>
         */
        public Builder mergeDelta(org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta value) {
          if (deltaBuilder_ == null) {
            if (((bitField0_ & 0x00000001) == 0x00000001) &&
                delta_ != org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.getDefaultInstance()) {
              delta_ =
                org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.newBuilder(delta_).mergeFrom(value).buildPartial();
            } else {
              delta_ = value;
            }
            onChanged();
          } else {
            deltaBuilder_.mergeFrom(value);
          }
          bitField0_ |= 0x00000001;
          return this;
        }
        /**
         * <code>required .federation.ProtocolWaveletDelta delta = 1;</code>
         *
         * <pre>
         * Transformed delta.
         * </pre>
         */
        public Builder clearDelta() {
          if (deltaBuilder_ == null) {
            delta_ = org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.getDefaultInstance();
            onChanged();
          } else {
            deltaBuilder_.clear();
          }
          bitField0_ = (bitField0_ & ~0x00000001);
          return this;
        }
        /**
         * <code>required .federation.ProtocolWaveletDelta delta = 1;</code>
         *
         * <pre>
         * Transformed delta.
         * </pre>
         */
        public org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.Builder getDeltaBuilder() {
          bitField0_ |= 0x00000001;
          onChanged();
          return getDeltaFieldBuilder().getBuilder();
        }
        /**
         * <code>required .federation.ProtocolWaveletDelta delta = 1;</code>
         *
         * <pre>
         * Transformed delta.
         * </pre>
         */
        public org.waveprotocol.wave.federation.Proto.ProtocolWaveletDeltaOrBuilder getDeltaOrBuilder() {
          if (deltaBuilder_ != null) {
            return deltaBuilder_.getMessageOrBuilder();
          } else {
            return delta_;
          }
        }
        /**
         * <code>required .federation.ProtocolWaveletDelta delta = 1;</code>
         *
         * <pre>
         * Transformed delta.
         * </pre>
         */
        private com.google.protobuf.SingleFieldBuilder<
            org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta, org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.Builder, org.waveprotocol.wave.federation.Proto.ProtocolWaveletDeltaOrBuilder> 
            getDeltaFieldBuilder() {
          if (deltaBuilder_ == null) {
            deltaBuilder_ = new com.google.protobuf.SingleFieldBuilder<
                org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta, org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.Builder, org.waveprotocol.wave.federation.Proto.ProtocolWaveletDeltaOrBuilder>(
                    delta_,
                    getParentForChildren(),
                    isClean());
            delta_ = null;
          }
          return deltaBuilder_;
        }

        // required .federation.ProtocolHashedVersion resultingVersion = 2;
        private org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion resultingVersion_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
        private com.google.protobuf.SingleFieldBuilder<
            org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder> resultingVersionBuilder_;
        /**
         * <code>required .federation.ProtocolHashedVersion resultingVersion = 2;</code>
         *
         * <pre>
         * Wavelet hashed version after the delta.
         * </pre>
         */
        public boolean hasResultingVersion() {
          return ((bitField0_ & 0x00000002) == 0x00000002);
        }
        /**
         * <code>required .federation.ProtocolHashedVersion resultingVersion = 2;</code>
         *
         * <pre>
         * Wavelet hashed version after the delta.
         * </pre>
         */
        public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getResultingVersion() {
          if (resultingVersionBuilder_ == null) {
            return resultingVersion_;
          } else {
            return resultingVersionBuilder_.getMessage();
          }
        }
        /**
         * <code>required .federation.ProtocolHashedVersion resultingVersion = 2;</code>
         *
         * <pre>
         * Wavelet hashed version after the delta.
         * </pre>
         */
        public Builder setResultingVersion(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion value) {
          if (resultingVersionBuilder_ == null) {
            if (value == null) {
              throw new NullPointerException();
            }
            resultingVersion_ = value;
            onChanged();
          } else {
            resultingVersionBuilder_.setMessage(value);
          }
          bitField0_ |= 0x00000002;
          return this;
        }
        /**
         * <code>required .federation.ProtocolHashedVersion resultingVersion = 2;</code>
         *
         * <pre>
         * Wavelet hashed version after the delta.
         * </pre>
         */
        public Builder setResultingVersion(
            org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder builderForValue) {
          if (resultingVersionBuilder_ == null) {
            resultingVersion_ = builderForValue.build();
            onChanged();
          } else {
            resultingVersionBuilder_.setMessage(builderForValue.build());
          }
          bitField0_ |= 0x00000002;
          return this;
        }
        /**
         * <code>required .federation.ProtocolHashedVersion resultingVersion = 2;</code>
         *
         * <pre>
         * Wavelet hashed version after the delta.
         * </pre>
         */
        public Builder mergeResultingVersion(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion value) {
          if (resultingVersionBuilder_ == null) {
            if (((bitField0_ & 0x00000002) == 0x00000002) &&
                resultingVersion_ != org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance()) {
              resultingVersion_ =
                org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.newBuilder(resultingVersion_).mergeFrom(value).buildPartial();
            } else {
              resultingVersion_ = value;
            }
            onChanged();
          } else {
            resultingVersionBuilder_.mergeFrom(value);
          }
          bitField0_ |= 0x00000002;
          return this;
        }
        /**
         * <code>required .federation.ProtocolHashedVersion resultingVersion = 2;</code>
         *
         * <pre>
         * Wavelet hashed version after the delta.
         * </pre>
         */
        public Builder clearResultingVersion() {
          if (resultingVersionBuilder_ == null) {
            resultingVersion_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
            onChanged();
          } else {
            resultingVersionBuilder_.clear();
          }
          bitField0_ = (bitField0_ & ~0x00000002);
          return this;
        }
        /**
         * <code>required .federation.ProtocolHashedVersion resultingVersion = 2;</code>
         *
         * <pre>
         * Wavelet hashed version after the delta.
         * </pre>
         */
        public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder getResultingVersionBuilder() {
          bitField0_ |= 0x00000002;
          onChanged();
          return getResultingVersionFieldBuilder().getBuilder();
        }
        /**
         * <code>required .federation.ProtocolHashedVersion resultingVersion = 2;</code>
         *
         * <pre>
         * Wavelet hashed version after the delta.
         * </pre>
         */
        public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder getResultingVersionOrBuilder() {
          if (resultingVersionBuilder_ != null) {
            return resultingVersionBuilder_.getMessageOrBuilder();
          } else {
            return resultingVersion_;
          }
        }
        /**
         * <code>required .federation.ProtocolHashedVersion resultingVersion = 2;</code>
         *
         * <pre>
         * Wavelet hashed version after the delta.
         * </pre>
         */
        private com.google.protobuf.SingleFieldBuilder<
            org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder> 
            getResultingVersionFieldBuilder() {
          if (resultingVersionBuilder_ == null) {
            resultingVersionBuilder_ = new com.google.protobuf.SingleFieldBuilder<
                org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder>(
                    resultingVersion_,
                    getParentForChildren(),
                    isClean());
            resultingVersion_ = null;
          }
          return resultingVersionBuilder_;
        }

        // required int64 applicationTimestamp = 3;
        private long applicationTimestamp_ ;
        /**
         * <code>required int64 applicationTimestamp = 3;</code>
         *
         * <pre>
         * Timestamp of delta application.
         * </pre>
         */
        public boolean hasApplicationTimestamp() {
          return ((bitField0_ & 0x00000004) == 0x00000004);
        }
        /**
         * <code>required int64 applicationTimestamp = 3;</code>
         *
         * <pre>
         * Timestamp of delta application.
         * </pre>
         */
        public long getApplicationTimestamp() {
          return applicationTimestamp_;
        }
        /**
         * <code>required int64 applicationTimestamp = 3;</code>
         *
         * <pre>
         * Timestamp of delta application.
         * </pre>
         */
        public Builder setApplicationTimestamp(long value) {
          bitField0_ |= 0x00000004;
          applicationTimestamp_ = value;
          onChanged();
          return this;
        }
        /**
         * <code>required int64 applicationTimestamp = 3;</code>
         *
         * <pre>
         * Timestamp of delta application.
         * </pre>
         */
        public Builder clearApplicationTimestamp() {
          bitField0_ = (bitField0_ & ~0x00000004);
          applicationTimestamp_ = 0L;
          onChanged();
          return this;
        }

        // @@protoc_insertion_point(builder_scope:clientserver.OpenWaveletChannelStream.WaveletUpdate)
      }

      static {
        defaultInstance = new WaveletUpdate(true);
        defaultInstance.initFields();
      }

      // @@protoc_insertion_point(class_scope:clientserver.OpenWaveletChannelStream.WaveletUpdate)
    }

    private int bitField0_;
    // optional string channelId = 1;
    public static final int CHANNELID_FIELD_NUMBER = 1;
    private java.lang.Object channelId_;
    /**
     * <code>optional string channelId = 1;</code>
     *
     * <pre>
     * Channel id is provided only in the first message
     * </pre>
     */
    public boolean hasChannelId() {
      return ((bitField0_ & 0x00000001) == 0x00000001);
    }
    /**
     * <code>optional string channelId = 1;</code>
     *
     * <pre>
     * Channel id is provided only in the first message
     * </pre>
     */
    public java.lang.String getChannelId() {
      java.lang.Object ref = channelId_;
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        if (bs.isValidUtf8()) {
          channelId_ = s;
        }
        return s;
      }
    }
    /**
     * <code>optional string channelId = 1;</code>
     *
     * <pre>
     * Channel id is provided only in the first message
     * </pre>
     */
    public com.google.protobuf.ByteString
        getChannelIdBytes() {
      java.lang.Object ref = channelId_;
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        channelId_ = b;
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    // optional .clientserver.OpenWaveletChannelStream.ChannelOpen channelOpen = 2;
    public static final int CHANNELOPEN_FIELD_NUMBER = 2;
    private org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen channelOpen_;
    /**
     * <code>optional .clientserver.OpenWaveletChannelStream.ChannelOpen channelOpen = 2;</code>
     */
    public boolean hasChannelOpen() {
      return ((bitField0_ & 0x00000002) == 0x00000002);
    }
    /**
     * <code>optional .clientserver.OpenWaveletChannelStream.ChannelOpen channelOpen = 2;</code>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen getChannelOpen() {
      return channelOpen_;
    }
    /**
     * <code>optional .clientserver.OpenWaveletChannelStream.ChannelOpen channelOpen = 2;</code>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpenOrBuilder getChannelOpenOrBuilder() {
      return channelOpen_;
    }

    // repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;
    public static final int DELTA_FIELD_NUMBER = 3;
    private java.util.List<org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate> delta_;
    /**
     * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
     */
    public java.util.List<org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate> getDeltaList() {
      return delta_;
    }
    /**
     * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
     */
    public java.util.List<? extends org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdateOrBuilder> 
        getDeltaOrBuilderList() {
      return delta_;
    }
    /**
     * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
     */
    public int getDeltaCount() {
      return delta_.size();
    }
    /**
     * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate getDelta(int index) {
      return delta_.get(index);
    }
    /**
     * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdateOrBuilder getDeltaOrBuilder(
        int index) {
      return delta_.get(index);
    }

    // optional .federation.ProtocolHashedVersion commitVersion = 4;
    public static final int COMMITVERSION_FIELD_NUMBER = 4;
    private org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion commitVersion_;
    /**
     * <code>optional .federation.ProtocolHashedVersion commitVersion = 4;</code>
     */
    public boolean hasCommitVersion() {
      return ((bitField0_ & 0x00000004) == 0x00000004);
    }
    /**
     * <code>optional .federation.ProtocolHashedVersion commitVersion = 4;</code>
     */
    public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getCommitVersion() {
      return commitVersion_;
    }
    /**
     * <code>optional .federation.ProtocolHashedVersion commitVersion = 4;</code>
     */
    public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder getCommitVersionOrBuilder() {
      return commitVersion_;
    }

    // optional .clientserver.WaveletChannelTerminator terminator = 5;
    public static final int TERMINATOR_FIELD_NUMBER = 5;
    private org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator terminator_;
    /**
     * <code>optional .clientserver.WaveletChannelTerminator terminator = 5;</code>
     *
     * <pre>
     * Last message contains only a terminator.
     * </pre>
     */
    public boolean hasTerminator() {
      return ((bitField0_ & 0x00000008) == 0x00000008);
    }
    /**
     * <code>optional .clientserver.WaveletChannelTerminator terminator = 5;</code>
     *
     * <pre>
     * Last message contains only a terminator.
     * </pre>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator getTerminator() {
      return terminator_;
    }
    /**
     * <code>optional .clientserver.WaveletChannelTerminator terminator = 5;</code>
     *
     * <pre>
     * Last message contains only a terminator.
     * </pre>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminatorOrBuilder getTerminatorOrBuilder() {
      return terminator_;
    }

    private void initFields() {
      channelId_ = "";
      channelOpen_ = org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen.getDefaultInstance();
      delta_ = java.util.Collections.emptyList();
      commitVersion_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
      terminator_ = org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator.getDefaultInstance();
    }
    private byte memoizedIsInitialized = -1;
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized != -1) return isInitialized == 1;

      if (hasChannelOpen()) {
        if (!getChannelOpen().isInitialized()) {
          memoizedIsInitialized = 0;
          return false;
        }
      }
      for (int i = 0; i < getDeltaCount(); i++) {
        if (!getDelta(i).isInitialized()) {
          memoizedIsInitialized = 0;
          return false;
        }
      }
      if (hasCommitVersion()) {
        if (!getCommitVersion().isInitialized()) {
          memoizedIsInitialized = 0;
          return false;
        }
      }
      if (hasTerminator()) {
        if (!getTerminator().isInitialized()) {
          memoizedIsInitialized = 0;
          return false;
        }
      }
      memoizedIsInitialized = 1;
      return true;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        output.writeBytes(1, getChannelIdBytes());
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        output.writeMessage(2, channelOpen_);
      }
      for (int i = 0; i < delta_.size(); i++) {
        output.writeMessage(3, delta_.get(i));
      }
      if (((bitField0_ & 0x00000004) == 0x00000004)) {
        output.writeMessage(4, commitVersion_);
      }
      if (((bitField0_ & 0x00000008) == 0x00000008)) {
        output.writeMessage(5, terminator_);
      }
      getUnknownFields().writeTo(output);
    }

    private int memoizedSerializedSize = -1;
    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;

      size = 0;
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(1, getChannelIdBytes());
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(2, channelOpen_);
      }
      for (int i = 0; i < delta_.size(); i++) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(3, delta_.get(i));
      }
      if (((bitField0_ & 0x00000004) == 0x00000004)) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(4, commitVersion_);
      }
      if (((bitField0_ & 0x00000008) == 0x00000008)) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(5, terminator_);
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }

    private static final long serialVersionUID = 0L;
    @java.lang.Override
    protected java.lang.Object writeReplace()
        throws java.io.ObjectStreamException {
      return super.writeReplace();
    }

    public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }

    public static Builder newBuilder() { return Builder.create(); }
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder(org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream prototype) {
      return newBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() { return newBuilder(this); }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessage.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * Protobuf type {@code clientserver.OpenWaveletChannelStream}
     *
     * <pre>
     ** Repeated message for a wavelet channels. 
     * </pre>
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessage.Builder<Builder>
       implements org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStreamOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_OpenWaveletChannelStream_descriptor;
      }

      protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_OpenWaveletChannelStream_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.class, org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.Builder.class);
      }

      // Construct using org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessage.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders) {
          getChannelOpenFieldBuilder();
          getDeltaFieldBuilder();
          getCommitVersionFieldBuilder();
          getTerminatorFieldBuilder();
        }
      }
      private static Builder create() {
        return new Builder();
      }

      public Builder clear() {
        super.clear();
        channelId_ = "";
        bitField0_ = (bitField0_ & ~0x00000001);
        if (channelOpenBuilder_ == null) {
          channelOpen_ = org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen.getDefaultInstance();
        } else {
          channelOpenBuilder_.clear();
        }
        bitField0_ = (bitField0_ & ~0x00000002);
        if (deltaBuilder_ == null) {
          delta_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000004);
        } else {
          deltaBuilder_.clear();
        }
        if (commitVersionBuilder_ == null) {
          commitVersion_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
        } else {
          commitVersionBuilder_.clear();
        }
        bitField0_ = (bitField0_ & ~0x00000008);
        if (terminatorBuilder_ == null) {
          terminator_ = org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator.getDefaultInstance();
        } else {
          terminatorBuilder_.clear();
        }
        bitField0_ = (bitField0_ & ~0x00000010);
        return this;
      }

      public Builder clone() {
        return create().mergeFrom(buildPartial());
      }

      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_OpenWaveletChannelStream_descriptor;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream getDefaultInstanceForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.getDefaultInstance();
      }

      public org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream build() {
        org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream buildPartial() {
        org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream result = new org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream(this);
        int from_bitField0_ = bitField0_;
        int to_bitField0_ = 0;
        if (((from_bitField0_ & 0x00000001) == 0x00000001)) {
          to_bitField0_ |= 0x00000001;
        }
        result.channelId_ = channelId_;
        if (((from_bitField0_ & 0x00000002) == 0x00000002)) {
          to_bitField0_ |= 0x00000002;
        }
        if (channelOpenBuilder_ == null) {
          result.channelOpen_ = channelOpen_;
        } else {
          result.channelOpen_ = channelOpenBuilder_.build();
        }
        if (deltaBuilder_ == null) {
          if (((bitField0_ & 0x00000004) == 0x00000004)) {
            delta_ = java.util.Collections.unmodifiableList(delta_);
            bitField0_ = (bitField0_ & ~0x00000004);
          }
          result.delta_ = delta_;
        } else {
          result.delta_ = deltaBuilder_.build();
        }
        if (((from_bitField0_ & 0x00000008) == 0x00000008)) {
          to_bitField0_ |= 0x00000004;
        }
        if (commitVersionBuilder_ == null) {
          result.commitVersion_ = commitVersion_;
        } else {
          result.commitVersion_ = commitVersionBuilder_.build();
        }
        if (((from_bitField0_ & 0x00000010) == 0x00000010)) {
          to_bitField0_ |= 0x00000008;
        }
        if (terminatorBuilder_ == null) {
          result.terminator_ = terminator_;
        } else {
          result.terminator_ = terminatorBuilder_.build();
        }
        result.bitField0_ = to_bitField0_;
        onBuilt();
        return result;
      }

      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream) {
          return mergeFrom((org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream other) {
        if (other == org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.getDefaultInstance()) return this;
        if (other.hasChannelId()) {
          bitField0_ |= 0x00000001;
          channelId_ = other.channelId_;
          onChanged();
        }
        if (other.hasChannelOpen()) {
          mergeChannelOpen(other.getChannelOpen());
        }
        if (deltaBuilder_ == null) {
          if (!other.delta_.isEmpty()) {
            if (delta_.isEmpty()) {
              delta_ = other.delta_;
              bitField0_ = (bitField0_ & ~0x00000004);
            } else {
              ensureDeltaIsMutable();
              delta_.addAll(other.delta_);
            }
            onChanged();
          }
        } else {
          if (!other.delta_.isEmpty()) {
            if (deltaBuilder_.isEmpty()) {
              deltaBuilder_.dispose();
              deltaBuilder_ = null;
              delta_ = other.delta_;
              bitField0_ = (bitField0_ & ~0x00000004);
              deltaBuilder_ = 
                com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders ?
                   getDeltaFieldBuilder() : null;
            } else {
              deltaBuilder_.addAllMessages(other.delta_);
            }
          }
        }
        if (other.hasCommitVersion()) {
          mergeCommitVersion(other.getCommitVersion());
        }
        if (other.hasTerminator()) {
          mergeTerminator(other.getTerminator());
        }
        this.mergeUnknownFields(other.getUnknownFields());
        return this;
      }

      public final boolean isInitialized() {
        if (hasChannelOpen()) {
          if (!getChannelOpen().isInitialized()) {
            
            return false;
          }
        }
        for (int i = 0; i < getDeltaCount(); i++) {
          if (!getDelta(i).isInitialized()) {
            
            return false;
          }
        }
        if (hasCommitVersion()) {
          if (!getCommitVersion().isInitialized()) {
            
            return false;
          }
        }
        if (hasTerminator()) {
          if (!getTerminator().isInitialized()) {
            
            return false;
          }
        }
        return true;
      }

      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream) e.getUnfinishedMessage();
          throw e;
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }
      private int bitField0_;

      // optional string channelId = 1;
      private java.lang.Object channelId_ = "";
      /**
       * <code>optional string channelId = 1;</code>
       *
       * <pre>
       * Channel id is provided only in the first message
       * </pre>
       */
      public boolean hasChannelId() {
        return ((bitField0_ & 0x00000001) == 0x00000001);
      }
      /**
       * <code>optional string channelId = 1;</code>
       *
       * <pre>
       * Channel id is provided only in the first message
       * </pre>
       */
      public java.lang.String getChannelId() {
        java.lang.Object ref = channelId_;
        if (!(ref instanceof java.lang.String)) {
          java.lang.String s = ((com.google.protobuf.ByteString) ref)
              .toStringUtf8();
          channelId_ = s;
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <code>optional string channelId = 1;</code>
       *
       * <pre>
       * Channel id is provided only in the first message
       * </pre>
       */
      public com.google.protobuf.ByteString
          getChannelIdBytes() {
        java.lang.Object ref = channelId_;
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          channelId_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <code>optional string channelId = 1;</code>
       *
       * <pre>
       * Channel id is provided only in the first message
       * </pre>
       */
      public Builder setChannelId(
          java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
        channelId_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>optional string channelId = 1;</code>
       *
       * <pre>
       * Channel id is provided only in the first message
       * </pre>
       */
      public Builder clearChannelId() {
        bitField0_ = (bitField0_ & ~0x00000001);
        channelId_ = getDefaultInstance().getChannelId();
        onChanged();
        return this;
      }
      /**
       * <code>optional string channelId = 1;</code>
       *
       * <pre>
       * Channel id is provided only in the first message
       * </pre>
       */
      public Builder setChannelIdBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
        channelId_ = value;
        onChanged();
        return this;
      }

      // optional .clientserver.OpenWaveletChannelStream.ChannelOpen channelOpen = 2;
      private org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen channelOpen_ = org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen.getDefaultInstance();
      private com.google.protobuf.SingleFieldBuilder<
          org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen, org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen.Builder, org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpenOrBuilder> channelOpenBuilder_;
      /**
       * <code>optional .clientserver.OpenWaveletChannelStream.ChannelOpen channelOpen = 2;</code>
       */
      public boolean hasChannelOpen() {
        return ((bitField0_ & 0x00000002) == 0x00000002);
      }
      /**
       * <code>optional .clientserver.OpenWaveletChannelStream.ChannelOpen channelOpen = 2;</code>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen getChannelOpen() {
        if (channelOpenBuilder_ == null) {
          return channelOpen_;
        } else {
          return channelOpenBuilder_.getMessage();
        }
      }
      /**
       * <code>optional .clientserver.OpenWaveletChannelStream.ChannelOpen channelOpen = 2;</code>
       */
      public Builder setChannelOpen(org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen value) {
        if (channelOpenBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          channelOpen_ = value;
          onChanged();
        } else {
          channelOpenBuilder_.setMessage(value);
        }
        bitField0_ |= 0x00000002;
        return this;
      }
      /**
       * <code>optional .clientserver.OpenWaveletChannelStream.ChannelOpen channelOpen = 2;</code>
       */
      public Builder setChannelOpen(
          org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen.Builder builderForValue) {
        if (channelOpenBuilder_ == null) {
          channelOpen_ = builderForValue.build();
          onChanged();
        } else {
          channelOpenBuilder_.setMessage(builderForValue.build());
        }
        bitField0_ |= 0x00000002;
        return this;
      }
      /**
       * <code>optional .clientserver.OpenWaveletChannelStream.ChannelOpen channelOpen = 2;</code>
       */
      public Builder mergeChannelOpen(org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen value) {
        if (channelOpenBuilder_ == null) {
          if (((bitField0_ & 0x00000002) == 0x00000002) &&
              channelOpen_ != org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen.getDefaultInstance()) {
            channelOpen_ =
              org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen.newBuilder(channelOpen_).mergeFrom(value).buildPartial();
          } else {
            channelOpen_ = value;
          }
          onChanged();
        } else {
          channelOpenBuilder_.mergeFrom(value);
        }
        bitField0_ |= 0x00000002;
        return this;
      }
      /**
       * <code>optional .clientserver.OpenWaveletChannelStream.ChannelOpen channelOpen = 2;</code>
       */
      public Builder clearChannelOpen() {
        if (channelOpenBuilder_ == null) {
          channelOpen_ = org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen.getDefaultInstance();
          onChanged();
        } else {
          channelOpenBuilder_.clear();
        }
        bitField0_ = (bitField0_ & ~0x00000002);
        return this;
      }
      /**
       * <code>optional .clientserver.OpenWaveletChannelStream.ChannelOpen channelOpen = 2;</code>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen.Builder getChannelOpenBuilder() {
        bitField0_ |= 0x00000002;
        onChanged();
        return getChannelOpenFieldBuilder().getBuilder();
      }
      /**
       * <code>optional .clientserver.OpenWaveletChannelStream.ChannelOpen channelOpen = 2;</code>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpenOrBuilder getChannelOpenOrBuilder() {
        if (channelOpenBuilder_ != null) {
          return channelOpenBuilder_.getMessageOrBuilder();
        } else {
          return channelOpen_;
        }
      }
      /**
       * <code>optional .clientserver.OpenWaveletChannelStream.ChannelOpen channelOpen = 2;</code>
       */
      private com.google.protobuf.SingleFieldBuilder<
          org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen, org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen.Builder, org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpenOrBuilder> 
          getChannelOpenFieldBuilder() {
        if (channelOpenBuilder_ == null) {
          channelOpenBuilder_ = new com.google.protobuf.SingleFieldBuilder<
              org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen, org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpen.Builder, org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.ChannelOpenOrBuilder>(
                  channelOpen_,
                  getParentForChildren(),
                  isClean());
          channelOpen_ = null;
        }
        return channelOpenBuilder_;
      }

      // repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;
      private java.util.List<org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate> delta_ =
        java.util.Collections.emptyList();
      private void ensureDeltaIsMutable() {
        if (!((bitField0_ & 0x00000004) == 0x00000004)) {
          delta_ = new java.util.ArrayList<org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate>(delta_);
          bitField0_ |= 0x00000004;
         }
      }

      private com.google.protobuf.RepeatedFieldBuilder<
          org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate, org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate.Builder, org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdateOrBuilder> deltaBuilder_;

      /**
       * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
       */
      public java.util.List<org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate> getDeltaList() {
        if (deltaBuilder_ == null) {
          return java.util.Collections.unmodifiableList(delta_);
        } else {
          return deltaBuilder_.getMessageList();
        }
      }
      /**
       * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
       */
      public int getDeltaCount() {
        if (deltaBuilder_ == null) {
          return delta_.size();
        } else {
          return deltaBuilder_.getCount();
        }
      }
      /**
       * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate getDelta(int index) {
        if (deltaBuilder_ == null) {
          return delta_.get(index);
        } else {
          return deltaBuilder_.getMessage(index);
        }
      }
      /**
       * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
       */
      public Builder setDelta(
          int index, org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate value) {
        if (deltaBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureDeltaIsMutable();
          delta_.set(index, value);
          onChanged();
        } else {
          deltaBuilder_.setMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
       */
      public Builder setDelta(
          int index, org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate.Builder builderForValue) {
        if (deltaBuilder_ == null) {
          ensureDeltaIsMutable();
          delta_.set(index, builderForValue.build());
          onChanged();
        } else {
          deltaBuilder_.setMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
       */
      public Builder addDelta(org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate value) {
        if (deltaBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureDeltaIsMutable();
          delta_.add(value);
          onChanged();
        } else {
          deltaBuilder_.addMessage(value);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
       */
      public Builder addDelta(
          int index, org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate value) {
        if (deltaBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          ensureDeltaIsMutable();
          delta_.add(index, value);
          onChanged();
        } else {
          deltaBuilder_.addMessage(index, value);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
       */
      public Builder addDelta(
          org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate.Builder builderForValue) {
        if (deltaBuilder_ == null) {
          ensureDeltaIsMutable();
          delta_.add(builderForValue.build());
          onChanged();
        } else {
          deltaBuilder_.addMessage(builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
       */
      public Builder addDelta(
          int index, org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate.Builder builderForValue) {
        if (deltaBuilder_ == null) {
          ensureDeltaIsMutable();
          delta_.add(index, builderForValue.build());
          onChanged();
        } else {
          deltaBuilder_.addMessage(index, builderForValue.build());
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
       */
      public Builder addAllDelta(
          java.lang.Iterable<? extends org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate> values) {
        if (deltaBuilder_ == null) {
          ensureDeltaIsMutable();
          super.addAll(values, delta_);
          onChanged();
        } else {
          deltaBuilder_.addAllMessages(values);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
       */
      public Builder clearDelta() {
        if (deltaBuilder_ == null) {
          delta_ = java.util.Collections.emptyList();
          bitField0_ = (bitField0_ & ~0x00000004);
          onChanged();
        } else {
          deltaBuilder_.clear();
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
       */
      public Builder removeDelta(int index) {
        if (deltaBuilder_ == null) {
          ensureDeltaIsMutable();
          delta_.remove(index);
          onChanged();
        } else {
          deltaBuilder_.remove(index);
        }
        return this;
      }
      /**
       * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate.Builder getDeltaBuilder(
          int index) {
        return getDeltaFieldBuilder().getBuilder(index);
      }
      /**
       * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdateOrBuilder getDeltaOrBuilder(
          int index) {
        if (deltaBuilder_ == null) {
          return delta_.get(index);  } else {
          return deltaBuilder_.getMessageOrBuilder(index);
        }
      }
      /**
       * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
       */
      public java.util.List<? extends org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdateOrBuilder> 
           getDeltaOrBuilderList() {
        if (deltaBuilder_ != null) {
          return deltaBuilder_.getMessageOrBuilderList();
        } else {
          return java.util.Collections.unmodifiableList(delta_);
        }
      }
      /**
       * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate.Builder addDeltaBuilder() {
        return getDeltaFieldBuilder().addBuilder(
            org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate.getDefaultInstance());
      }
      /**
       * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate.Builder addDeltaBuilder(
          int index) {
        return getDeltaFieldBuilder().addBuilder(
            index, org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate.getDefaultInstance());
      }
      /**
       * <code>repeated .clientserver.OpenWaveletChannelStream.WaveletUpdate delta = 3;</code>
       */
      public java.util.List<org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate.Builder> 
           getDeltaBuilderList() {
        return getDeltaFieldBuilder().getBuilderList();
      }
      private com.google.protobuf.RepeatedFieldBuilder<
          org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate, org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate.Builder, org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdateOrBuilder> 
          getDeltaFieldBuilder() {
        if (deltaBuilder_ == null) {
          deltaBuilder_ = new com.google.protobuf.RepeatedFieldBuilder<
              org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate, org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdate.Builder, org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.WaveletUpdateOrBuilder>(
                  delta_,
                  ((bitField0_ & 0x00000004) == 0x00000004),
                  getParentForChildren(),
                  isClean());
          delta_ = null;
        }
        return deltaBuilder_;
      }

      // optional .federation.ProtocolHashedVersion commitVersion = 4;
      private org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion commitVersion_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
      private com.google.protobuf.SingleFieldBuilder<
          org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder> commitVersionBuilder_;
      /**
       * <code>optional .federation.ProtocolHashedVersion commitVersion = 4;</code>
       */
      public boolean hasCommitVersion() {
        return ((bitField0_ & 0x00000008) == 0x00000008);
      }
      /**
       * <code>optional .federation.ProtocolHashedVersion commitVersion = 4;</code>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getCommitVersion() {
        if (commitVersionBuilder_ == null) {
          return commitVersion_;
        } else {
          return commitVersionBuilder_.getMessage();
        }
      }
      /**
       * <code>optional .federation.ProtocolHashedVersion commitVersion = 4;</code>
       */
      public Builder setCommitVersion(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion value) {
        if (commitVersionBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          commitVersion_ = value;
          onChanged();
        } else {
          commitVersionBuilder_.setMessage(value);
        }
        bitField0_ |= 0x00000008;
        return this;
      }
      /**
       * <code>optional .federation.ProtocolHashedVersion commitVersion = 4;</code>
       */
      public Builder setCommitVersion(
          org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder builderForValue) {
        if (commitVersionBuilder_ == null) {
          commitVersion_ = builderForValue.build();
          onChanged();
        } else {
          commitVersionBuilder_.setMessage(builderForValue.build());
        }
        bitField0_ |= 0x00000008;
        return this;
      }
      /**
       * <code>optional .federation.ProtocolHashedVersion commitVersion = 4;</code>
       */
      public Builder mergeCommitVersion(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion value) {
        if (commitVersionBuilder_ == null) {
          if (((bitField0_ & 0x00000008) == 0x00000008) &&
              commitVersion_ != org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance()) {
            commitVersion_ =
              org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.newBuilder(commitVersion_).mergeFrom(value).buildPartial();
          } else {
            commitVersion_ = value;
          }
          onChanged();
        } else {
          commitVersionBuilder_.mergeFrom(value);
        }
        bitField0_ |= 0x00000008;
        return this;
      }
      /**
       * <code>optional .federation.ProtocolHashedVersion commitVersion = 4;</code>
       */
      public Builder clearCommitVersion() {
        if (commitVersionBuilder_ == null) {
          commitVersion_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
          onChanged();
        } else {
          commitVersionBuilder_.clear();
        }
        bitField0_ = (bitField0_ & ~0x00000008);
        return this;
      }
      /**
       * <code>optional .federation.ProtocolHashedVersion commitVersion = 4;</code>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder getCommitVersionBuilder() {
        bitField0_ |= 0x00000008;
        onChanged();
        return getCommitVersionFieldBuilder().getBuilder();
      }
      /**
       * <code>optional .federation.ProtocolHashedVersion commitVersion = 4;</code>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder getCommitVersionOrBuilder() {
        if (commitVersionBuilder_ != null) {
          return commitVersionBuilder_.getMessageOrBuilder();
        } else {
          return commitVersion_;
        }
      }
      /**
       * <code>optional .federation.ProtocolHashedVersion commitVersion = 4;</code>
       */
      private com.google.protobuf.SingleFieldBuilder<
          org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder> 
          getCommitVersionFieldBuilder() {
        if (commitVersionBuilder_ == null) {
          commitVersionBuilder_ = new com.google.protobuf.SingleFieldBuilder<
              org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder>(
                  commitVersion_,
                  getParentForChildren(),
                  isClean());
          commitVersion_ = null;
        }
        return commitVersionBuilder_;
      }

      // optional .clientserver.WaveletChannelTerminator terminator = 5;
      private org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator terminator_ = org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator.getDefaultInstance();
      private com.google.protobuf.SingleFieldBuilder<
          org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator, org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator.Builder, org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminatorOrBuilder> terminatorBuilder_;
      /**
       * <code>optional .clientserver.WaveletChannelTerminator terminator = 5;</code>
       *
       * <pre>
       * Last message contains only a terminator.
       * </pre>
       */
      public boolean hasTerminator() {
        return ((bitField0_ & 0x00000010) == 0x00000010);
      }
      /**
       * <code>optional .clientserver.WaveletChannelTerminator terminator = 5;</code>
       *
       * <pre>
       * Last message contains only a terminator.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator getTerminator() {
        if (terminatorBuilder_ == null) {
          return terminator_;
        } else {
          return terminatorBuilder_.getMessage();
        }
      }
      /**
       * <code>optional .clientserver.WaveletChannelTerminator terminator = 5;</code>
       *
       * <pre>
       * Last message contains only a terminator.
       * </pre>
       */
      public Builder setTerminator(org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator value) {
        if (terminatorBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          terminator_ = value;
          onChanged();
        } else {
          terminatorBuilder_.setMessage(value);
        }
        bitField0_ |= 0x00000010;
        return this;
      }
      /**
       * <code>optional .clientserver.WaveletChannelTerminator terminator = 5;</code>
       *
       * <pre>
       * Last message contains only a terminator.
       * </pre>
       */
      public Builder setTerminator(
          org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator.Builder builderForValue) {
        if (terminatorBuilder_ == null) {
          terminator_ = builderForValue.build();
          onChanged();
        } else {
          terminatorBuilder_.setMessage(builderForValue.build());
        }
        bitField0_ |= 0x00000010;
        return this;
      }
      /**
       * <code>optional .clientserver.WaveletChannelTerminator terminator = 5;</code>
       *
       * <pre>
       * Last message contains only a terminator.
       * </pre>
       */
      public Builder mergeTerminator(org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator value) {
        if (terminatorBuilder_ == null) {
          if (((bitField0_ & 0x00000010) == 0x00000010) &&
              terminator_ != org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator.getDefaultInstance()) {
            terminator_ =
              org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator.newBuilder(terminator_).mergeFrom(value).buildPartial();
          } else {
            terminator_ = value;
          }
          onChanged();
        } else {
          terminatorBuilder_.mergeFrom(value);
        }
        bitField0_ |= 0x00000010;
        return this;
      }
      /**
       * <code>optional .clientserver.WaveletChannelTerminator terminator = 5;</code>
       *
       * <pre>
       * Last message contains only a terminator.
       * </pre>
       */
      public Builder clearTerminator() {
        if (terminatorBuilder_ == null) {
          terminator_ = org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator.getDefaultInstance();
          onChanged();
        } else {
          terminatorBuilder_.clear();
        }
        bitField0_ = (bitField0_ & ~0x00000010);
        return this;
      }
      /**
       * <code>optional .clientserver.WaveletChannelTerminator terminator = 5;</code>
       *
       * <pre>
       * Last message contains only a terminator.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator.Builder getTerminatorBuilder() {
        bitField0_ |= 0x00000010;
        onChanged();
        return getTerminatorFieldBuilder().getBuilder();
      }
      /**
       * <code>optional .clientserver.WaveletChannelTerminator terminator = 5;</code>
       *
       * <pre>
       * Last message contains only a terminator.
       * </pre>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminatorOrBuilder getTerminatorOrBuilder() {
        if (terminatorBuilder_ != null) {
          return terminatorBuilder_.getMessageOrBuilder();
        } else {
          return terminator_;
        }
      }
      /**
       * <code>optional .clientserver.WaveletChannelTerminator terminator = 5;</code>
       *
       * <pre>
       * Last message contains only a terminator.
       * </pre>
       */
      private com.google.protobuf.SingleFieldBuilder<
          org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator, org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator.Builder, org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminatorOrBuilder> 
          getTerminatorFieldBuilder() {
        if (terminatorBuilder_ == null) {
          terminatorBuilder_ = new com.google.protobuf.SingleFieldBuilder<
              org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator, org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator.Builder, org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminatorOrBuilder>(
                  terminator_,
                  getParentForChildren(),
                  isClean());
          terminator_ = null;
        }
        return terminatorBuilder_;
      }

      // @@protoc_insertion_point(builder_scope:clientserver.OpenWaveletChannelStream)
    }

    static {
      defaultInstance = new OpenWaveletChannelStream(true);
      defaultInstance.initFields();
    }

    // @@protoc_insertion_point(class_scope:clientserver.OpenWaveletChannelStream)
  }

  public interface CloseWaveletChannelRequestOrBuilder
      extends com.google.protobuf.MessageOrBuilder {

    // required string channelId = 1;
    /**
     * <code>required string channelId = 1;</code>
     *
     * <pre>
     * Channels to close.
     * </pre>
     */
    boolean hasChannelId();
    /**
     * <code>required string channelId = 1;</code>
     *
     * <pre>
     * Channels to close.
     * </pre>
     */
    java.lang.String getChannelId();
    /**
     * <code>required string channelId = 1;</code>
     *
     * <pre>
     * Channels to close.
     * </pre>
     */
    com.google.protobuf.ByteString
        getChannelIdBytes();
  }
  /**
   * Protobuf type {@code clientserver.CloseWaveletChannelRequest}
   */
  public static final class CloseWaveletChannelRequest extends
      com.google.protobuf.GeneratedMessage
      implements CloseWaveletChannelRequestOrBuilder {
    // Use CloseWaveletChannelRequest.newBuilder() to construct.
    private CloseWaveletChannelRequest(com.google.protobuf.GeneratedMessage.Builder<?> builder) {
      super(builder);
      this.unknownFields = builder.getUnknownFields();
    }
    private CloseWaveletChannelRequest(boolean noInit) { this.unknownFields = com.google.protobuf.UnknownFieldSet.getDefaultInstance(); }

    private static final CloseWaveletChannelRequest defaultInstance;
    public static CloseWaveletChannelRequest getDefaultInstance() {
      return defaultInstance;
    }

    public CloseWaveletChannelRequest getDefaultInstanceForType() {
      return defaultInstance;
    }

    private final com.google.protobuf.UnknownFieldSet unknownFields;
    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
        getUnknownFields() {
      return this.unknownFields;
    }
    private CloseWaveletChannelRequest(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      initFields();
      int mutable_bitField0_ = 0;
      com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder();
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!parseUnknownField(input, unknownFields,
                                     extensionRegistry, tag)) {
                done = true;
              }
              break;
            }
            case 10: {
              bitField0_ |= 0x00000001;
              channelId_ = input.readBytes();
              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e.getMessage()).setUnfinishedMessage(this);
      } finally {
        this.unknownFields = unknownFields.build();
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_CloseWaveletChannelRequest_descriptor;
    }

    protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_CloseWaveletChannelRequest_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest.class, org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest.Builder.class);
    }

    public static com.google.protobuf.Parser<CloseWaveletChannelRequest> PARSER =
        new com.google.protobuf.AbstractParser<CloseWaveletChannelRequest>() {
      public CloseWaveletChannelRequest parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return new CloseWaveletChannelRequest(input, extensionRegistry);
      }
    };

    @java.lang.Override
    public com.google.protobuf.Parser<CloseWaveletChannelRequest> getParserForType() {
      return PARSER;
    }

    private int bitField0_;
    // required string channelId = 1;
    public static final int CHANNELID_FIELD_NUMBER = 1;
    private java.lang.Object channelId_;
    /**
     * <code>required string channelId = 1;</code>
     *
     * <pre>
     * Channels to close.
     * </pre>
     */
    public boolean hasChannelId() {
      return ((bitField0_ & 0x00000001) == 0x00000001);
    }
    /**
     * <code>required string channelId = 1;</code>
     *
     * <pre>
     * Channels to close.
     * </pre>
     */
    public java.lang.String getChannelId() {
      java.lang.Object ref = channelId_;
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        if (bs.isValidUtf8()) {
          channelId_ = s;
        }
        return s;
      }
    }
    /**
     * <code>required string channelId = 1;</code>
     *
     * <pre>
     * Channels to close.
     * </pre>
     */
    public com.google.protobuf.ByteString
        getChannelIdBytes() {
      java.lang.Object ref = channelId_;
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        channelId_ = b;
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    private void initFields() {
      channelId_ = "";
    }
    private byte memoizedIsInitialized = -1;
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized != -1) return isInitialized == 1;

      if (!hasChannelId()) {
        memoizedIsInitialized = 0;
        return false;
      }
      memoizedIsInitialized = 1;
      return true;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        output.writeBytes(1, getChannelIdBytes());
      }
      getUnknownFields().writeTo(output);
    }

    private int memoizedSerializedSize = -1;
    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;

      size = 0;
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(1, getChannelIdBytes());
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }

    private static final long serialVersionUID = 0L;
    @java.lang.Override
    protected java.lang.Object writeReplace()
        throws java.io.ObjectStreamException {
      return super.writeReplace();
    }

    public static org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }

    public static Builder newBuilder() { return Builder.create(); }
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder(org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest prototype) {
      return newBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() { return newBuilder(this); }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessage.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * Protobuf type {@code clientserver.CloseWaveletChannelRequest}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessage.Builder<Builder>
       implements org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequestOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_CloseWaveletChannelRequest_descriptor;
      }

      protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_CloseWaveletChannelRequest_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest.class, org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest.Builder.class);
      }

      // Construct using org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessage.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders) {
        }
      }
      private static Builder create() {
        return new Builder();
      }

      public Builder clear() {
        super.clear();
        channelId_ = "";
        bitField0_ = (bitField0_ & ~0x00000001);
        return this;
      }

      public Builder clone() {
        return create().mergeFrom(buildPartial());
      }

      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_CloseWaveletChannelRequest_descriptor;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest getDefaultInstanceForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest.getDefaultInstance();
      }

      public org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest build() {
        org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest buildPartial() {
        org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest result = new org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest(this);
        int from_bitField0_ = bitField0_;
        int to_bitField0_ = 0;
        if (((from_bitField0_ & 0x00000001) == 0x00000001)) {
          to_bitField0_ |= 0x00000001;
        }
        result.channelId_ = channelId_;
        result.bitField0_ = to_bitField0_;
        onBuilt();
        return result;
      }

      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest) {
          return mergeFrom((org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest other) {
        if (other == org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest.getDefaultInstance()) return this;
        if (other.hasChannelId()) {
          bitField0_ |= 0x00000001;
          channelId_ = other.channelId_;
          onChanged();
        }
        this.mergeUnknownFields(other.getUnknownFields());
        return this;
      }

      public final boolean isInitialized() {
        if (!hasChannelId()) {
          
          return false;
        }
        return true;
      }

      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest) e.getUnfinishedMessage();
          throw e;
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }
      private int bitField0_;

      // required string channelId = 1;
      private java.lang.Object channelId_ = "";
      /**
       * <code>required string channelId = 1;</code>
       *
       * <pre>
       * Channels to close.
       * </pre>
       */
      public boolean hasChannelId() {
        return ((bitField0_ & 0x00000001) == 0x00000001);
      }
      /**
       * <code>required string channelId = 1;</code>
       *
       * <pre>
       * Channels to close.
       * </pre>
       */
      public java.lang.String getChannelId() {
        java.lang.Object ref = channelId_;
        if (!(ref instanceof java.lang.String)) {
          java.lang.String s = ((com.google.protobuf.ByteString) ref)
              .toStringUtf8();
          channelId_ = s;
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <code>required string channelId = 1;</code>
       *
       * <pre>
       * Channels to close.
       * </pre>
       */
      public com.google.protobuf.ByteString
          getChannelIdBytes() {
        java.lang.Object ref = channelId_;
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          channelId_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <code>required string channelId = 1;</code>
       *
       * <pre>
       * Channels to close.
       * </pre>
       */
      public Builder setChannelId(
          java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
        channelId_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>required string channelId = 1;</code>
       *
       * <pre>
       * Channels to close.
       * </pre>
       */
      public Builder clearChannelId() {
        bitField0_ = (bitField0_ & ~0x00000001);
        channelId_ = getDefaultInstance().getChannelId();
        onChanged();
        return this;
      }
      /**
       * <code>required string channelId = 1;</code>
       *
       * <pre>
       * Channels to close.
       * </pre>
       */
      public Builder setChannelIdBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
        channelId_ = value;
        onChanged();
        return this;
      }

      // @@protoc_insertion_point(builder_scope:clientserver.CloseWaveletChannelRequest)
    }

    static {
      defaultInstance = new CloseWaveletChannelRequest(true);
      defaultInstance.initFields();
    }

    // @@protoc_insertion_point(class_scope:clientserver.CloseWaveletChannelRequest)
  }

  public interface WaveletChannelTerminatorOrBuilder
      extends com.google.protobuf.MessageOrBuilder {

    // required .clientserver.ResponseStatus status = 1;
    /**
     * <code>required .clientserver.ResponseStatus status = 1;</code>
     */
    boolean hasStatus();
    /**
     * <code>required .clientserver.ResponseStatus status = 1;</code>
     */
    org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus getStatus();
    /**
     * <code>required .clientserver.ResponseStatus status = 1;</code>
     */
    org.waveprotocol.wave.clientserver.ClientServer.ResponseStatusOrBuilder getStatusOrBuilder();
  }
  /**
   * Protobuf type {@code clientserver.WaveletChannelTerminator}
   *
   * <pre>
   ** Terminates a wavelet stream. 
   * </pre>
   */
  public static final class WaveletChannelTerminator extends
      com.google.protobuf.GeneratedMessage
      implements WaveletChannelTerminatorOrBuilder {
    // Use WaveletChannelTerminator.newBuilder() to construct.
    private WaveletChannelTerminator(com.google.protobuf.GeneratedMessage.Builder<?> builder) {
      super(builder);
      this.unknownFields = builder.getUnknownFields();
    }
    private WaveletChannelTerminator(boolean noInit) { this.unknownFields = com.google.protobuf.UnknownFieldSet.getDefaultInstance(); }

    private static final WaveletChannelTerminator defaultInstance;
    public static WaveletChannelTerminator getDefaultInstance() {
      return defaultInstance;
    }

    public WaveletChannelTerminator getDefaultInstanceForType() {
      return defaultInstance;
    }

    private final com.google.protobuf.UnknownFieldSet unknownFields;
    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
        getUnknownFields() {
      return this.unknownFields;
    }
    private WaveletChannelTerminator(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      initFields();
      int mutable_bitField0_ = 0;
      com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder();
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!parseUnknownField(input, unknownFields,
                                     extensionRegistry, tag)) {
                done = true;
              }
              break;
            }
            case 10: {
              org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.Builder subBuilder = null;
              if (((bitField0_ & 0x00000001) == 0x00000001)) {
                subBuilder = status_.toBuilder();
              }
              status_ = input.readMessage(org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.PARSER, extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(status_);
                status_ = subBuilder.buildPartial();
              }
              bitField0_ |= 0x00000001;
              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e.getMessage()).setUnfinishedMessage(this);
      } finally {
        this.unknownFields = unknownFields.build();
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_WaveletChannelTerminator_descriptor;
    }

    protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_WaveletChannelTerminator_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator.class, org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator.Builder.class);
    }

    public static com.google.protobuf.Parser<WaveletChannelTerminator> PARSER =
        new com.google.protobuf.AbstractParser<WaveletChannelTerminator>() {
      public WaveletChannelTerminator parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return new WaveletChannelTerminator(input, extensionRegistry);
      }
    };

    @java.lang.Override
    public com.google.protobuf.Parser<WaveletChannelTerminator> getParserForType() {
      return PARSER;
    }

    private int bitField0_;
    // required .clientserver.ResponseStatus status = 1;
    public static final int STATUS_FIELD_NUMBER = 1;
    private org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus status_;
    /**
     * <code>required .clientserver.ResponseStatus status = 1;</code>
     */
    public boolean hasStatus() {
      return ((bitField0_ & 0x00000001) == 0x00000001);
    }
    /**
     * <code>required .clientserver.ResponseStatus status = 1;</code>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus getStatus() {
      return status_;
    }
    /**
     * <code>required .clientserver.ResponseStatus status = 1;</code>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.ResponseStatusOrBuilder getStatusOrBuilder() {
      return status_;
    }

    private void initFields() {
      status_ = org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.getDefaultInstance();
    }
    private byte memoizedIsInitialized = -1;
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized != -1) return isInitialized == 1;

      if (!hasStatus()) {
        memoizedIsInitialized = 0;
        return false;
      }
      if (!getStatus().isInitialized()) {
        memoizedIsInitialized = 0;
        return false;
      }
      memoizedIsInitialized = 1;
      return true;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        output.writeMessage(1, status_);
      }
      getUnknownFields().writeTo(output);
    }

    private int memoizedSerializedSize = -1;
    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;

      size = 0;
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(1, status_);
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }

    private static final long serialVersionUID = 0L;
    @java.lang.Override
    protected java.lang.Object writeReplace()
        throws java.io.ObjectStreamException {
      return super.writeReplace();
    }

    public static org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }

    public static Builder newBuilder() { return Builder.create(); }
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder(org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator prototype) {
      return newBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() { return newBuilder(this); }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessage.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * Protobuf type {@code clientserver.WaveletChannelTerminator}
     *
     * <pre>
     ** Terminates a wavelet stream. 
     * </pre>
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessage.Builder<Builder>
       implements org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminatorOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_WaveletChannelTerminator_descriptor;
      }

      protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_WaveletChannelTerminator_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator.class, org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator.Builder.class);
      }

      // Construct using org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessage.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders) {
          getStatusFieldBuilder();
        }
      }
      private static Builder create() {
        return new Builder();
      }

      public Builder clear() {
        super.clear();
        if (statusBuilder_ == null) {
          status_ = org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.getDefaultInstance();
        } else {
          statusBuilder_.clear();
        }
        bitField0_ = (bitField0_ & ~0x00000001);
        return this;
      }

      public Builder clone() {
        return create().mergeFrom(buildPartial());
      }

      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_WaveletChannelTerminator_descriptor;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator getDefaultInstanceForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator.getDefaultInstance();
      }

      public org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator build() {
        org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator buildPartial() {
        org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator result = new org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator(this);
        int from_bitField0_ = bitField0_;
        int to_bitField0_ = 0;
        if (((from_bitField0_ & 0x00000001) == 0x00000001)) {
          to_bitField0_ |= 0x00000001;
        }
        if (statusBuilder_ == null) {
          result.status_ = status_;
        } else {
          result.status_ = statusBuilder_.build();
        }
        result.bitField0_ = to_bitField0_;
        onBuilt();
        return result;
      }

      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator) {
          return mergeFrom((org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator other) {
        if (other == org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator.getDefaultInstance()) return this;
        if (other.hasStatus()) {
          mergeStatus(other.getStatus());
        }
        this.mergeUnknownFields(other.getUnknownFields());
        return this;
      }

      public final boolean isInitialized() {
        if (!hasStatus()) {
          
          return false;
        }
        if (!getStatus().isInitialized()) {
          
          return false;
        }
        return true;
      }

      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelTerminator) e.getUnfinishedMessage();
          throw e;
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }
      private int bitField0_;

      // required .clientserver.ResponseStatus status = 1;
      private org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus status_ = org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.getDefaultInstance();
      private com.google.protobuf.SingleFieldBuilder<
          org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus, org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.Builder, org.waveprotocol.wave.clientserver.ClientServer.ResponseStatusOrBuilder> statusBuilder_;
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public boolean hasStatus() {
        return ((bitField0_ & 0x00000001) == 0x00000001);
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus getStatus() {
        if (statusBuilder_ == null) {
          return status_;
        } else {
          return statusBuilder_.getMessage();
        }
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public Builder setStatus(org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus value) {
        if (statusBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          status_ = value;
          onChanged();
        } else {
          statusBuilder_.setMessage(value);
        }
        bitField0_ |= 0x00000001;
        return this;
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public Builder setStatus(
          org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.Builder builderForValue) {
        if (statusBuilder_ == null) {
          status_ = builderForValue.build();
          onChanged();
        } else {
          statusBuilder_.setMessage(builderForValue.build());
        }
        bitField0_ |= 0x00000001;
        return this;
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public Builder mergeStatus(org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus value) {
        if (statusBuilder_ == null) {
          if (((bitField0_ & 0x00000001) == 0x00000001) &&
              status_ != org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.getDefaultInstance()) {
            status_ =
              org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.newBuilder(status_).mergeFrom(value).buildPartial();
          } else {
            status_ = value;
          }
          onChanged();
        } else {
          statusBuilder_.mergeFrom(value);
        }
        bitField0_ |= 0x00000001;
        return this;
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public Builder clearStatus() {
        if (statusBuilder_ == null) {
          status_ = org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.getDefaultInstance();
          onChanged();
        } else {
          statusBuilder_.clear();
        }
        bitField0_ = (bitField0_ & ~0x00000001);
        return this;
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.Builder getStatusBuilder() {
        bitField0_ |= 0x00000001;
        onChanged();
        return getStatusFieldBuilder().getBuilder();
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.ResponseStatusOrBuilder getStatusOrBuilder() {
        if (statusBuilder_ != null) {
          return statusBuilder_.getMessageOrBuilder();
        } else {
          return status_;
        }
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      private com.google.protobuf.SingleFieldBuilder<
          org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus, org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.Builder, org.waveprotocol.wave.clientserver.ClientServer.ResponseStatusOrBuilder> 
          getStatusFieldBuilder() {
        if (statusBuilder_ == null) {
          statusBuilder_ = new com.google.protobuf.SingleFieldBuilder<
              org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus, org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.Builder, org.waveprotocol.wave.clientserver.ClientServer.ResponseStatusOrBuilder>(
                  status_,
                  getParentForChildren(),
                  isClean());
          status_ = null;
        }
        return statusBuilder_;
      }

      // @@protoc_insertion_point(builder_scope:clientserver.WaveletChannelTerminator)
    }

    static {
      defaultInstance = new WaveletChannelTerminator(true);
      defaultInstance.initFields();
    }

    // @@protoc_insertion_point(class_scope:clientserver.WaveletChannelTerminator)
  }

  public interface SubmitDeltaRequestOrBuilder
      extends com.google.protobuf.MessageOrBuilder {

    // required string channelId = 1;
    /**
     * <code>required string channelId = 1;</code>
     *
     * <pre>
     * Wavelet channel associated with submission.
     * </pre>
     */
    boolean hasChannelId();
    /**
     * <code>required string channelId = 1;</code>
     *
     * <pre>
     * Wavelet channel associated with submission.
     * </pre>
     */
    java.lang.String getChannelId();
    /**
     * <code>required string channelId = 1;</code>
     *
     * <pre>
     * Wavelet channel associated with submission.
     * </pre>
     */
    com.google.protobuf.ByteString
        getChannelIdBytes();

    // required .federation.ProtocolWaveletDelta delta = 2;
    /**
     * <code>required .federation.ProtocolWaveletDelta delta = 2;</code>
     *
     * <pre>
     * Delta to submit.
     * </pre>
     */
    boolean hasDelta();
    /**
     * <code>required .federation.ProtocolWaveletDelta delta = 2;</code>
     *
     * <pre>
     * Delta to submit.
     * </pre>
     */
    org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta getDelta();
    /**
     * <code>required .federation.ProtocolWaveletDelta delta = 2;</code>
     *
     * <pre>
     * Delta to submit.
     * </pre>
     */
    org.waveprotocol.wave.federation.Proto.ProtocolWaveletDeltaOrBuilder getDeltaOrBuilder();
  }
  /**
   * Protobuf type {@code clientserver.SubmitDeltaRequest}
   */
  public static final class SubmitDeltaRequest extends
      com.google.protobuf.GeneratedMessage
      implements SubmitDeltaRequestOrBuilder {
    // Use SubmitDeltaRequest.newBuilder() to construct.
    private SubmitDeltaRequest(com.google.protobuf.GeneratedMessage.Builder<?> builder) {
      super(builder);
      this.unknownFields = builder.getUnknownFields();
    }
    private SubmitDeltaRequest(boolean noInit) { this.unknownFields = com.google.protobuf.UnknownFieldSet.getDefaultInstance(); }

    private static final SubmitDeltaRequest defaultInstance;
    public static SubmitDeltaRequest getDefaultInstance() {
      return defaultInstance;
    }

    public SubmitDeltaRequest getDefaultInstanceForType() {
      return defaultInstance;
    }

    private final com.google.protobuf.UnknownFieldSet unknownFields;
    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
        getUnknownFields() {
      return this.unknownFields;
    }
    private SubmitDeltaRequest(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      initFields();
      int mutable_bitField0_ = 0;
      com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder();
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!parseUnknownField(input, unknownFields,
                                     extensionRegistry, tag)) {
                done = true;
              }
              break;
            }
            case 10: {
              bitField0_ |= 0x00000001;
              channelId_ = input.readBytes();
              break;
            }
            case 18: {
              org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.Builder subBuilder = null;
              if (((bitField0_ & 0x00000002) == 0x00000002)) {
                subBuilder = delta_.toBuilder();
              }
              delta_ = input.readMessage(org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.PARSER, extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(delta_);
                delta_ = subBuilder.buildPartial();
              }
              bitField0_ |= 0x00000002;
              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e.getMessage()).setUnfinishedMessage(this);
      } finally {
        this.unknownFields = unknownFields.build();
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_SubmitDeltaRequest_descriptor;
    }

    protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_SubmitDeltaRequest_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest.class, org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest.Builder.class);
    }

    public static com.google.protobuf.Parser<SubmitDeltaRequest> PARSER =
        new com.google.protobuf.AbstractParser<SubmitDeltaRequest>() {
      public SubmitDeltaRequest parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return new SubmitDeltaRequest(input, extensionRegistry);
      }
    };

    @java.lang.Override
    public com.google.protobuf.Parser<SubmitDeltaRequest> getParserForType() {
      return PARSER;
    }

    private int bitField0_;
    // required string channelId = 1;
    public static final int CHANNELID_FIELD_NUMBER = 1;
    private java.lang.Object channelId_;
    /**
     * <code>required string channelId = 1;</code>
     *
     * <pre>
     * Wavelet channel associated with submission.
     * </pre>
     */
    public boolean hasChannelId() {
      return ((bitField0_ & 0x00000001) == 0x00000001);
    }
    /**
     * <code>required string channelId = 1;</code>
     *
     * <pre>
     * Wavelet channel associated with submission.
     * </pre>
     */
    public java.lang.String getChannelId() {
      java.lang.Object ref = channelId_;
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        if (bs.isValidUtf8()) {
          channelId_ = s;
        }
        return s;
      }
    }
    /**
     * <code>required string channelId = 1;</code>
     *
     * <pre>
     * Wavelet channel associated with submission.
     * </pre>
     */
    public com.google.protobuf.ByteString
        getChannelIdBytes() {
      java.lang.Object ref = channelId_;
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        channelId_ = b;
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    // required .federation.ProtocolWaveletDelta delta = 2;
    public static final int DELTA_FIELD_NUMBER = 2;
    private org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta delta_;
    /**
     * <code>required .federation.ProtocolWaveletDelta delta = 2;</code>
     *
     * <pre>
     * Delta to submit.
     * </pre>
     */
    public boolean hasDelta() {
      return ((bitField0_ & 0x00000002) == 0x00000002);
    }
    /**
     * <code>required .federation.ProtocolWaveletDelta delta = 2;</code>
     *
     * <pre>
     * Delta to submit.
     * </pre>
     */
    public org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta getDelta() {
      return delta_;
    }
    /**
     * <code>required .federation.ProtocolWaveletDelta delta = 2;</code>
     *
     * <pre>
     * Delta to submit.
     * </pre>
     */
    public org.waveprotocol.wave.federation.Proto.ProtocolWaveletDeltaOrBuilder getDeltaOrBuilder() {
      return delta_;
    }

    private void initFields() {
      channelId_ = "";
      delta_ = org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.getDefaultInstance();
    }
    private byte memoizedIsInitialized = -1;
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized != -1) return isInitialized == 1;

      if (!hasChannelId()) {
        memoizedIsInitialized = 0;
        return false;
      }
      if (!hasDelta()) {
        memoizedIsInitialized = 0;
        return false;
      }
      if (!getDelta().isInitialized()) {
        memoizedIsInitialized = 0;
        return false;
      }
      memoizedIsInitialized = 1;
      return true;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        output.writeBytes(1, getChannelIdBytes());
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        output.writeMessage(2, delta_);
      }
      getUnknownFields().writeTo(output);
    }

    private int memoizedSerializedSize = -1;
    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;

      size = 0;
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(1, getChannelIdBytes());
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(2, delta_);
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }

    private static final long serialVersionUID = 0L;
    @java.lang.Override
    protected java.lang.Object writeReplace()
        throws java.io.ObjectStreamException {
      return super.writeReplace();
    }

    public static org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }

    public static Builder newBuilder() { return Builder.create(); }
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder(org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest prototype) {
      return newBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() { return newBuilder(this); }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessage.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * Protobuf type {@code clientserver.SubmitDeltaRequest}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessage.Builder<Builder>
       implements org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequestOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_SubmitDeltaRequest_descriptor;
      }

      protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_SubmitDeltaRequest_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest.class, org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest.Builder.class);
      }

      // Construct using org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessage.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders) {
          getDeltaFieldBuilder();
        }
      }
      private static Builder create() {
        return new Builder();
      }

      public Builder clear() {
        super.clear();
        channelId_ = "";
        bitField0_ = (bitField0_ & ~0x00000001);
        if (deltaBuilder_ == null) {
          delta_ = org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.getDefaultInstance();
        } else {
          deltaBuilder_.clear();
        }
        bitField0_ = (bitField0_ & ~0x00000002);
        return this;
      }

      public Builder clone() {
        return create().mergeFrom(buildPartial());
      }

      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_SubmitDeltaRequest_descriptor;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest getDefaultInstanceForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest.getDefaultInstance();
      }

      public org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest build() {
        org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest buildPartial() {
        org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest result = new org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest(this);
        int from_bitField0_ = bitField0_;
        int to_bitField0_ = 0;
        if (((from_bitField0_ & 0x00000001) == 0x00000001)) {
          to_bitField0_ |= 0x00000001;
        }
        result.channelId_ = channelId_;
        if (((from_bitField0_ & 0x00000002) == 0x00000002)) {
          to_bitField0_ |= 0x00000002;
        }
        if (deltaBuilder_ == null) {
          result.delta_ = delta_;
        } else {
          result.delta_ = deltaBuilder_.build();
        }
        result.bitField0_ = to_bitField0_;
        onBuilt();
        return result;
      }

      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest) {
          return mergeFrom((org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest other) {
        if (other == org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest.getDefaultInstance()) return this;
        if (other.hasChannelId()) {
          bitField0_ |= 0x00000001;
          channelId_ = other.channelId_;
          onChanged();
        }
        if (other.hasDelta()) {
          mergeDelta(other.getDelta());
        }
        this.mergeUnknownFields(other.getUnknownFields());
        return this;
      }

      public final boolean isInitialized() {
        if (!hasChannelId()) {
          
          return false;
        }
        if (!hasDelta()) {
          
          return false;
        }
        if (!getDelta().isInitialized()) {
          
          return false;
        }
        return true;
      }

      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest) e.getUnfinishedMessage();
          throw e;
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }
      private int bitField0_;

      // required string channelId = 1;
      private java.lang.Object channelId_ = "";
      /**
       * <code>required string channelId = 1;</code>
       *
       * <pre>
       * Wavelet channel associated with submission.
       * </pre>
       */
      public boolean hasChannelId() {
        return ((bitField0_ & 0x00000001) == 0x00000001);
      }
      /**
       * <code>required string channelId = 1;</code>
       *
       * <pre>
       * Wavelet channel associated with submission.
       * </pre>
       */
      public java.lang.String getChannelId() {
        java.lang.Object ref = channelId_;
        if (!(ref instanceof java.lang.String)) {
          java.lang.String s = ((com.google.protobuf.ByteString) ref)
              .toStringUtf8();
          channelId_ = s;
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <code>required string channelId = 1;</code>
       *
       * <pre>
       * Wavelet channel associated with submission.
       * </pre>
       */
      public com.google.protobuf.ByteString
          getChannelIdBytes() {
        java.lang.Object ref = channelId_;
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          channelId_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <code>required string channelId = 1;</code>
       *
       * <pre>
       * Wavelet channel associated with submission.
       * </pre>
       */
      public Builder setChannelId(
          java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
        channelId_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>required string channelId = 1;</code>
       *
       * <pre>
       * Wavelet channel associated with submission.
       * </pre>
       */
      public Builder clearChannelId() {
        bitField0_ = (bitField0_ & ~0x00000001);
        channelId_ = getDefaultInstance().getChannelId();
        onChanged();
        return this;
      }
      /**
       * <code>required string channelId = 1;</code>
       *
       * <pre>
       * Wavelet channel associated with submission.
       * </pre>
       */
      public Builder setChannelIdBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
        channelId_ = value;
        onChanged();
        return this;
      }

      // required .federation.ProtocolWaveletDelta delta = 2;
      private org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta delta_ = org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.getDefaultInstance();
      private com.google.protobuf.SingleFieldBuilder<
          org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta, org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.Builder, org.waveprotocol.wave.federation.Proto.ProtocolWaveletDeltaOrBuilder> deltaBuilder_;
      /**
       * <code>required .federation.ProtocolWaveletDelta delta = 2;</code>
       *
       * <pre>
       * Delta to submit.
       * </pre>
       */
      public boolean hasDelta() {
        return ((bitField0_ & 0x00000002) == 0x00000002);
      }
      /**
       * <code>required .federation.ProtocolWaveletDelta delta = 2;</code>
       *
       * <pre>
       * Delta to submit.
       * </pre>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta getDelta() {
        if (deltaBuilder_ == null) {
          return delta_;
        } else {
          return deltaBuilder_.getMessage();
        }
      }
      /**
       * <code>required .federation.ProtocolWaveletDelta delta = 2;</code>
       *
       * <pre>
       * Delta to submit.
       * </pre>
       */
      public Builder setDelta(org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta value) {
        if (deltaBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          delta_ = value;
          onChanged();
        } else {
          deltaBuilder_.setMessage(value);
        }
        bitField0_ |= 0x00000002;
        return this;
      }
      /**
       * <code>required .federation.ProtocolWaveletDelta delta = 2;</code>
       *
       * <pre>
       * Delta to submit.
       * </pre>
       */
      public Builder setDelta(
          org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.Builder builderForValue) {
        if (deltaBuilder_ == null) {
          delta_ = builderForValue.build();
          onChanged();
        } else {
          deltaBuilder_.setMessage(builderForValue.build());
        }
        bitField0_ |= 0x00000002;
        return this;
      }
      /**
       * <code>required .federation.ProtocolWaveletDelta delta = 2;</code>
       *
       * <pre>
       * Delta to submit.
       * </pre>
       */
      public Builder mergeDelta(org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta value) {
        if (deltaBuilder_ == null) {
          if (((bitField0_ & 0x00000002) == 0x00000002) &&
              delta_ != org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.getDefaultInstance()) {
            delta_ =
              org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.newBuilder(delta_).mergeFrom(value).buildPartial();
          } else {
            delta_ = value;
          }
          onChanged();
        } else {
          deltaBuilder_.mergeFrom(value);
        }
        bitField0_ |= 0x00000002;
        return this;
      }
      /**
       * <code>required .federation.ProtocolWaveletDelta delta = 2;</code>
       *
       * <pre>
       * Delta to submit.
       * </pre>
       */
      public Builder clearDelta() {
        if (deltaBuilder_ == null) {
          delta_ = org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.getDefaultInstance();
          onChanged();
        } else {
          deltaBuilder_.clear();
        }
        bitField0_ = (bitField0_ & ~0x00000002);
        return this;
      }
      /**
       * <code>required .federation.ProtocolWaveletDelta delta = 2;</code>
       *
       * <pre>
       * Delta to submit.
       * </pre>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.Builder getDeltaBuilder() {
        bitField0_ |= 0x00000002;
        onChanged();
        return getDeltaFieldBuilder().getBuilder();
      }
      /**
       * <code>required .federation.ProtocolWaveletDelta delta = 2;</code>
       *
       * <pre>
       * Delta to submit.
       * </pre>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolWaveletDeltaOrBuilder getDeltaOrBuilder() {
        if (deltaBuilder_ != null) {
          return deltaBuilder_.getMessageOrBuilder();
        } else {
          return delta_;
        }
      }
      /**
       * <code>required .federation.ProtocolWaveletDelta delta = 2;</code>
       *
       * <pre>
       * Delta to submit.
       * </pre>
       */
      private com.google.protobuf.SingleFieldBuilder<
          org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta, org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.Builder, org.waveprotocol.wave.federation.Proto.ProtocolWaveletDeltaOrBuilder> 
          getDeltaFieldBuilder() {
        if (deltaBuilder_ == null) {
          deltaBuilder_ = new com.google.protobuf.SingleFieldBuilder<
              org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta, org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.Builder, org.waveprotocol.wave.federation.Proto.ProtocolWaveletDeltaOrBuilder>(
                  delta_,
                  getParentForChildren(),
                  isClean());
          delta_ = null;
        }
        return deltaBuilder_;
      }

      // @@protoc_insertion_point(builder_scope:clientserver.SubmitDeltaRequest)
    }

    static {
      defaultInstance = new SubmitDeltaRequest(true);
      defaultInstance.initFields();
    }

    // @@protoc_insertion_point(class_scope:clientserver.SubmitDeltaRequest)
  }

  public interface SubmitDeltaResponseOrBuilder
      extends com.google.protobuf.MessageOrBuilder {

    // required .clientserver.ResponseStatus status = 1;
    /**
     * <code>required .clientserver.ResponseStatus status = 1;</code>
     */
    boolean hasStatus();
    /**
     * <code>required .clientserver.ResponseStatus status = 1;</code>
     */
    org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus getStatus();
    /**
     * <code>required .clientserver.ResponseStatus status = 1;</code>
     */
    org.waveprotocol.wave.clientserver.ClientServer.ResponseStatusOrBuilder getStatusOrBuilder();

    // optional int32 operationsApplied = 2;
    /**
     * <code>optional int32 operationsApplied = 2;</code>
     *
     * <pre>
     * Number of ops applied from the delta.
     * </pre>
     */
    boolean hasOperationsApplied();
    /**
     * <code>optional int32 operationsApplied = 2;</code>
     *
     * <pre>
     * Number of ops applied from the delta.
     * </pre>
     */
    int getOperationsApplied();

    // optional .federation.ProtocolHashedVersion hashedVersionAfterApplication = 3;
    /**
     * <code>optional .federation.ProtocolHashedVersion hashedVersionAfterApplication = 3;</code>
     *
     * <pre>
     * Wavelet hashed version after the delta.
     * </pre>
     */
    boolean hasHashedVersionAfterApplication();
    /**
     * <code>optional .federation.ProtocolHashedVersion hashedVersionAfterApplication = 3;</code>
     *
     * <pre>
     * Wavelet hashed version after the delta.
     * </pre>
     */
    org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getHashedVersionAfterApplication();
    /**
     * <code>optional .federation.ProtocolHashedVersion hashedVersionAfterApplication = 3;</code>
     *
     * <pre>
     * Wavelet hashed version after the delta.
     * </pre>
     */
    org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder getHashedVersionAfterApplicationOrBuilder();

    // optional int64 timestampAfterApplication = 4;
    /**
     * <code>optional int64 timestampAfterApplication = 4;</code>
     *
     * <pre>
     * Timestamp of delta application.
     * </pre>
     */
    boolean hasTimestampAfterApplication();
    /**
     * <code>optional int64 timestampAfterApplication = 4;</code>
     *
     * <pre>
     * Timestamp of delta application.
     * </pre>
     */
    long getTimestampAfterApplication();
  }
  /**
   * Protobuf type {@code clientserver.SubmitDeltaResponse}
   */
  public static final class SubmitDeltaResponse extends
      com.google.protobuf.GeneratedMessage
      implements SubmitDeltaResponseOrBuilder {
    // Use SubmitDeltaResponse.newBuilder() to construct.
    private SubmitDeltaResponse(com.google.protobuf.GeneratedMessage.Builder<?> builder) {
      super(builder);
      this.unknownFields = builder.getUnknownFields();
    }
    private SubmitDeltaResponse(boolean noInit) { this.unknownFields = com.google.protobuf.UnknownFieldSet.getDefaultInstance(); }

    private static final SubmitDeltaResponse defaultInstance;
    public static SubmitDeltaResponse getDefaultInstance() {
      return defaultInstance;
    }

    public SubmitDeltaResponse getDefaultInstanceForType() {
      return defaultInstance;
    }

    private final com.google.protobuf.UnknownFieldSet unknownFields;
    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
        getUnknownFields() {
      return this.unknownFields;
    }
    private SubmitDeltaResponse(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      initFields();
      int mutable_bitField0_ = 0;
      com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder();
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!parseUnknownField(input, unknownFields,
                                     extensionRegistry, tag)) {
                done = true;
              }
              break;
            }
            case 10: {
              org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.Builder subBuilder = null;
              if (((bitField0_ & 0x00000001) == 0x00000001)) {
                subBuilder = status_.toBuilder();
              }
              status_ = input.readMessage(org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.PARSER, extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(status_);
                status_ = subBuilder.buildPartial();
              }
              bitField0_ |= 0x00000001;
              break;
            }
            case 16: {
              bitField0_ |= 0x00000002;
              operationsApplied_ = input.readInt32();
              break;
            }
            case 26: {
              org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder subBuilder = null;
              if (((bitField0_ & 0x00000004) == 0x00000004)) {
                subBuilder = hashedVersionAfterApplication_.toBuilder();
              }
              hashedVersionAfterApplication_ = input.readMessage(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.PARSER, extensionRegistry);
              if (subBuilder != null) {
                subBuilder.mergeFrom(hashedVersionAfterApplication_);
                hashedVersionAfterApplication_ = subBuilder.buildPartial();
              }
              bitField0_ |= 0x00000004;
              break;
            }
            case 32: {
              bitField0_ |= 0x00000008;
              timestampAfterApplication_ = input.readInt64();
              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e.getMessage()).setUnfinishedMessage(this);
      } finally {
        this.unknownFields = unknownFields.build();
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_SubmitDeltaResponse_descriptor;
    }

    protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_SubmitDeltaResponse_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse.class, org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse.Builder.class);
    }

    public static com.google.protobuf.Parser<SubmitDeltaResponse> PARSER =
        new com.google.protobuf.AbstractParser<SubmitDeltaResponse>() {
      public SubmitDeltaResponse parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return new SubmitDeltaResponse(input, extensionRegistry);
      }
    };

    @java.lang.Override
    public com.google.protobuf.Parser<SubmitDeltaResponse> getParserForType() {
      return PARSER;
    }

    private int bitField0_;
    // required .clientserver.ResponseStatus status = 1;
    public static final int STATUS_FIELD_NUMBER = 1;
    private org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus status_;
    /**
     * <code>required .clientserver.ResponseStatus status = 1;</code>
     */
    public boolean hasStatus() {
      return ((bitField0_ & 0x00000001) == 0x00000001);
    }
    /**
     * <code>required .clientserver.ResponseStatus status = 1;</code>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus getStatus() {
      return status_;
    }
    /**
     * <code>required .clientserver.ResponseStatus status = 1;</code>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.ResponseStatusOrBuilder getStatusOrBuilder() {
      return status_;
    }

    // optional int32 operationsApplied = 2;
    public static final int OPERATIONSAPPLIED_FIELD_NUMBER = 2;
    private int operationsApplied_;
    /**
     * <code>optional int32 operationsApplied = 2;</code>
     *
     * <pre>
     * Number of ops applied from the delta.
     * </pre>
     */
    public boolean hasOperationsApplied() {
      return ((bitField0_ & 0x00000002) == 0x00000002);
    }
    /**
     * <code>optional int32 operationsApplied = 2;</code>
     *
     * <pre>
     * Number of ops applied from the delta.
     * </pre>
     */
    public int getOperationsApplied() {
      return operationsApplied_;
    }

    // optional .federation.ProtocolHashedVersion hashedVersionAfterApplication = 3;
    public static final int HASHEDVERSIONAFTERAPPLICATION_FIELD_NUMBER = 3;
    private org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion hashedVersionAfterApplication_;
    /**
     * <code>optional .federation.ProtocolHashedVersion hashedVersionAfterApplication = 3;</code>
     *
     * <pre>
     * Wavelet hashed version after the delta.
     * </pre>
     */
    public boolean hasHashedVersionAfterApplication() {
      return ((bitField0_ & 0x00000004) == 0x00000004);
    }
    /**
     * <code>optional .federation.ProtocolHashedVersion hashedVersionAfterApplication = 3;</code>
     *
     * <pre>
     * Wavelet hashed version after the delta.
     * </pre>
     */
    public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getHashedVersionAfterApplication() {
      return hashedVersionAfterApplication_;
    }
    /**
     * <code>optional .federation.ProtocolHashedVersion hashedVersionAfterApplication = 3;</code>
     *
     * <pre>
     * Wavelet hashed version after the delta.
     * </pre>
     */
    public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder getHashedVersionAfterApplicationOrBuilder() {
      return hashedVersionAfterApplication_;
    }

    // optional int64 timestampAfterApplication = 4;
    public static final int TIMESTAMPAFTERAPPLICATION_FIELD_NUMBER = 4;
    private long timestampAfterApplication_;
    /**
     * <code>optional int64 timestampAfterApplication = 4;</code>
     *
     * <pre>
     * Timestamp of delta application.
     * </pre>
     */
    public boolean hasTimestampAfterApplication() {
      return ((bitField0_ & 0x00000008) == 0x00000008);
    }
    /**
     * <code>optional int64 timestampAfterApplication = 4;</code>
     *
     * <pre>
     * Timestamp of delta application.
     * </pre>
     */
    public long getTimestampAfterApplication() {
      return timestampAfterApplication_;
    }

    private void initFields() {
      status_ = org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.getDefaultInstance();
      operationsApplied_ = 0;
      hashedVersionAfterApplication_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
      timestampAfterApplication_ = 0L;
    }
    private byte memoizedIsInitialized = -1;
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized != -1) return isInitialized == 1;

      if (!hasStatus()) {
        memoizedIsInitialized = 0;
        return false;
      }
      if (!getStatus().isInitialized()) {
        memoizedIsInitialized = 0;
        return false;
      }
      if (hasHashedVersionAfterApplication()) {
        if (!getHashedVersionAfterApplication().isInitialized()) {
          memoizedIsInitialized = 0;
          return false;
        }
      }
      memoizedIsInitialized = 1;
      return true;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        output.writeMessage(1, status_);
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        output.writeInt32(2, operationsApplied_);
      }
      if (((bitField0_ & 0x00000004) == 0x00000004)) {
        output.writeMessage(3, hashedVersionAfterApplication_);
      }
      if (((bitField0_ & 0x00000008) == 0x00000008)) {
        output.writeInt64(4, timestampAfterApplication_);
      }
      getUnknownFields().writeTo(output);
    }

    private int memoizedSerializedSize = -1;
    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;

      size = 0;
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(1, status_);
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt32Size(2, operationsApplied_);
      }
      if (((bitField0_ & 0x00000004) == 0x00000004)) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(3, hashedVersionAfterApplication_);
      }
      if (((bitField0_ & 0x00000008) == 0x00000008)) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt64Size(4, timestampAfterApplication_);
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }

    private static final long serialVersionUID = 0L;
    @java.lang.Override
    protected java.lang.Object writeReplace()
        throws java.io.ObjectStreamException {
      return super.writeReplace();
    }

    public static org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }

    public static Builder newBuilder() { return Builder.create(); }
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder(org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse prototype) {
      return newBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() { return newBuilder(this); }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessage.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * Protobuf type {@code clientserver.SubmitDeltaResponse}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessage.Builder<Builder>
       implements org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponseOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_SubmitDeltaResponse_descriptor;
      }

      protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_SubmitDeltaResponse_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse.class, org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse.Builder.class);
      }

      // Construct using org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessage.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders) {
          getStatusFieldBuilder();
          getHashedVersionAfterApplicationFieldBuilder();
        }
      }
      private static Builder create() {
        return new Builder();
      }

      public Builder clear() {
        super.clear();
        if (statusBuilder_ == null) {
          status_ = org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.getDefaultInstance();
        } else {
          statusBuilder_.clear();
        }
        bitField0_ = (bitField0_ & ~0x00000001);
        operationsApplied_ = 0;
        bitField0_ = (bitField0_ & ~0x00000002);
        if (hashedVersionAfterApplicationBuilder_ == null) {
          hashedVersionAfterApplication_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
        } else {
          hashedVersionAfterApplicationBuilder_.clear();
        }
        bitField0_ = (bitField0_ & ~0x00000004);
        timestampAfterApplication_ = 0L;
        bitField0_ = (bitField0_ & ~0x00000008);
        return this;
      }

      public Builder clone() {
        return create().mergeFrom(buildPartial());
      }

      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_SubmitDeltaResponse_descriptor;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse getDefaultInstanceForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse.getDefaultInstance();
      }

      public org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse build() {
        org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse buildPartial() {
        org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse result = new org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse(this);
        int from_bitField0_ = bitField0_;
        int to_bitField0_ = 0;
        if (((from_bitField0_ & 0x00000001) == 0x00000001)) {
          to_bitField0_ |= 0x00000001;
        }
        if (statusBuilder_ == null) {
          result.status_ = status_;
        } else {
          result.status_ = statusBuilder_.build();
        }
        if (((from_bitField0_ & 0x00000002) == 0x00000002)) {
          to_bitField0_ |= 0x00000002;
        }
        result.operationsApplied_ = operationsApplied_;
        if (((from_bitField0_ & 0x00000004) == 0x00000004)) {
          to_bitField0_ |= 0x00000004;
        }
        if (hashedVersionAfterApplicationBuilder_ == null) {
          result.hashedVersionAfterApplication_ = hashedVersionAfterApplication_;
        } else {
          result.hashedVersionAfterApplication_ = hashedVersionAfterApplicationBuilder_.build();
        }
        if (((from_bitField0_ & 0x00000008) == 0x00000008)) {
          to_bitField0_ |= 0x00000008;
        }
        result.timestampAfterApplication_ = timestampAfterApplication_;
        result.bitField0_ = to_bitField0_;
        onBuilt();
        return result;
      }

      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse) {
          return mergeFrom((org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse other) {
        if (other == org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse.getDefaultInstance()) return this;
        if (other.hasStatus()) {
          mergeStatus(other.getStatus());
        }
        if (other.hasOperationsApplied()) {
          setOperationsApplied(other.getOperationsApplied());
        }
        if (other.hasHashedVersionAfterApplication()) {
          mergeHashedVersionAfterApplication(other.getHashedVersionAfterApplication());
        }
        if (other.hasTimestampAfterApplication()) {
          setTimestampAfterApplication(other.getTimestampAfterApplication());
        }
        this.mergeUnknownFields(other.getUnknownFields());
        return this;
      }

      public final boolean isInitialized() {
        if (!hasStatus()) {
          
          return false;
        }
        if (!getStatus().isInitialized()) {
          
          return false;
        }
        if (hasHashedVersionAfterApplication()) {
          if (!getHashedVersionAfterApplication().isInitialized()) {
            
            return false;
          }
        }
        return true;
      }

      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse) e.getUnfinishedMessage();
          throw e;
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }
      private int bitField0_;

      // required .clientserver.ResponseStatus status = 1;
      private org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus status_ = org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.getDefaultInstance();
      private com.google.protobuf.SingleFieldBuilder<
          org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus, org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.Builder, org.waveprotocol.wave.clientserver.ClientServer.ResponseStatusOrBuilder> statusBuilder_;
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public boolean hasStatus() {
        return ((bitField0_ & 0x00000001) == 0x00000001);
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus getStatus() {
        if (statusBuilder_ == null) {
          return status_;
        } else {
          return statusBuilder_.getMessage();
        }
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public Builder setStatus(org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus value) {
        if (statusBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          status_ = value;
          onChanged();
        } else {
          statusBuilder_.setMessage(value);
        }
        bitField0_ |= 0x00000001;
        return this;
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public Builder setStatus(
          org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.Builder builderForValue) {
        if (statusBuilder_ == null) {
          status_ = builderForValue.build();
          onChanged();
        } else {
          statusBuilder_.setMessage(builderForValue.build());
        }
        bitField0_ |= 0x00000001;
        return this;
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public Builder mergeStatus(org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus value) {
        if (statusBuilder_ == null) {
          if (((bitField0_ & 0x00000001) == 0x00000001) &&
              status_ != org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.getDefaultInstance()) {
            status_ =
              org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.newBuilder(status_).mergeFrom(value).buildPartial();
          } else {
            status_ = value;
          }
          onChanged();
        } else {
          statusBuilder_.mergeFrom(value);
        }
        bitField0_ |= 0x00000001;
        return this;
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public Builder clearStatus() {
        if (statusBuilder_ == null) {
          status_ = org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.getDefaultInstance();
          onChanged();
        } else {
          statusBuilder_.clear();
        }
        bitField0_ = (bitField0_ & ~0x00000001);
        return this;
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.Builder getStatusBuilder() {
        bitField0_ |= 0x00000001;
        onChanged();
        return getStatusFieldBuilder().getBuilder();
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.ResponseStatusOrBuilder getStatusOrBuilder() {
        if (statusBuilder_ != null) {
          return statusBuilder_.getMessageOrBuilder();
        } else {
          return status_;
        }
      }
      /**
       * <code>required .clientserver.ResponseStatus status = 1;</code>
       */
      private com.google.protobuf.SingleFieldBuilder<
          org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus, org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.Builder, org.waveprotocol.wave.clientserver.ClientServer.ResponseStatusOrBuilder> 
          getStatusFieldBuilder() {
        if (statusBuilder_ == null) {
          statusBuilder_ = new com.google.protobuf.SingleFieldBuilder<
              org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus, org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.Builder, org.waveprotocol.wave.clientserver.ClientServer.ResponseStatusOrBuilder>(
                  status_,
                  getParentForChildren(),
                  isClean());
          status_ = null;
        }
        return statusBuilder_;
      }

      // optional int32 operationsApplied = 2;
      private int operationsApplied_ ;
      /**
       * <code>optional int32 operationsApplied = 2;</code>
       *
       * <pre>
       * Number of ops applied from the delta.
       * </pre>
       */
      public boolean hasOperationsApplied() {
        return ((bitField0_ & 0x00000002) == 0x00000002);
      }
      /**
       * <code>optional int32 operationsApplied = 2;</code>
       *
       * <pre>
       * Number of ops applied from the delta.
       * </pre>
       */
      public int getOperationsApplied() {
        return operationsApplied_;
      }
      /**
       * <code>optional int32 operationsApplied = 2;</code>
       *
       * <pre>
       * Number of ops applied from the delta.
       * </pre>
       */
      public Builder setOperationsApplied(int value) {
        bitField0_ |= 0x00000002;
        operationsApplied_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>optional int32 operationsApplied = 2;</code>
       *
       * <pre>
       * Number of ops applied from the delta.
       * </pre>
       */
      public Builder clearOperationsApplied() {
        bitField0_ = (bitField0_ & ~0x00000002);
        operationsApplied_ = 0;
        onChanged();
        return this;
      }

      // optional .federation.ProtocolHashedVersion hashedVersionAfterApplication = 3;
      private org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion hashedVersionAfterApplication_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
      private com.google.protobuf.SingleFieldBuilder<
          org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder> hashedVersionAfterApplicationBuilder_;
      /**
       * <code>optional .federation.ProtocolHashedVersion hashedVersionAfterApplication = 3;</code>
       *
       * <pre>
       * Wavelet hashed version after the delta.
       * </pre>
       */
      public boolean hasHashedVersionAfterApplication() {
        return ((bitField0_ & 0x00000004) == 0x00000004);
      }
      /**
       * <code>optional .federation.ProtocolHashedVersion hashedVersionAfterApplication = 3;</code>
       *
       * <pre>
       * Wavelet hashed version after the delta.
       * </pre>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getHashedVersionAfterApplication() {
        if (hashedVersionAfterApplicationBuilder_ == null) {
          return hashedVersionAfterApplication_;
        } else {
          return hashedVersionAfterApplicationBuilder_.getMessage();
        }
      }
      /**
       * <code>optional .federation.ProtocolHashedVersion hashedVersionAfterApplication = 3;</code>
       *
       * <pre>
       * Wavelet hashed version after the delta.
       * </pre>
       */
      public Builder setHashedVersionAfterApplication(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion value) {
        if (hashedVersionAfterApplicationBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          hashedVersionAfterApplication_ = value;
          onChanged();
        } else {
          hashedVersionAfterApplicationBuilder_.setMessage(value);
        }
        bitField0_ |= 0x00000004;
        return this;
      }
      /**
       * <code>optional .federation.ProtocolHashedVersion hashedVersionAfterApplication = 3;</code>
       *
       * <pre>
       * Wavelet hashed version after the delta.
       * </pre>
       */
      public Builder setHashedVersionAfterApplication(
          org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder builderForValue) {
        if (hashedVersionAfterApplicationBuilder_ == null) {
          hashedVersionAfterApplication_ = builderForValue.build();
          onChanged();
        } else {
          hashedVersionAfterApplicationBuilder_.setMessage(builderForValue.build());
        }
        bitField0_ |= 0x00000004;
        return this;
      }
      /**
       * <code>optional .federation.ProtocolHashedVersion hashedVersionAfterApplication = 3;</code>
       *
       * <pre>
       * Wavelet hashed version after the delta.
       * </pre>
       */
      public Builder mergeHashedVersionAfterApplication(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion value) {
        if (hashedVersionAfterApplicationBuilder_ == null) {
          if (((bitField0_ & 0x00000004) == 0x00000004) &&
              hashedVersionAfterApplication_ != org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance()) {
            hashedVersionAfterApplication_ =
              org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.newBuilder(hashedVersionAfterApplication_).mergeFrom(value).buildPartial();
          } else {
            hashedVersionAfterApplication_ = value;
          }
          onChanged();
        } else {
          hashedVersionAfterApplicationBuilder_.mergeFrom(value);
        }
        bitField0_ |= 0x00000004;
        return this;
      }
      /**
       * <code>optional .federation.ProtocolHashedVersion hashedVersionAfterApplication = 3;</code>
       *
       * <pre>
       * Wavelet hashed version after the delta.
       * </pre>
       */
      public Builder clearHashedVersionAfterApplication() {
        if (hashedVersionAfterApplicationBuilder_ == null) {
          hashedVersionAfterApplication_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
          onChanged();
        } else {
          hashedVersionAfterApplicationBuilder_.clear();
        }
        bitField0_ = (bitField0_ & ~0x00000004);
        return this;
      }
      /**
       * <code>optional .federation.ProtocolHashedVersion hashedVersionAfterApplication = 3;</code>
       *
       * <pre>
       * Wavelet hashed version after the delta.
       * </pre>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder getHashedVersionAfterApplicationBuilder() {
        bitField0_ |= 0x00000004;
        onChanged();
        return getHashedVersionAfterApplicationFieldBuilder().getBuilder();
      }
      /**
       * <code>optional .federation.ProtocolHashedVersion hashedVersionAfterApplication = 3;</code>
       *
       * <pre>
       * Wavelet hashed version after the delta.
       * </pre>
       */
      public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder getHashedVersionAfterApplicationOrBuilder() {
        if (hashedVersionAfterApplicationBuilder_ != null) {
          return hashedVersionAfterApplicationBuilder_.getMessageOrBuilder();
        } else {
          return hashedVersionAfterApplication_;
        }
      }
      /**
       * <code>optional .federation.ProtocolHashedVersion hashedVersionAfterApplication = 3;</code>
       *
       * <pre>
       * Wavelet hashed version after the delta.
       * </pre>
       */
      private com.google.protobuf.SingleFieldBuilder<
          org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder> 
          getHashedVersionAfterApplicationFieldBuilder() {
        if (hashedVersionAfterApplicationBuilder_ == null) {
          hashedVersionAfterApplicationBuilder_ = new com.google.protobuf.SingleFieldBuilder<
              org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder, org.waveprotocol.wave.federation.Proto.ProtocolHashedVersionOrBuilder>(
                  hashedVersionAfterApplication_,
                  getParentForChildren(),
                  isClean());
          hashedVersionAfterApplication_ = null;
        }
        return hashedVersionAfterApplicationBuilder_;
      }

      // optional int64 timestampAfterApplication = 4;
      private long timestampAfterApplication_ ;
      /**
       * <code>optional int64 timestampAfterApplication = 4;</code>
       *
       * <pre>
       * Timestamp of delta application.
       * </pre>
       */
      public boolean hasTimestampAfterApplication() {
        return ((bitField0_ & 0x00000008) == 0x00000008);
      }
      /**
       * <code>optional int64 timestampAfterApplication = 4;</code>
       *
       * <pre>
       * Timestamp of delta application.
       * </pre>
       */
      public long getTimestampAfterApplication() {
        return timestampAfterApplication_;
      }
      /**
       * <code>optional int64 timestampAfterApplication = 4;</code>
       *
       * <pre>
       * Timestamp of delta application.
       * </pre>
       */
      public Builder setTimestampAfterApplication(long value) {
        bitField0_ |= 0x00000008;
        timestampAfterApplication_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>optional int64 timestampAfterApplication = 4;</code>
       *
       * <pre>
       * Timestamp of delta application.
       * </pre>
       */
      public Builder clearTimestampAfterApplication() {
        bitField0_ = (bitField0_ & ~0x00000008);
        timestampAfterApplication_ = 0L;
        onChanged();
        return this;
      }

      // @@protoc_insertion_point(builder_scope:clientserver.SubmitDeltaResponse)
    }

    static {
      defaultInstance = new SubmitDeltaResponse(true);
      defaultInstance.initFields();
    }

    // @@protoc_insertion_point(class_scope:clientserver.SubmitDeltaResponse)
  }

  public interface TransportAuthenticationRequestOrBuilder
      extends com.google.protobuf.MessageOrBuilder {

    // required string token = 1;
    /**
     * <code>required string token = 1;</code>
     *
     * <pre>
     * Authentication token.
     * </pre>
     */
    boolean hasToken();
    /**
     * <code>required string token = 1;</code>
     *
     * <pre>
     * Authentication token.
     * </pre>
     */
    java.lang.String getToken();
    /**
     * <code>required string token = 1;</code>
     *
     * <pre>
     * Authentication token.
     * </pre>
     */
    com.google.protobuf.ByteString
        getTokenBytes();
  }
  /**
   * Protobuf type {@code clientserver.TransportAuthenticationRequest}
   */
  public static final class TransportAuthenticationRequest extends
      com.google.protobuf.GeneratedMessage
      implements TransportAuthenticationRequestOrBuilder {
    // Use TransportAuthenticationRequest.newBuilder() to construct.
    private TransportAuthenticationRequest(com.google.protobuf.GeneratedMessage.Builder<?> builder) {
      super(builder);
      this.unknownFields = builder.getUnknownFields();
    }
    private TransportAuthenticationRequest(boolean noInit) { this.unknownFields = com.google.protobuf.UnknownFieldSet.getDefaultInstance(); }

    private static final TransportAuthenticationRequest defaultInstance;
    public static TransportAuthenticationRequest getDefaultInstance() {
      return defaultInstance;
    }

    public TransportAuthenticationRequest getDefaultInstanceForType() {
      return defaultInstance;
    }

    private final com.google.protobuf.UnknownFieldSet unknownFields;
    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
        getUnknownFields() {
      return this.unknownFields;
    }
    private TransportAuthenticationRequest(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      initFields();
      int mutable_bitField0_ = 0;
      com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder();
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!parseUnknownField(input, unknownFields,
                                     extensionRegistry, tag)) {
                done = true;
              }
              break;
            }
            case 10: {
              bitField0_ |= 0x00000001;
              token_ = input.readBytes();
              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e.getMessage()).setUnfinishedMessage(this);
      } finally {
        this.unknownFields = unknownFields.build();
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_TransportAuthenticationRequest_descriptor;
    }

    protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_TransportAuthenticationRequest_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest.class, org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest.Builder.class);
    }

    public static com.google.protobuf.Parser<TransportAuthenticationRequest> PARSER =
        new com.google.protobuf.AbstractParser<TransportAuthenticationRequest>() {
      public TransportAuthenticationRequest parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return new TransportAuthenticationRequest(input, extensionRegistry);
      }
    };

    @java.lang.Override
    public com.google.protobuf.Parser<TransportAuthenticationRequest> getParserForType() {
      return PARSER;
    }

    private int bitField0_;
    // required string token = 1;
    public static final int TOKEN_FIELD_NUMBER = 1;
    private java.lang.Object token_;
    /**
     * <code>required string token = 1;</code>
     *
     * <pre>
     * Authentication token.
     * </pre>
     */
    public boolean hasToken() {
      return ((bitField0_ & 0x00000001) == 0x00000001);
    }
    /**
     * <code>required string token = 1;</code>
     *
     * <pre>
     * Authentication token.
     * </pre>
     */
    public java.lang.String getToken() {
      java.lang.Object ref = token_;
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        if (bs.isValidUtf8()) {
          token_ = s;
        }
        return s;
      }
    }
    /**
     * <code>required string token = 1;</code>
     *
     * <pre>
     * Authentication token.
     * </pre>
     */
    public com.google.protobuf.ByteString
        getTokenBytes() {
      java.lang.Object ref = token_;
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        token_ = b;
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    private void initFields() {
      token_ = "";
    }
    private byte memoizedIsInitialized = -1;
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized != -1) return isInitialized == 1;

      if (!hasToken()) {
        memoizedIsInitialized = 0;
        return false;
      }
      memoizedIsInitialized = 1;
      return true;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        output.writeBytes(1, getTokenBytes());
      }
      getUnknownFields().writeTo(output);
    }

    private int memoizedSerializedSize = -1;
    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;

      size = 0;
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(1, getTokenBytes());
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }

    private static final long serialVersionUID = 0L;
    @java.lang.Override
    protected java.lang.Object writeReplace()
        throws java.io.ObjectStreamException {
      return super.writeReplace();
    }

    public static org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }

    public static Builder newBuilder() { return Builder.create(); }
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder(org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest prototype) {
      return newBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() { return newBuilder(this); }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessage.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * Protobuf type {@code clientserver.TransportAuthenticationRequest}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessage.Builder<Builder>
       implements org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequestOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_TransportAuthenticationRequest_descriptor;
      }

      protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_TransportAuthenticationRequest_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest.class, org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest.Builder.class);
      }

      // Construct using org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessage.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders) {
        }
      }
      private static Builder create() {
        return new Builder();
      }

      public Builder clear() {
        super.clear();
        token_ = "";
        bitField0_ = (bitField0_ & ~0x00000001);
        return this;
      }

      public Builder clone() {
        return create().mergeFrom(buildPartial());
      }

      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_TransportAuthenticationRequest_descriptor;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest getDefaultInstanceForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest.getDefaultInstance();
      }

      public org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest build() {
        org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest buildPartial() {
        org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest result = new org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest(this);
        int from_bitField0_ = bitField0_;
        int to_bitField0_ = 0;
        if (((from_bitField0_ & 0x00000001) == 0x00000001)) {
          to_bitField0_ |= 0x00000001;
        }
        result.token_ = token_;
        result.bitField0_ = to_bitField0_;
        onBuilt();
        return result;
      }

      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest) {
          return mergeFrom((org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest other) {
        if (other == org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest.getDefaultInstance()) return this;
        if (other.hasToken()) {
          bitField0_ |= 0x00000001;
          token_ = other.token_;
          onChanged();
        }
        this.mergeUnknownFields(other.getUnknownFields());
        return this;
      }

      public final boolean isInitialized() {
        if (!hasToken()) {
          
          return false;
        }
        return true;
      }

      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest) e.getUnfinishedMessage();
          throw e;
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }
      private int bitField0_;

      // required string token = 1;
      private java.lang.Object token_ = "";
      /**
       * <code>required string token = 1;</code>
       *
       * <pre>
       * Authentication token.
       * </pre>
       */
      public boolean hasToken() {
        return ((bitField0_ & 0x00000001) == 0x00000001);
      }
      /**
       * <code>required string token = 1;</code>
       *
       * <pre>
       * Authentication token.
       * </pre>
       */
      public java.lang.String getToken() {
        java.lang.Object ref = token_;
        if (!(ref instanceof java.lang.String)) {
          java.lang.String s = ((com.google.protobuf.ByteString) ref)
              .toStringUtf8();
          token_ = s;
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <code>required string token = 1;</code>
       *
       * <pre>
       * Authentication token.
       * </pre>
       */
      public com.google.protobuf.ByteString
          getTokenBytes() {
        java.lang.Object ref = token_;
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          token_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <code>required string token = 1;</code>
       *
       * <pre>
       * Authentication token.
       * </pre>
       */
      public Builder setToken(
          java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
        token_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>required string token = 1;</code>
       *
       * <pre>
       * Authentication token.
       * </pre>
       */
      public Builder clearToken() {
        bitField0_ = (bitField0_ & ~0x00000001);
        token_ = getDefaultInstance().getToken();
        onChanged();
        return this;
      }
      /**
       * <code>required string token = 1;</code>
       *
       * <pre>
       * Authentication token.
       * </pre>
       */
      public Builder setTokenBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000001;
        token_ = value;
        onChanged();
        return this;
      }

      // @@protoc_insertion_point(builder_scope:clientserver.TransportAuthenticationRequest)
    }

    static {
      defaultInstance = new TransportAuthenticationRequest(true);
      defaultInstance.initFields();
    }

    // @@protoc_insertion_point(class_scope:clientserver.TransportAuthenticationRequest)
  }

  public interface EmptyResponseOrBuilder
      extends com.google.protobuf.MessageOrBuilder {
  }
  /**
   * Protobuf type {@code clientserver.EmptyResponse}
   *
   * <pre>
   ** An empty message for services which have no application-level result. 
   * </pre>
   */
  public static final class EmptyResponse extends
      com.google.protobuf.GeneratedMessage
      implements EmptyResponseOrBuilder {
    // Use EmptyResponse.newBuilder() to construct.
    private EmptyResponse(com.google.protobuf.GeneratedMessage.Builder<?> builder) {
      super(builder);
      this.unknownFields = builder.getUnknownFields();
    }
    private EmptyResponse(boolean noInit) { this.unknownFields = com.google.protobuf.UnknownFieldSet.getDefaultInstance(); }

    private static final EmptyResponse defaultInstance;
    public static EmptyResponse getDefaultInstance() {
      return defaultInstance;
    }

    public EmptyResponse getDefaultInstanceForType() {
      return defaultInstance;
    }

    private final com.google.protobuf.UnknownFieldSet unknownFields;
    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
        getUnknownFields() {
      return this.unknownFields;
    }
    private EmptyResponse(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      initFields();
      com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder();
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!parseUnknownField(input, unknownFields,
                                     extensionRegistry, tag)) {
                done = true;
              }
              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e.getMessage()).setUnfinishedMessage(this);
      } finally {
        this.unknownFields = unknownFields.build();
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_EmptyResponse_descriptor;
    }

    protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_EmptyResponse_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse.class, org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse.Builder.class);
    }

    public static com.google.protobuf.Parser<EmptyResponse> PARSER =
        new com.google.protobuf.AbstractParser<EmptyResponse>() {
      public EmptyResponse parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return new EmptyResponse(input, extensionRegistry);
      }
    };

    @java.lang.Override
    public com.google.protobuf.Parser<EmptyResponse> getParserForType() {
      return PARSER;
    }

    private void initFields() {
    }
    private byte memoizedIsInitialized = -1;
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized != -1) return isInitialized == 1;

      memoizedIsInitialized = 1;
      return true;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      getUnknownFields().writeTo(output);
    }

    private int memoizedSerializedSize = -1;
    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;

      size = 0;
      size += getUnknownFields().getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }

    private static final long serialVersionUID = 0L;
    @java.lang.Override
    protected java.lang.Object writeReplace()
        throws java.io.ObjectStreamException {
      return super.writeReplace();
    }

    public static org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }

    public static Builder newBuilder() { return Builder.create(); }
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder(org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse prototype) {
      return newBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() { return newBuilder(this); }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessage.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * Protobuf type {@code clientserver.EmptyResponse}
     *
     * <pre>
     ** An empty message for services which have no application-level result. 
     * </pre>
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessage.Builder<Builder>
       implements org.waveprotocol.wave.clientserver.ClientServer.EmptyResponseOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_EmptyResponse_descriptor;
      }

      protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_EmptyResponse_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse.class, org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse.Builder.class);
      }

      // Construct using org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessage.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders) {
        }
      }
      private static Builder create() {
        return new Builder();
      }

      public Builder clear() {
        super.clear();
        return this;
      }

      public Builder clone() {
        return create().mergeFrom(buildPartial());
      }

      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_EmptyResponse_descriptor;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse getDefaultInstanceForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse.getDefaultInstance();
      }

      public org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse build() {
        org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse buildPartial() {
        org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse result = new org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse(this);
        onBuilt();
        return result;
      }

      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse) {
          return mergeFrom((org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse other) {
        if (other == org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse.getDefaultInstance()) return this;
        this.mergeUnknownFields(other.getUnknownFields());
        return this;
      }

      public final boolean isInitialized() {
        return true;
      }

      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse) e.getUnfinishedMessage();
          throw e;
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }

      // @@protoc_insertion_point(builder_scope:clientserver.EmptyResponse)
    }

    static {
      defaultInstance = new EmptyResponse(true);
      defaultInstance.initFields();
    }

    // @@protoc_insertion_point(class_scope:clientserver.EmptyResponse)
  }

  public interface DisconnectRequestOrBuilder
      extends com.google.protobuf.MessageOrBuilder {
  }
  /**
   * Protobuf type {@code clientserver.DisconnectRequest}
   */
  public static final class DisconnectRequest extends
      com.google.protobuf.GeneratedMessage
      implements DisconnectRequestOrBuilder {
    // Use DisconnectRequest.newBuilder() to construct.
    private DisconnectRequest(com.google.protobuf.GeneratedMessage.Builder<?> builder) {
      super(builder);
      this.unknownFields = builder.getUnknownFields();
    }
    private DisconnectRequest(boolean noInit) { this.unknownFields = com.google.protobuf.UnknownFieldSet.getDefaultInstance(); }

    private static final DisconnectRequest defaultInstance;
    public static DisconnectRequest getDefaultInstance() {
      return defaultInstance;
    }

    public DisconnectRequest getDefaultInstanceForType() {
      return defaultInstance;
    }

    private final com.google.protobuf.UnknownFieldSet unknownFields;
    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
        getUnknownFields() {
      return this.unknownFields;
    }
    private DisconnectRequest(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      initFields();
      com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder();
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!parseUnknownField(input, unknownFields,
                                     extensionRegistry, tag)) {
                done = true;
              }
              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e.getMessage()).setUnfinishedMessage(this);
      } finally {
        this.unknownFields = unknownFields.build();
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_DisconnectRequest_descriptor;
    }

    protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_DisconnectRequest_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest.class, org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest.Builder.class);
    }

    public static com.google.protobuf.Parser<DisconnectRequest> PARSER =
        new com.google.protobuf.AbstractParser<DisconnectRequest>() {
      public DisconnectRequest parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return new DisconnectRequest(input, extensionRegistry);
      }
    };

    @java.lang.Override
    public com.google.protobuf.Parser<DisconnectRequest> getParserForType() {
      return PARSER;
    }

    private void initFields() {
    }
    private byte memoizedIsInitialized = -1;
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized != -1) return isInitialized == 1;

      memoizedIsInitialized = 1;
      return true;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      getUnknownFields().writeTo(output);
    }

    private int memoizedSerializedSize = -1;
    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;

      size = 0;
      size += getUnknownFields().getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }

    private static final long serialVersionUID = 0L;
    @java.lang.Override
    protected java.lang.Object writeReplace()
        throws java.io.ObjectStreamException {
      return super.writeReplace();
    }

    public static org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }

    public static Builder newBuilder() { return Builder.create(); }
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder(org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest prototype) {
      return newBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() { return newBuilder(this); }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessage.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * Protobuf type {@code clientserver.DisconnectRequest}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessage.Builder<Builder>
       implements org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequestOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_DisconnectRequest_descriptor;
      }

      protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_DisconnectRequest_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest.class, org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest.Builder.class);
      }

      // Construct using org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessage.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders) {
        }
      }
      private static Builder create() {
        return new Builder();
      }

      public Builder clear() {
        super.clear();
        return this;
      }

      public Builder clone() {
        return create().mergeFrom(buildPartial());
      }

      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_DisconnectRequest_descriptor;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest getDefaultInstanceForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest.getDefaultInstance();
      }

      public org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest build() {
        org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest buildPartial() {
        org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest result = new org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest(this);
        onBuilt();
        return result;
      }

      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest) {
          return mergeFrom((org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest other) {
        if (other == org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest.getDefaultInstance()) return this;
        this.mergeUnknownFields(other.getUnknownFields());
        return this;
      }

      public final boolean isInitialized() {
        return true;
      }

      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest) e.getUnfinishedMessage();
          throw e;
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }

      // @@protoc_insertion_point(builder_scope:clientserver.DisconnectRequest)
    }

    static {
      defaultInstance = new DisconnectRequest(true);
      defaultInstance.initFields();
    }

    // @@protoc_insertion_point(class_scope:clientserver.DisconnectRequest)
  }

  public interface ResponseStatusOrBuilder
      extends com.google.protobuf.MessageOrBuilder {

    // required .clientserver.ResponseStatus.ResponseCode code = 1;
    /**
     * <code>required .clientserver.ResponseStatus.ResponseCode code = 1;</code>
     */
    boolean hasCode();
    /**
     * <code>required .clientserver.ResponseStatus.ResponseCode code = 1;</code>
     */
    org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.ResponseCode getCode();

    // optional string failureReason = 2;
    /**
     * <code>optional string failureReason = 2;</code>
     *
     * <pre>
     * Reason must be provided if status != OK.
     * </pre>
     */
    boolean hasFailureReason();
    /**
     * <code>optional string failureReason = 2;</code>
     *
     * <pre>
     * Reason must be provided if status != OK.
     * </pre>
     */
    java.lang.String getFailureReason();
    /**
     * <code>optional string failureReason = 2;</code>
     *
     * <pre>
     * Reason must be provided if status != OK.
     * </pre>
     */
    com.google.protobuf.ByteString
        getFailureReasonBytes();
  }
  /**
   * Protobuf type {@code clientserver.ResponseStatus}
   *
   * <pre>
   ** Response status for all services 
   * </pre>
   */
  public static final class ResponseStatus extends
      com.google.protobuf.GeneratedMessage
      implements ResponseStatusOrBuilder {
    // Use ResponseStatus.newBuilder() to construct.
    private ResponseStatus(com.google.protobuf.GeneratedMessage.Builder<?> builder) {
      super(builder);
      this.unknownFields = builder.getUnknownFields();
    }
    private ResponseStatus(boolean noInit) { this.unknownFields = com.google.protobuf.UnknownFieldSet.getDefaultInstance(); }

    private static final ResponseStatus defaultInstance;
    public static ResponseStatus getDefaultInstance() {
      return defaultInstance;
    }

    public ResponseStatus getDefaultInstanceForType() {
      return defaultInstance;
    }

    private final com.google.protobuf.UnknownFieldSet unknownFields;
    @java.lang.Override
    public final com.google.protobuf.UnknownFieldSet
        getUnknownFields() {
      return this.unknownFields;
    }
    private ResponseStatus(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      initFields();
      int mutable_bitField0_ = 0;
      com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder();
      try {
        boolean done = false;
        while (!done) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              done = true;
              break;
            default: {
              if (!parseUnknownField(input, unknownFields,
                                     extensionRegistry, tag)) {
                done = true;
              }
              break;
            }
            case 8: {
              int rawValue = input.readEnum();
              org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.ResponseCode value = org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.ResponseCode.valueOf(rawValue);
              if (value == null) {
                unknownFields.mergeVarintField(1, rawValue);
              } else {
                bitField0_ |= 0x00000001;
                code_ = value;
              }
              break;
            }
            case 18: {
              bitField0_ |= 0x00000002;
              failureReason_ = input.readBytes();
              break;
            }
          }
        }
      } catch (com.google.protobuf.InvalidProtocolBufferException e) {
        throw e.setUnfinishedMessage(this);
      } catch (java.io.IOException e) {
        throw new com.google.protobuf.InvalidProtocolBufferException(
            e.getMessage()).setUnfinishedMessage(this);
      } finally {
        this.unknownFields = unknownFields.build();
        makeExtensionsImmutable();
      }
    }
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_ResponseStatus_descriptor;
    }

    protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_ResponseStatus_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.class, org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.Builder.class);
    }

    public static com.google.protobuf.Parser<ResponseStatus> PARSER =
        new com.google.protobuf.AbstractParser<ResponseStatus>() {
      public ResponseStatus parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return new ResponseStatus(input, extensionRegistry);
      }
    };

    @java.lang.Override
    public com.google.protobuf.Parser<ResponseStatus> getParserForType() {
      return PARSER;
    }

    /**
     * Protobuf enum {@code clientserver.ResponseStatus.ResponseCode}
     */
    public enum ResponseCode
        implements com.google.protobuf.ProtocolMessageEnum {
      /**
       * <code>OK = 0;</code>
       *
       * <pre>
       * All good.
       * </pre>
       */
      OK(0, 0),
      /**
       * <code>BAD_REQUEST = 1;</code>
       *
       * <pre>
       * Request was ill-formed.
       * </pre>
       */
      BAD_REQUEST(1, 1),
      /**
       * <code>INTERNAL_ERROR = 2;</code>
       *
       * <pre>
       * An unspecified internal error occurred.
       * </pre>
       */
      INTERNAL_ERROR(2, 2),
      /**
       * <code>NOT_AUTHORIZED = 3;</code>
       *
       * <pre>
       * The request was not authorized.
       * </pre>
       */
      NOT_AUTHORIZED(3, 3),
      /**
       * <code>VERSION_ERROR = 4;</code>
       *
       * <pre>
       * Hashed version didn't match a point in history.
       * </pre>
       */
      VERSION_ERROR(4, 4),
      /**
       * <code>INVALID_OPERATION = 5;</code>
       *
       * <pre>
       * A delta contained an invalid operation (before or after transformation).
       * </pre>
       */
      INVALID_OPERATION(5, 5),
      /**
       * <code>SCHEMA_VIOLATION = 6;</code>
       *
       * <pre>
       * An operation didn't preserve a document schema.
       * </pre>
       */
      SCHEMA_VIOLATION(6, 6),
      /**
       * <code>SIZE_LIMIT_EXCEEDED = 7;</code>
       *
       * <pre>
       * A delta is too big or the resulting document count or size is too large.
       * </pre>
       */
      SIZE_LIMIT_EXCEEDED(7, 7),
      /**
       * <code>POLICY_VIOLATION = 8;</code>
       *
       * <pre>
       * An operation was rejected by a server policy.
       * </pre>
       */
      POLICY_VIOLATION(8, 8),
      /**
       * <code>QUARANTINED = 9;</code>
       *
       * <pre>
       * An object is unavailable because it has been quarantined.
       * </pre>
       */
      QUARANTINED(9, 9),
      /**
       * <code>TOO_OLD = 10;</code>
       *
       * <pre>
       * A request was made against a version older than the server was willing
       * to satisfy. Transform and retry.
       * </pre>
       */
      TOO_OLD(10, 10),
      /**
       * <code>NOT_EXISTS = 11;</code>
       *
       * <pre>
       * Object not exists.
       * </pre>
       */
      NOT_EXISTS(11, 11),
      /**
       * <code>ALREADY_EXISTS = 12;</code>
       *
       * <pre>
       * Object already exists.
       * </pre>
       */
      ALREADY_EXISTS(12, 12),
      /**
       * <code>NOT_LOGGED_IN = 13;</code>
       *
       * <pre>
       * User was not logged in.
       * </pre>
       */
      NOT_LOGGED_IN(13, 13),
      /**
       * <code>UNSUBSCRIBED = 14;</code>
       *
       * <pre>
       * User is unsubscribed.
       * </pre>
       */
      UNSUBSCRIBED(14, 14),
      /**
       * <code>NOT_PARTICIPANT = 15;</code>
       *
       * <pre>
       * User is not participant.
       * </pre>
       */
      NOT_PARTICIPANT(15, 15),
      /**
       * <code>INDEXING_IN_PROCESS = 16;</code>
       *
       * <pre>
       * Wave is being indexed.
       * </pre>
       */
      INDEXING_IN_PROCESS(16, 16),
      ;

      /**
       * <code>OK = 0;</code>
       *
       * <pre>
       * All good.
       * </pre>
       */
      public static final int OK_VALUE = 0;
      /**
       * <code>BAD_REQUEST = 1;</code>
       *
       * <pre>
       * Request was ill-formed.
       * </pre>
       */
      public static final int BAD_REQUEST_VALUE = 1;
      /**
       * <code>INTERNAL_ERROR = 2;</code>
       *
       * <pre>
       * An unspecified internal error occurred.
       * </pre>
       */
      public static final int INTERNAL_ERROR_VALUE = 2;
      /**
       * <code>NOT_AUTHORIZED = 3;</code>
       *
       * <pre>
       * The request was not authorized.
       * </pre>
       */
      public static final int NOT_AUTHORIZED_VALUE = 3;
      /**
       * <code>VERSION_ERROR = 4;</code>
       *
       * <pre>
       * Hashed version didn't match a point in history.
       * </pre>
       */
      public static final int VERSION_ERROR_VALUE = 4;
      /**
       * <code>INVALID_OPERATION = 5;</code>
       *
       * <pre>
       * A delta contained an invalid operation (before or after transformation).
       * </pre>
       */
      public static final int INVALID_OPERATION_VALUE = 5;
      /**
       * <code>SCHEMA_VIOLATION = 6;</code>
       *
       * <pre>
       * An operation didn't preserve a document schema.
       * </pre>
       */
      public static final int SCHEMA_VIOLATION_VALUE = 6;
      /**
       * <code>SIZE_LIMIT_EXCEEDED = 7;</code>
       *
       * <pre>
       * A delta is too big or the resulting document count or size is too large.
       * </pre>
       */
      public static final int SIZE_LIMIT_EXCEEDED_VALUE = 7;
      /**
       * <code>POLICY_VIOLATION = 8;</code>
       *
       * <pre>
       * An operation was rejected by a server policy.
       * </pre>
       */
      public static final int POLICY_VIOLATION_VALUE = 8;
      /**
       * <code>QUARANTINED = 9;</code>
       *
       * <pre>
       * An object is unavailable because it has been quarantined.
       * </pre>
       */
      public static final int QUARANTINED_VALUE = 9;
      /**
       * <code>TOO_OLD = 10;</code>
       *
       * <pre>
       * A request was made against a version older than the server was willing
       * to satisfy. Transform and retry.
       * </pre>
       */
      public static final int TOO_OLD_VALUE = 10;
      /**
       * <code>NOT_EXISTS = 11;</code>
       *
       * <pre>
       * Object not exists.
       * </pre>
       */
      public static final int NOT_EXISTS_VALUE = 11;
      /**
       * <code>ALREADY_EXISTS = 12;</code>
       *
       * <pre>
       * Object already exists.
       * </pre>
       */
      public static final int ALREADY_EXISTS_VALUE = 12;
      /**
       * <code>NOT_LOGGED_IN = 13;</code>
       *
       * <pre>
       * User was not logged in.
       * </pre>
       */
      public static final int NOT_LOGGED_IN_VALUE = 13;
      /**
       * <code>UNSUBSCRIBED = 14;</code>
       *
       * <pre>
       * User is unsubscribed.
       * </pre>
       */
      public static final int UNSUBSCRIBED_VALUE = 14;
      /**
       * <code>NOT_PARTICIPANT = 15;</code>
       *
       * <pre>
       * User is not participant.
       * </pre>
       */
      public static final int NOT_PARTICIPANT_VALUE = 15;
      /**
       * <code>INDEXING_IN_PROCESS = 16;</code>
       *
       * <pre>
       * Wave is being indexed.
       * </pre>
       */
      public static final int INDEXING_IN_PROCESS_VALUE = 16;


      public final int getNumber() { return value; }

      public static ResponseCode valueOf(int value) {
        switch (value) {
          case 0: return OK;
          case 1: return BAD_REQUEST;
          case 2: return INTERNAL_ERROR;
          case 3: return NOT_AUTHORIZED;
          case 4: return VERSION_ERROR;
          case 5: return INVALID_OPERATION;
          case 6: return SCHEMA_VIOLATION;
          case 7: return SIZE_LIMIT_EXCEEDED;
          case 8: return POLICY_VIOLATION;
          case 9: return QUARANTINED;
          case 10: return TOO_OLD;
          case 11: return NOT_EXISTS;
          case 12: return ALREADY_EXISTS;
          case 13: return NOT_LOGGED_IN;
          case 14: return UNSUBSCRIBED;
          case 15: return NOT_PARTICIPANT;
          case 16: return INDEXING_IN_PROCESS;
          default: return null;
        }
      }

      public static com.google.protobuf.Internal.EnumLiteMap<ResponseCode>
          internalGetValueMap() {
        return internalValueMap;
      }
      private static com.google.protobuf.Internal.EnumLiteMap<ResponseCode>
          internalValueMap =
            new com.google.protobuf.Internal.EnumLiteMap<ResponseCode>() {
              public ResponseCode findValueByNumber(int number) {
                return ResponseCode.valueOf(number);
              }
            };

      public final com.google.protobuf.Descriptors.EnumValueDescriptor
          getValueDescriptor() {
        return getDescriptor().getValues().get(index);
      }
      public final com.google.protobuf.Descriptors.EnumDescriptor
          getDescriptorForType() {
        return getDescriptor();
      }
      public static final com.google.protobuf.Descriptors.EnumDescriptor
          getDescriptor() {
        return org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.getDescriptor().getEnumTypes().get(0);
      }

      private static final ResponseCode[] VALUES = values();

      public static ResponseCode valueOf(
          com.google.protobuf.Descriptors.EnumValueDescriptor desc) {
        if (desc.getType() != getDescriptor()) {
          throw new java.lang.IllegalArgumentException(
            "EnumValueDescriptor is not for this type.");
        }
        return VALUES[desc.getIndex()];
      }

      private final int index;
      private final int value;

      private ResponseCode(int index, int value) {
        this.index = index;
        this.value = value;
      }

      // @@protoc_insertion_point(enum_scope:clientserver.ResponseStatus.ResponseCode)
    }

    private int bitField0_;
    // required .clientserver.ResponseStatus.ResponseCode code = 1;
    public static final int CODE_FIELD_NUMBER = 1;
    private org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.ResponseCode code_;
    /**
     * <code>required .clientserver.ResponseStatus.ResponseCode code = 1;</code>
     */
    public boolean hasCode() {
      return ((bitField0_ & 0x00000001) == 0x00000001);
    }
    /**
     * <code>required .clientserver.ResponseStatus.ResponseCode code = 1;</code>
     */
    public org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.ResponseCode getCode() {
      return code_;
    }

    // optional string failureReason = 2;
    public static final int FAILUREREASON_FIELD_NUMBER = 2;
    private java.lang.Object failureReason_;
    /**
     * <code>optional string failureReason = 2;</code>
     *
     * <pre>
     * Reason must be provided if status != OK.
     * </pre>
     */
    public boolean hasFailureReason() {
      return ((bitField0_ & 0x00000002) == 0x00000002);
    }
    /**
     * <code>optional string failureReason = 2;</code>
     *
     * <pre>
     * Reason must be provided if status != OK.
     * </pre>
     */
    public java.lang.String getFailureReason() {
      java.lang.Object ref = failureReason_;
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        if (bs.isValidUtf8()) {
          failureReason_ = s;
        }
        return s;
      }
    }
    /**
     * <code>optional string failureReason = 2;</code>
     *
     * <pre>
     * Reason must be provided if status != OK.
     * </pre>
     */
    public com.google.protobuf.ByteString
        getFailureReasonBytes() {
      java.lang.Object ref = failureReason_;
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        failureReason_ = b;
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    private void initFields() {
      code_ = org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.ResponseCode.OK;
      failureReason_ = "";
    }
    private byte memoizedIsInitialized = -1;
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized != -1) return isInitialized == 1;

      if (!hasCode()) {
        memoizedIsInitialized = 0;
        return false;
      }
      memoizedIsInitialized = 1;
      return true;
    }

    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        output.writeEnum(1, code_.getNumber());
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        output.writeBytes(2, getFailureReasonBytes());
      }
      getUnknownFields().writeTo(output);
    }

    private int memoizedSerializedSize = -1;
    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;

      size = 0;
      if (((bitField0_ & 0x00000001) == 0x00000001)) {
        size += com.google.protobuf.CodedOutputStream
          .computeEnumSize(1, code_.getNumber());
      }
      if (((bitField0_ & 0x00000002) == 0x00000002)) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(2, getFailureReasonBytes());
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }

    private static final long serialVersionUID = 0L;
    @java.lang.Override
    protected java.lang.Object writeReplace()
        throws java.io.ObjectStreamException {
      return super.writeReplace();
    }

    public static org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseDelimitedFrom(input, extensionRegistry);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return PARSER.parseFrom(input);
    }
    public static org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return PARSER.parseFrom(input, extensionRegistry);
    }

    public static Builder newBuilder() { return Builder.create(); }
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder(org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus prototype) {
      return newBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() { return newBuilder(this); }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessage.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * Protobuf type {@code clientserver.ResponseStatus}
     *
     * <pre>
     ** Response status for all services 
     * </pre>
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessage.Builder<Builder>
       implements org.waveprotocol.wave.clientserver.ClientServer.ResponseStatusOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_ResponseStatus_descriptor;
      }

      protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_ResponseStatus_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.class, org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.Builder.class);
      }

      // Construct using org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessage.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessage.alwaysUseFieldBuilders) {
        }
      }
      private static Builder create() {
        return new Builder();
      }

      public Builder clear() {
        super.clear();
        code_ = org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.ResponseCode.OK;
        bitField0_ = (bitField0_ & ~0x00000001);
        failureReason_ = "";
        bitField0_ = (bitField0_ & ~0x00000002);
        return this;
      }

      public Builder clone() {
        return create().mergeFrom(buildPartial());
      }

      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.internal_static_clientserver_ResponseStatus_descriptor;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus getDefaultInstanceForType() {
        return org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.getDefaultInstance();
      }

      public org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus build() {
        org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      public org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus buildPartial() {
        org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus result = new org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus(this);
        int from_bitField0_ = bitField0_;
        int to_bitField0_ = 0;
        if (((from_bitField0_ & 0x00000001) == 0x00000001)) {
          to_bitField0_ |= 0x00000001;
        }
        result.code_ = code_;
        if (((from_bitField0_ & 0x00000002) == 0x00000002)) {
          to_bitField0_ |= 0x00000002;
        }
        result.failureReason_ = failureReason_;
        result.bitField0_ = to_bitField0_;
        onBuilt();
        return result;
      }

      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus) {
          return mergeFrom((org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus other) {
        if (other == org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.getDefaultInstance()) return this;
        if (other.hasCode()) {
          setCode(other.getCode());
        }
        if (other.hasFailureReason()) {
          bitField0_ |= 0x00000002;
          failureReason_ = other.failureReason_;
          onChanged();
        }
        this.mergeUnknownFields(other.getUnknownFields());
        return this;
      }

      public final boolean isInitialized() {
        if (!hasCode()) {
          
          return false;
        }
        return true;
      }

      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus parsedMessage = null;
        try {
          parsedMessage = PARSER.parsePartialFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          parsedMessage = (org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus) e.getUnfinishedMessage();
          throw e;
        } finally {
          if (parsedMessage != null) {
            mergeFrom(parsedMessage);
          }
        }
        return this;
      }
      private int bitField0_;

      // required .clientserver.ResponseStatus.ResponseCode code = 1;
      private org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.ResponseCode code_ = org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.ResponseCode.OK;
      /**
       * <code>required .clientserver.ResponseStatus.ResponseCode code = 1;</code>
       */
      public boolean hasCode() {
        return ((bitField0_ & 0x00000001) == 0x00000001);
      }
      /**
       * <code>required .clientserver.ResponseStatus.ResponseCode code = 1;</code>
       */
      public org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.ResponseCode getCode() {
        return code_;
      }
      /**
       * <code>required .clientserver.ResponseStatus.ResponseCode code = 1;</code>
       */
      public Builder setCode(org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.ResponseCode value) {
        if (value == null) {
          throw new NullPointerException();
        }
        bitField0_ |= 0x00000001;
        code_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>required .clientserver.ResponseStatus.ResponseCode code = 1;</code>
       */
      public Builder clearCode() {
        bitField0_ = (bitField0_ & ~0x00000001);
        code_ = org.waveprotocol.wave.clientserver.ClientServer.ResponseStatus.ResponseCode.OK;
        onChanged();
        return this;
      }

      // optional string failureReason = 2;
      private java.lang.Object failureReason_ = "";
      /**
       * <code>optional string failureReason = 2;</code>
       *
       * <pre>
       * Reason must be provided if status != OK.
       * </pre>
       */
      public boolean hasFailureReason() {
        return ((bitField0_ & 0x00000002) == 0x00000002);
      }
      /**
       * <code>optional string failureReason = 2;</code>
       *
       * <pre>
       * Reason must be provided if status != OK.
       * </pre>
       */
      public java.lang.String getFailureReason() {
        java.lang.Object ref = failureReason_;
        if (!(ref instanceof java.lang.String)) {
          java.lang.String s = ((com.google.protobuf.ByteString) ref)
              .toStringUtf8();
          failureReason_ = s;
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <code>optional string failureReason = 2;</code>
       *
       * <pre>
       * Reason must be provided if status != OK.
       * </pre>
       */
      public com.google.protobuf.ByteString
          getFailureReasonBytes() {
        java.lang.Object ref = failureReason_;
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          failureReason_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <code>optional string failureReason = 2;</code>
       *
       * <pre>
       * Reason must be provided if status != OK.
       * </pre>
       */
      public Builder setFailureReason(
          java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000002;
        failureReason_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>optional string failureReason = 2;</code>
       *
       * <pre>
       * Reason must be provided if status != OK.
       * </pre>
       */
      public Builder clearFailureReason() {
        bitField0_ = (bitField0_ & ~0x00000002);
        failureReason_ = getDefaultInstance().getFailureReason();
        onChanged();
        return this;
      }
      /**
       * <code>optional string failureReason = 2;</code>
       *
       * <pre>
       * Reason must be provided if status != OK.
       * </pre>
       */
      public Builder setFailureReasonBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  bitField0_ |= 0x00000002;
        failureReason_ = value;
        onChanged();
        return this;
      }

      // @@protoc_insertion_point(builder_scope:clientserver.ResponseStatus)
    }

    static {
      defaultInstance = new ResponseStatus(true);
      defaultInstance.initFields();
    }

    // @@protoc_insertion_point(class_scope:clientserver.ResponseStatus)
  }

  /**
   * Protobuf service {@code clientserver.FetchService}
   *
   * <pre>
   **
   * Fetch service.
   * Provides snapshots describing a client's view of a wave.
   * </pre>
   */
  public static abstract class FetchService
      implements com.google.protobuf.Service {
    protected FetchService() {}

    public interface Interface {
      /**
       * <code>rpc FetchWaveView(.clientserver.FetchWaveViewRequest) returns (.clientserver.FetchWaveViewResponse);</code>
       */
      public abstract void fetchWaveView(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest request,
          com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse> done);

      /**
       * <code>rpc FetchFragments(.clientserver.FetchFragmentsRequest) returns (.clientserver.FetchFragmentsResponse);</code>
       */
      public abstract void fetchFragments(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest request,
          com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse> done);

    }

    public static com.google.protobuf.Service newReflectiveService(
        final Interface impl) {
      return new FetchService() {
        @java.lang.Override
        public  void fetchWaveView(
            com.google.protobuf.RpcController controller,
            org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest request,
            com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse> done) {
          impl.fetchWaveView(controller, request, done);
        }

        @java.lang.Override
        public  void fetchFragments(
            com.google.protobuf.RpcController controller,
            org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest request,
            com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse> done) {
          impl.fetchFragments(controller, request, done);
        }

      };
    }

    public static com.google.protobuf.BlockingService
        newReflectiveBlockingService(final BlockingInterface impl) {
      return new com.google.protobuf.BlockingService() {
        public final com.google.protobuf.Descriptors.ServiceDescriptor
            getDescriptorForType() {
          return getDescriptor();
        }

        public final com.google.protobuf.Message callBlockingMethod(
            com.google.protobuf.Descriptors.MethodDescriptor method,
            com.google.protobuf.RpcController controller,
            com.google.protobuf.Message request)
            throws com.google.protobuf.ServiceException {
          if (method.getService() != getDescriptor()) {
            throw new java.lang.IllegalArgumentException(
              "Service.callBlockingMethod() given method descriptor for " +
              "wrong service type.");
          }
          switch(method.getIndex()) {
            case 0:
              return impl.fetchWaveView(controller, (org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest)request);
            case 1:
              return impl.fetchFragments(controller, (org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest)request);
            default:
              throw new java.lang.AssertionError("Can't get here.");
          }
        }

        public final com.google.protobuf.Message
            getRequestPrototype(
            com.google.protobuf.Descriptors.MethodDescriptor method) {
          if (method.getService() != getDescriptor()) {
            throw new java.lang.IllegalArgumentException(
              "Service.getRequestPrototype() given method " +
              "descriptor for wrong service type.");
          }
          switch(method.getIndex()) {
            case 0:
              return org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest.getDefaultInstance();
            case 1:
              return org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.getDefaultInstance();
            default:
              throw new java.lang.AssertionError("Can't get here.");
          }
        }

        public final com.google.protobuf.Message
            getResponsePrototype(
            com.google.protobuf.Descriptors.MethodDescriptor method) {
          if (method.getService() != getDescriptor()) {
            throw new java.lang.IllegalArgumentException(
              "Service.getResponsePrototype() given method " +
              "descriptor for wrong service type.");
          }
          switch(method.getIndex()) {
            case 0:
              return org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.getDefaultInstance();
            case 1:
              return org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse.getDefaultInstance();
            default:
              throw new java.lang.AssertionError("Can't get here.");
          }
        }

      };
    }

    /**
     * <code>rpc FetchWaveView(.clientserver.FetchWaveViewRequest) returns (.clientserver.FetchWaveViewResponse);</code>
     */
    public abstract void fetchWaveView(
        com.google.protobuf.RpcController controller,
        org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest request,
        com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse> done);

    /**
     * <code>rpc FetchFragments(.clientserver.FetchFragmentsRequest) returns (.clientserver.FetchFragmentsResponse);</code>
     */
    public abstract void fetchFragments(
        com.google.protobuf.RpcController controller,
        org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest request,
        com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse> done);

    public static final
        com.google.protobuf.Descriptors.ServiceDescriptor
        getDescriptor() {
      return org.waveprotocol.wave.clientserver.ClientServer.getDescriptor().getServices().get(0);
    }
    public final com.google.protobuf.Descriptors.ServiceDescriptor
        getDescriptorForType() {
      return getDescriptor();
    }

    public final void callMethod(
        com.google.protobuf.Descriptors.MethodDescriptor method,
        com.google.protobuf.RpcController controller,
        com.google.protobuf.Message request,
        com.google.protobuf.RpcCallback<
          com.google.protobuf.Message> done) {
      if (method.getService() != getDescriptor()) {
        throw new java.lang.IllegalArgumentException(
          "Service.callMethod() given method descriptor for wrong " +
          "service type.");
      }
      switch(method.getIndex()) {
        case 0:
          this.fetchWaveView(controller, (org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest)request,
            com.google.protobuf.RpcUtil.<org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse>specializeCallback(
              done));
          return;
        case 1:
          this.fetchFragments(controller, (org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest)request,
            com.google.protobuf.RpcUtil.<org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse>specializeCallback(
              done));
          return;
        default:
          throw new java.lang.AssertionError("Can't get here.");
      }
    }

    public final com.google.protobuf.Message
        getRequestPrototype(
        com.google.protobuf.Descriptors.MethodDescriptor method) {
      if (method.getService() != getDescriptor()) {
        throw new java.lang.IllegalArgumentException(
          "Service.getRequestPrototype() given method " +
          "descriptor for wrong service type.");
      }
      switch(method.getIndex()) {
        case 0:
          return org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest.getDefaultInstance();
        case 1:
          return org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest.getDefaultInstance();
        default:
          throw new java.lang.AssertionError("Can't get here.");
      }
    }

    public final com.google.protobuf.Message
        getResponsePrototype(
        com.google.protobuf.Descriptors.MethodDescriptor method) {
      if (method.getService() != getDescriptor()) {
        throw new java.lang.IllegalArgumentException(
          "Service.getResponsePrototype() given method " +
          "descriptor for wrong service type.");
      }
      switch(method.getIndex()) {
        case 0:
          return org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.getDefaultInstance();
        case 1:
          return org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse.getDefaultInstance();
        default:
          throw new java.lang.AssertionError("Can't get here.");
      }
    }

    public static Stub newStub(
        com.google.protobuf.RpcChannel channel) {
      return new Stub(channel);
    }

    public static final class Stub extends org.waveprotocol.wave.clientserver.ClientServer.FetchService implements Interface {
      private Stub(com.google.protobuf.RpcChannel channel) {
        this.channel = channel;
      }

      private final com.google.protobuf.RpcChannel channel;

      public com.google.protobuf.RpcChannel getChannel() {
        return channel;
      }

      public  void fetchWaveView(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest request,
          com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse> done) {
        channel.callMethod(
          getDescriptor().getMethods().get(0),
          controller,
          request,
          org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.getDefaultInstance(),
          com.google.protobuf.RpcUtil.generalizeCallback(
            done,
            org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.class,
            org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.getDefaultInstance()));
      }

      public  void fetchFragments(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest request,
          com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse> done) {
        channel.callMethod(
          getDescriptor().getMethods().get(1),
          controller,
          request,
          org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse.getDefaultInstance(),
          com.google.protobuf.RpcUtil.generalizeCallback(
            done,
            org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse.class,
            org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse.getDefaultInstance()));
      }
    }

    public static BlockingInterface newBlockingStub(
        com.google.protobuf.BlockingRpcChannel channel) {
      return new BlockingStub(channel);
    }

    public interface BlockingInterface {
      public org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse fetchWaveView(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest request)
          throws com.google.protobuf.ServiceException;

      public org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse fetchFragments(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest request)
          throws com.google.protobuf.ServiceException;
    }

    private static final class BlockingStub implements BlockingInterface {
      private BlockingStub(com.google.protobuf.BlockingRpcChannel channel) {
        this.channel = channel;
      }

      private final com.google.protobuf.BlockingRpcChannel channel;

      public org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse fetchWaveView(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewRequest request)
          throws com.google.protobuf.ServiceException {
        return (org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse) channel.callBlockingMethod(
          getDescriptor().getMethods().get(0),
          controller,
          request,
          org.waveprotocol.wave.clientserver.ClientServer.FetchWaveViewResponse.getDefaultInstance());
      }


      public org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse fetchFragments(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsRequest request)
          throws com.google.protobuf.ServiceException {
        return (org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse) channel.callBlockingMethod(
          getDescriptor().getMethods().get(1),
          controller,
          request,
          org.waveprotocol.wave.clientserver.ClientServer.FetchFragmentsResponse.getDefaultInstance());
      }

    }

    // @@protoc_insertion_point(class_scope:clientserver.FetchService)
  }

  /**
   * Protobuf service {@code clientserver.WaveletChannelService}
   *
   * <pre>
   **
   * Wavelet channel service.
   * Provides a uni-directional stream of deltas for a single wavelet,
   * beginning at the delta applying at a client-specified version.
   * The stream continues until either the client requests the channel
   * be closed or a terminating message is received. Deltas submitted
   * with this channel's id are excluded from the stream. There is no
   * ordering guarantee between this service and responses from the
   * delta submission service.
   * </pre>
   */
  public static abstract class WaveletChannelService
      implements com.google.protobuf.Service {
    protected WaveletChannelService() {}

    public interface Interface {
      /**
       * <code>rpc Open(.clientserver.OpenWaveletChannelRequest) returns (.clientserver.OpenWaveletChannelStream);</code>
       */
      public abstract void open(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest request,
          com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream> done);

      /**
       * <code>rpc Close(.clientserver.CloseWaveletChannelRequest) returns (.clientserver.EmptyResponse);</code>
       */
      public abstract void close(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest request,
          com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse> done);

    }

    public static com.google.protobuf.Service newReflectiveService(
        final Interface impl) {
      return new WaveletChannelService() {
        @java.lang.Override
        public  void open(
            com.google.protobuf.RpcController controller,
            org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest request,
            com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream> done) {
          impl.open(controller, request, done);
        }

        @java.lang.Override
        public  void close(
            com.google.protobuf.RpcController controller,
            org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest request,
            com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse> done) {
          impl.close(controller, request, done);
        }

      };
    }

    public static com.google.protobuf.BlockingService
        newReflectiveBlockingService(final BlockingInterface impl) {
      return new com.google.protobuf.BlockingService() {
        public final com.google.protobuf.Descriptors.ServiceDescriptor
            getDescriptorForType() {
          return getDescriptor();
        }

        public final com.google.protobuf.Message callBlockingMethod(
            com.google.protobuf.Descriptors.MethodDescriptor method,
            com.google.protobuf.RpcController controller,
            com.google.protobuf.Message request)
            throws com.google.protobuf.ServiceException {
          if (method.getService() != getDescriptor()) {
            throw new java.lang.IllegalArgumentException(
              "Service.callBlockingMethod() given method descriptor for " +
              "wrong service type.");
          }
          switch(method.getIndex()) {
            case 0:
              return impl.open(controller, (org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest)request);
            case 1:
              return impl.close(controller, (org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest)request);
            default:
              throw new java.lang.AssertionError("Can't get here.");
          }
        }

        public final com.google.protobuf.Message
            getRequestPrototype(
            com.google.protobuf.Descriptors.MethodDescriptor method) {
          if (method.getService() != getDescriptor()) {
            throw new java.lang.IllegalArgumentException(
              "Service.getRequestPrototype() given method " +
              "descriptor for wrong service type.");
          }
          switch(method.getIndex()) {
            case 0:
              return org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest.getDefaultInstance();
            case 1:
              return org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest.getDefaultInstance();
            default:
              throw new java.lang.AssertionError("Can't get here.");
          }
        }

        public final com.google.protobuf.Message
            getResponsePrototype(
            com.google.protobuf.Descriptors.MethodDescriptor method) {
          if (method.getService() != getDescriptor()) {
            throw new java.lang.IllegalArgumentException(
              "Service.getResponsePrototype() given method " +
              "descriptor for wrong service type.");
          }
          switch(method.getIndex()) {
            case 0:
              return org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.getDefaultInstance();
            case 1:
              return org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse.getDefaultInstance();
            default:
              throw new java.lang.AssertionError("Can't get here.");
          }
        }

      };
    }

    /**
     * <code>rpc Open(.clientserver.OpenWaveletChannelRequest) returns (.clientserver.OpenWaveletChannelStream);</code>
     */
    public abstract void open(
        com.google.protobuf.RpcController controller,
        org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest request,
        com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream> done);

    /**
     * <code>rpc Close(.clientserver.CloseWaveletChannelRequest) returns (.clientserver.EmptyResponse);</code>
     */
    public abstract void close(
        com.google.protobuf.RpcController controller,
        org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest request,
        com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse> done);

    public static final
        com.google.protobuf.Descriptors.ServiceDescriptor
        getDescriptor() {
      return org.waveprotocol.wave.clientserver.ClientServer.getDescriptor().getServices().get(1);
    }
    public final com.google.protobuf.Descriptors.ServiceDescriptor
        getDescriptorForType() {
      return getDescriptor();
    }

    public final void callMethod(
        com.google.protobuf.Descriptors.MethodDescriptor method,
        com.google.protobuf.RpcController controller,
        com.google.protobuf.Message request,
        com.google.protobuf.RpcCallback<
          com.google.protobuf.Message> done) {
      if (method.getService() != getDescriptor()) {
        throw new java.lang.IllegalArgumentException(
          "Service.callMethod() given method descriptor for wrong " +
          "service type.");
      }
      switch(method.getIndex()) {
        case 0:
          this.open(controller, (org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest)request,
            com.google.protobuf.RpcUtil.<org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream>specializeCallback(
              done));
          return;
        case 1:
          this.close(controller, (org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest)request,
            com.google.protobuf.RpcUtil.<org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse>specializeCallback(
              done));
          return;
        default:
          throw new java.lang.AssertionError("Can't get here.");
      }
    }

    public final com.google.protobuf.Message
        getRequestPrototype(
        com.google.protobuf.Descriptors.MethodDescriptor method) {
      if (method.getService() != getDescriptor()) {
        throw new java.lang.IllegalArgumentException(
          "Service.getRequestPrototype() given method " +
          "descriptor for wrong service type.");
      }
      switch(method.getIndex()) {
        case 0:
          return org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest.getDefaultInstance();
        case 1:
          return org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest.getDefaultInstance();
        default:
          throw new java.lang.AssertionError("Can't get here.");
      }
    }

    public final com.google.protobuf.Message
        getResponsePrototype(
        com.google.protobuf.Descriptors.MethodDescriptor method) {
      if (method.getService() != getDescriptor()) {
        throw new java.lang.IllegalArgumentException(
          "Service.getResponsePrototype() given method " +
          "descriptor for wrong service type.");
      }
      switch(method.getIndex()) {
        case 0:
          return org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.getDefaultInstance();
        case 1:
          return org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse.getDefaultInstance();
        default:
          throw new java.lang.AssertionError("Can't get here.");
      }
    }

    public static Stub newStub(
        com.google.protobuf.RpcChannel channel) {
      return new Stub(channel);
    }

    public static final class Stub extends org.waveprotocol.wave.clientserver.ClientServer.WaveletChannelService implements Interface {
      private Stub(com.google.protobuf.RpcChannel channel) {
        this.channel = channel;
      }

      private final com.google.protobuf.RpcChannel channel;

      public com.google.protobuf.RpcChannel getChannel() {
        return channel;
      }

      public  void open(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest request,
          com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream> done) {
        channel.callMethod(
          getDescriptor().getMethods().get(0),
          controller,
          request,
          org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.getDefaultInstance(),
          com.google.protobuf.RpcUtil.generalizeCallback(
            done,
            org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.class,
            org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.getDefaultInstance()));
      }

      public  void close(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest request,
          com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse> done) {
        channel.callMethod(
          getDescriptor().getMethods().get(1),
          controller,
          request,
          org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse.getDefaultInstance(),
          com.google.protobuf.RpcUtil.generalizeCallback(
            done,
            org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse.class,
            org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse.getDefaultInstance()));
      }
    }

    public static BlockingInterface newBlockingStub(
        com.google.protobuf.BlockingRpcChannel channel) {
      return new BlockingStub(channel);
    }

    public interface BlockingInterface {
      public org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream open(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest request)
          throws com.google.protobuf.ServiceException;

      public org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse close(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest request)
          throws com.google.protobuf.ServiceException;
    }

    private static final class BlockingStub implements BlockingInterface {
      private BlockingStub(com.google.protobuf.BlockingRpcChannel channel) {
        this.channel = channel;
      }

      private final com.google.protobuf.BlockingRpcChannel channel;

      public org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream open(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelRequest request)
          throws com.google.protobuf.ServiceException {
        return (org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream) channel.callBlockingMethod(
          getDescriptor().getMethods().get(0),
          controller,
          request,
          org.waveprotocol.wave.clientserver.ClientServer.OpenWaveletChannelStream.getDefaultInstance());
      }


      public org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse close(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.CloseWaveletChannelRequest request)
          throws com.google.protobuf.ServiceException {
        return (org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse) channel.callBlockingMethod(
          getDescriptor().getMethods().get(1),
          controller,
          request,
          org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse.getDefaultInstance());
      }

    }

    // @@protoc_insertion_point(class_scope:clientserver.WaveletChannelService)
  }

  /**
   * Protobuf service {@code clientserver.DeltaSubmissionService}
   *
   * <pre>
   **
   * Delta submission service.
   * Receives deltas submitted against wavelets.
   * Deltas are submitted in association with a wavelet channel (see
   * WaveletChannelService).
   * </pre>
   */
  public static abstract class DeltaSubmissionService
      implements com.google.protobuf.Service {
    protected DeltaSubmissionService() {}

    public interface Interface {
      /**
       * <code>rpc Submit(.clientserver.SubmitDeltaRequest) returns (.clientserver.SubmitDeltaResponse);</code>
       */
      public abstract void submit(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest request,
          com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse> done);

    }

    public static com.google.protobuf.Service newReflectiveService(
        final Interface impl) {
      return new DeltaSubmissionService() {
        @java.lang.Override
        public  void submit(
            com.google.protobuf.RpcController controller,
            org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest request,
            com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse> done) {
          impl.submit(controller, request, done);
        }

      };
    }

    public static com.google.protobuf.BlockingService
        newReflectiveBlockingService(final BlockingInterface impl) {
      return new com.google.protobuf.BlockingService() {
        public final com.google.protobuf.Descriptors.ServiceDescriptor
            getDescriptorForType() {
          return getDescriptor();
        }

        public final com.google.protobuf.Message callBlockingMethod(
            com.google.protobuf.Descriptors.MethodDescriptor method,
            com.google.protobuf.RpcController controller,
            com.google.protobuf.Message request)
            throws com.google.protobuf.ServiceException {
          if (method.getService() != getDescriptor()) {
            throw new java.lang.IllegalArgumentException(
              "Service.callBlockingMethod() given method descriptor for " +
              "wrong service type.");
          }
          switch(method.getIndex()) {
            case 0:
              return impl.submit(controller, (org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest)request);
            default:
              throw new java.lang.AssertionError("Can't get here.");
          }
        }

        public final com.google.protobuf.Message
            getRequestPrototype(
            com.google.protobuf.Descriptors.MethodDescriptor method) {
          if (method.getService() != getDescriptor()) {
            throw new java.lang.IllegalArgumentException(
              "Service.getRequestPrototype() given method " +
              "descriptor for wrong service type.");
          }
          switch(method.getIndex()) {
            case 0:
              return org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest.getDefaultInstance();
            default:
              throw new java.lang.AssertionError("Can't get here.");
          }
        }

        public final com.google.protobuf.Message
            getResponsePrototype(
            com.google.protobuf.Descriptors.MethodDescriptor method) {
          if (method.getService() != getDescriptor()) {
            throw new java.lang.IllegalArgumentException(
              "Service.getResponsePrototype() given method " +
              "descriptor for wrong service type.");
          }
          switch(method.getIndex()) {
            case 0:
              return org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse.getDefaultInstance();
            default:
              throw new java.lang.AssertionError("Can't get here.");
          }
        }

      };
    }

    /**
     * <code>rpc Submit(.clientserver.SubmitDeltaRequest) returns (.clientserver.SubmitDeltaResponse);</code>
     */
    public abstract void submit(
        com.google.protobuf.RpcController controller,
        org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest request,
        com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse> done);

    public static final
        com.google.protobuf.Descriptors.ServiceDescriptor
        getDescriptor() {
      return org.waveprotocol.wave.clientserver.ClientServer.getDescriptor().getServices().get(2);
    }
    public final com.google.protobuf.Descriptors.ServiceDescriptor
        getDescriptorForType() {
      return getDescriptor();
    }

    public final void callMethod(
        com.google.protobuf.Descriptors.MethodDescriptor method,
        com.google.protobuf.RpcController controller,
        com.google.protobuf.Message request,
        com.google.protobuf.RpcCallback<
          com.google.protobuf.Message> done) {
      if (method.getService() != getDescriptor()) {
        throw new java.lang.IllegalArgumentException(
          "Service.callMethod() given method descriptor for wrong " +
          "service type.");
      }
      switch(method.getIndex()) {
        case 0:
          this.submit(controller, (org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest)request,
            com.google.protobuf.RpcUtil.<org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse>specializeCallback(
              done));
          return;
        default:
          throw new java.lang.AssertionError("Can't get here.");
      }
    }

    public final com.google.protobuf.Message
        getRequestPrototype(
        com.google.protobuf.Descriptors.MethodDescriptor method) {
      if (method.getService() != getDescriptor()) {
        throw new java.lang.IllegalArgumentException(
          "Service.getRequestPrototype() given method " +
          "descriptor for wrong service type.");
      }
      switch(method.getIndex()) {
        case 0:
          return org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest.getDefaultInstance();
        default:
          throw new java.lang.AssertionError("Can't get here.");
      }
    }

    public final com.google.protobuf.Message
        getResponsePrototype(
        com.google.protobuf.Descriptors.MethodDescriptor method) {
      if (method.getService() != getDescriptor()) {
        throw new java.lang.IllegalArgumentException(
          "Service.getResponsePrototype() given method " +
          "descriptor for wrong service type.");
      }
      switch(method.getIndex()) {
        case 0:
          return org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse.getDefaultInstance();
        default:
          throw new java.lang.AssertionError("Can't get here.");
      }
    }

    public static Stub newStub(
        com.google.protobuf.RpcChannel channel) {
      return new Stub(channel);
    }

    public static final class Stub extends org.waveprotocol.wave.clientserver.ClientServer.DeltaSubmissionService implements Interface {
      private Stub(com.google.protobuf.RpcChannel channel) {
        this.channel = channel;
      }

      private final com.google.protobuf.RpcChannel channel;

      public com.google.protobuf.RpcChannel getChannel() {
        return channel;
      }

      public  void submit(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest request,
          com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse> done) {
        channel.callMethod(
          getDescriptor().getMethods().get(0),
          controller,
          request,
          org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse.getDefaultInstance(),
          com.google.protobuf.RpcUtil.generalizeCallback(
            done,
            org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse.class,
            org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse.getDefaultInstance()));
      }
    }

    public static BlockingInterface newBlockingStub(
        com.google.protobuf.BlockingRpcChannel channel) {
      return new BlockingStub(channel);
    }

    public interface BlockingInterface {
      public org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse submit(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest request)
          throws com.google.protobuf.ServiceException;
    }

    private static final class BlockingStub implements BlockingInterface {
      private BlockingStub(com.google.protobuf.BlockingRpcChannel channel) {
        this.channel = channel;
      }

      private final com.google.protobuf.BlockingRpcChannel channel;

      public org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse submit(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaRequest request)
          throws com.google.protobuf.ServiceException {
        return (org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse) channel.callBlockingMethod(
          getDescriptor().getMethods().get(0),
          controller,
          request,
          org.waveprotocol.wave.clientserver.ClientServer.SubmitDeltaResponse.getDefaultInstance());
      }

    }

    // @@protoc_insertion_point(class_scope:clientserver.DeltaSubmissionService)
  }

  /**
   * Protobuf service {@code clientserver.TransportAuthenticationService}
   *
   * <pre>
   **
   * Transport authentication service.
   * Authenticates the underlying transport.
   * This service is required only to work around a bug in some browsers'
   * websocket implementations that fail to set cookies containing authentication
   * tokens.
   * If the client's authentication is invalid the server should close the
   * transport.
   * See: http://code.google.com/p/wave-protocol/issues/detail?id=119
   * </pre>
   */
  public static abstract class TransportAuthenticationService
      implements com.google.protobuf.Service {
    protected TransportAuthenticationService() {}

    public interface Interface {
      /**
       * <code>rpc Authenticate(.clientserver.TransportAuthenticationRequest) returns (.clientserver.EmptyResponse);</code>
       */
      public abstract void authenticate(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest request,
          com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse> done);

    }

    public static com.google.protobuf.Service newReflectiveService(
        final Interface impl) {
      return new TransportAuthenticationService() {
        @java.lang.Override
        public  void authenticate(
            com.google.protobuf.RpcController controller,
            org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest request,
            com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse> done) {
          impl.authenticate(controller, request, done);
        }

      };
    }

    public static com.google.protobuf.BlockingService
        newReflectiveBlockingService(final BlockingInterface impl) {
      return new com.google.protobuf.BlockingService() {
        public final com.google.protobuf.Descriptors.ServiceDescriptor
            getDescriptorForType() {
          return getDescriptor();
        }

        public final com.google.protobuf.Message callBlockingMethod(
            com.google.protobuf.Descriptors.MethodDescriptor method,
            com.google.protobuf.RpcController controller,
            com.google.protobuf.Message request)
            throws com.google.protobuf.ServiceException {
          if (method.getService() != getDescriptor()) {
            throw new java.lang.IllegalArgumentException(
              "Service.callBlockingMethod() given method descriptor for " +
              "wrong service type.");
          }
          switch(method.getIndex()) {
            case 0:
              return impl.authenticate(controller, (org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest)request);
            default:
              throw new java.lang.AssertionError("Can't get here.");
          }
        }

        public final com.google.protobuf.Message
            getRequestPrototype(
            com.google.protobuf.Descriptors.MethodDescriptor method) {
          if (method.getService() != getDescriptor()) {
            throw new java.lang.IllegalArgumentException(
              "Service.getRequestPrototype() given method " +
              "descriptor for wrong service type.");
          }
          switch(method.getIndex()) {
            case 0:
              return org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest.getDefaultInstance();
            default:
              throw new java.lang.AssertionError("Can't get here.");
          }
        }

        public final com.google.protobuf.Message
            getResponsePrototype(
            com.google.protobuf.Descriptors.MethodDescriptor method) {
          if (method.getService() != getDescriptor()) {
            throw new java.lang.IllegalArgumentException(
              "Service.getResponsePrototype() given method " +
              "descriptor for wrong service type.");
          }
          switch(method.getIndex()) {
            case 0:
              return org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse.getDefaultInstance();
            default:
              throw new java.lang.AssertionError("Can't get here.");
          }
        }

      };
    }

    /**
     * <code>rpc Authenticate(.clientserver.TransportAuthenticationRequest) returns (.clientserver.EmptyResponse);</code>
     */
    public abstract void authenticate(
        com.google.protobuf.RpcController controller,
        org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest request,
        com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse> done);

    public static final
        com.google.protobuf.Descriptors.ServiceDescriptor
        getDescriptor() {
      return org.waveprotocol.wave.clientserver.ClientServer.getDescriptor().getServices().get(3);
    }
    public final com.google.protobuf.Descriptors.ServiceDescriptor
        getDescriptorForType() {
      return getDescriptor();
    }

    public final void callMethod(
        com.google.protobuf.Descriptors.MethodDescriptor method,
        com.google.protobuf.RpcController controller,
        com.google.protobuf.Message request,
        com.google.protobuf.RpcCallback<
          com.google.protobuf.Message> done) {
      if (method.getService() != getDescriptor()) {
        throw new java.lang.IllegalArgumentException(
          "Service.callMethod() given method descriptor for wrong " +
          "service type.");
      }
      switch(method.getIndex()) {
        case 0:
          this.authenticate(controller, (org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest)request,
            com.google.protobuf.RpcUtil.<org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse>specializeCallback(
              done));
          return;
        default:
          throw new java.lang.AssertionError("Can't get here.");
      }
    }

    public final com.google.protobuf.Message
        getRequestPrototype(
        com.google.protobuf.Descriptors.MethodDescriptor method) {
      if (method.getService() != getDescriptor()) {
        throw new java.lang.IllegalArgumentException(
          "Service.getRequestPrototype() given method " +
          "descriptor for wrong service type.");
      }
      switch(method.getIndex()) {
        case 0:
          return org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest.getDefaultInstance();
        default:
          throw new java.lang.AssertionError("Can't get here.");
      }
    }

    public final com.google.protobuf.Message
        getResponsePrototype(
        com.google.protobuf.Descriptors.MethodDescriptor method) {
      if (method.getService() != getDescriptor()) {
        throw new java.lang.IllegalArgumentException(
          "Service.getResponsePrototype() given method " +
          "descriptor for wrong service type.");
      }
      switch(method.getIndex()) {
        case 0:
          return org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse.getDefaultInstance();
        default:
          throw new java.lang.AssertionError("Can't get here.");
      }
    }

    public static Stub newStub(
        com.google.protobuf.RpcChannel channel) {
      return new Stub(channel);
    }

    public static final class Stub extends org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationService implements Interface {
      private Stub(com.google.protobuf.RpcChannel channel) {
        this.channel = channel;
      }

      private final com.google.protobuf.RpcChannel channel;

      public com.google.protobuf.RpcChannel getChannel() {
        return channel;
      }

      public  void authenticate(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest request,
          com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse> done) {
        channel.callMethod(
          getDescriptor().getMethods().get(0),
          controller,
          request,
          org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse.getDefaultInstance(),
          com.google.protobuf.RpcUtil.generalizeCallback(
            done,
            org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse.class,
            org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse.getDefaultInstance()));
      }
    }

    public static BlockingInterface newBlockingStub(
        com.google.protobuf.BlockingRpcChannel channel) {
      return new BlockingStub(channel);
    }

    public interface BlockingInterface {
      public org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse authenticate(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest request)
          throws com.google.protobuf.ServiceException;
    }

    private static final class BlockingStub implements BlockingInterface {
      private BlockingStub(com.google.protobuf.BlockingRpcChannel channel) {
        this.channel = channel;
      }

      private final com.google.protobuf.BlockingRpcChannel channel;

      public org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse authenticate(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.TransportAuthenticationRequest request)
          throws com.google.protobuf.ServiceException {
        return (org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse) channel.callBlockingMethod(
          getDescriptor().getMethods().get(0),
          controller,
          request,
          org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse.getDefaultInstance());
      }

    }

    // @@protoc_insertion_point(class_scope:clientserver.TransportAuthenticationService)
  }

  /**
   * Protobuf service {@code clientserver.DisconnectService}
   *
   * <pre>
   **
   * Disconnect service.
   * Request generates by server on websocket disconnect.
   * </pre>
   */
  public static abstract class DisconnectService
      implements com.google.protobuf.Service {
    protected DisconnectService() {}

    public interface Interface {
      /**
       * <code>rpc Disconnect(.clientserver.DisconnectRequest) returns (.clientserver.EmptyResponse);</code>
       */
      public abstract void disconnect(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest request,
          com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse> done);

    }

    public static com.google.protobuf.Service newReflectiveService(
        final Interface impl) {
      return new DisconnectService() {
        @java.lang.Override
        public  void disconnect(
            com.google.protobuf.RpcController controller,
            org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest request,
            com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse> done) {
          impl.disconnect(controller, request, done);
        }

      };
    }

    public static com.google.protobuf.BlockingService
        newReflectiveBlockingService(final BlockingInterface impl) {
      return new com.google.protobuf.BlockingService() {
        public final com.google.protobuf.Descriptors.ServiceDescriptor
            getDescriptorForType() {
          return getDescriptor();
        }

        public final com.google.protobuf.Message callBlockingMethod(
            com.google.protobuf.Descriptors.MethodDescriptor method,
            com.google.protobuf.RpcController controller,
            com.google.protobuf.Message request)
            throws com.google.protobuf.ServiceException {
          if (method.getService() != getDescriptor()) {
            throw new java.lang.IllegalArgumentException(
              "Service.callBlockingMethod() given method descriptor for " +
              "wrong service type.");
          }
          switch(method.getIndex()) {
            case 0:
              return impl.disconnect(controller, (org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest)request);
            default:
              throw new java.lang.AssertionError("Can't get here.");
          }
        }

        public final com.google.protobuf.Message
            getRequestPrototype(
            com.google.protobuf.Descriptors.MethodDescriptor method) {
          if (method.getService() != getDescriptor()) {
            throw new java.lang.IllegalArgumentException(
              "Service.getRequestPrototype() given method " +
              "descriptor for wrong service type.");
          }
          switch(method.getIndex()) {
            case 0:
              return org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest.getDefaultInstance();
            default:
              throw new java.lang.AssertionError("Can't get here.");
          }
        }

        public final com.google.protobuf.Message
            getResponsePrototype(
            com.google.protobuf.Descriptors.MethodDescriptor method) {
          if (method.getService() != getDescriptor()) {
            throw new java.lang.IllegalArgumentException(
              "Service.getResponsePrototype() given method " +
              "descriptor for wrong service type.");
          }
          switch(method.getIndex()) {
            case 0:
              return org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse.getDefaultInstance();
            default:
              throw new java.lang.AssertionError("Can't get here.");
          }
        }

      };
    }

    /**
     * <code>rpc Disconnect(.clientserver.DisconnectRequest) returns (.clientserver.EmptyResponse);</code>
     */
    public abstract void disconnect(
        com.google.protobuf.RpcController controller,
        org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest request,
        com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse> done);

    public static final
        com.google.protobuf.Descriptors.ServiceDescriptor
        getDescriptor() {
      return org.waveprotocol.wave.clientserver.ClientServer.getDescriptor().getServices().get(4);
    }
    public final com.google.protobuf.Descriptors.ServiceDescriptor
        getDescriptorForType() {
      return getDescriptor();
    }

    public final void callMethod(
        com.google.protobuf.Descriptors.MethodDescriptor method,
        com.google.protobuf.RpcController controller,
        com.google.protobuf.Message request,
        com.google.protobuf.RpcCallback<
          com.google.protobuf.Message> done) {
      if (method.getService() != getDescriptor()) {
        throw new java.lang.IllegalArgumentException(
          "Service.callMethod() given method descriptor for wrong " +
          "service type.");
      }
      switch(method.getIndex()) {
        case 0:
          this.disconnect(controller, (org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest)request,
            com.google.protobuf.RpcUtil.<org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse>specializeCallback(
              done));
          return;
        default:
          throw new java.lang.AssertionError("Can't get here.");
      }
    }

    public final com.google.protobuf.Message
        getRequestPrototype(
        com.google.protobuf.Descriptors.MethodDescriptor method) {
      if (method.getService() != getDescriptor()) {
        throw new java.lang.IllegalArgumentException(
          "Service.getRequestPrototype() given method " +
          "descriptor for wrong service type.");
      }
      switch(method.getIndex()) {
        case 0:
          return org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest.getDefaultInstance();
        default:
          throw new java.lang.AssertionError("Can't get here.");
      }
    }

    public final com.google.protobuf.Message
        getResponsePrototype(
        com.google.protobuf.Descriptors.MethodDescriptor method) {
      if (method.getService() != getDescriptor()) {
        throw new java.lang.IllegalArgumentException(
          "Service.getResponsePrototype() given method " +
          "descriptor for wrong service type.");
      }
      switch(method.getIndex()) {
        case 0:
          return org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse.getDefaultInstance();
        default:
          throw new java.lang.AssertionError("Can't get here.");
      }
    }

    public static Stub newStub(
        com.google.protobuf.RpcChannel channel) {
      return new Stub(channel);
    }

    public static final class Stub extends org.waveprotocol.wave.clientserver.ClientServer.DisconnectService implements Interface {
      private Stub(com.google.protobuf.RpcChannel channel) {
        this.channel = channel;
      }

      private final com.google.protobuf.RpcChannel channel;

      public com.google.protobuf.RpcChannel getChannel() {
        return channel;
      }

      public  void disconnect(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest request,
          com.google.protobuf.RpcCallback<org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse> done) {
        channel.callMethod(
          getDescriptor().getMethods().get(0),
          controller,
          request,
          org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse.getDefaultInstance(),
          com.google.protobuf.RpcUtil.generalizeCallback(
            done,
            org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse.class,
            org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse.getDefaultInstance()));
      }
    }

    public static BlockingInterface newBlockingStub(
        com.google.protobuf.BlockingRpcChannel channel) {
      return new BlockingStub(channel);
    }

    public interface BlockingInterface {
      public org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse disconnect(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest request)
          throws com.google.protobuf.ServiceException;
    }

    private static final class BlockingStub implements BlockingInterface {
      private BlockingStub(com.google.protobuf.BlockingRpcChannel channel) {
        this.channel = channel;
      }

      private final com.google.protobuf.BlockingRpcChannel channel;

      public org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse disconnect(
          com.google.protobuf.RpcController controller,
          org.waveprotocol.wave.clientserver.ClientServer.DisconnectRequest request)
          throws com.google.protobuf.ServiceException {
        return (org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse) channel.callBlockingMethod(
          getDescriptor().getMethods().get(0),
          controller,
          request,
          org.waveprotocol.wave.clientserver.ClientServer.EmptyResponse.getDefaultInstance());
      }

    }

    // @@protoc_insertion_point(class_scope:clientserver.DisconnectService)
  }

  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_clientserver_FetchWaveViewRequest_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_clientserver_FetchWaveViewRequest_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_clientserver_FetchWaveViewResponse_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_clientserver_FetchWaveViewResponse_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_clientserver_FetchWaveViewResponse_WaveletFragment_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_clientserver_FetchWaveViewResponse_WaveletFragment_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_clientserver_FetchFragmentsRequest_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_clientserver_FetchFragmentsRequest_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_clientserver_FetchFragmentsRequest_SegmentRequest_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_clientserver_FetchFragmentsRequest_SegmentRequest_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_clientserver_FetchFragmentsResponse_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_clientserver_FetchFragmentsResponse_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_clientserver_SegmentFragment_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_clientserver_SegmentFragment_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_clientserver_SegmentSnapshot_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_clientserver_SegmentSnapshot_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_clientserver_SegmentOperation_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_clientserver_SegmentOperation_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_clientserver_OpenWaveletChannelRequest_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_clientserver_OpenWaveletChannelRequest_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_clientserver_OpenWaveletChannelStream_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_clientserver_OpenWaveletChannelStream_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_clientserver_OpenWaveletChannelStream_ChannelOpen_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_clientserver_OpenWaveletChannelStream_ChannelOpen_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_clientserver_OpenWaveletChannelStream_WaveletUpdate_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_clientserver_OpenWaveletChannelStream_WaveletUpdate_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_clientserver_CloseWaveletChannelRequest_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_clientserver_CloseWaveletChannelRequest_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_clientserver_WaveletChannelTerminator_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_clientserver_WaveletChannelTerminator_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_clientserver_SubmitDeltaRequest_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_clientserver_SubmitDeltaRequest_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_clientserver_SubmitDeltaResponse_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_clientserver_SubmitDeltaResponse_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_clientserver_TransportAuthenticationRequest_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_clientserver_TransportAuthenticationRequest_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_clientserver_EmptyResponse_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_clientserver_EmptyResponse_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_clientserver_DisconnectRequest_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_clientserver_DisconnectRequest_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_clientserver_ResponseStatus_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_clientserver_ResponseStatus_fieldAccessorTable;

  public static com.google.protobuf.Descriptors.FileDescriptor
      getDescriptor() {
    return descriptor;
  }
  private static com.google.protobuf.Descriptors.FileDescriptor
      descriptor;
  static {
    java.lang.String[] descriptorData = {
      "\n5org/waveprotocol/wave/clientserver/cli" +
      "entserver.proto\022\014clientserver\032,org/wavep" +
      "rotocol/wave/clientserver/rpc.proto\0326org" +
      "/waveprotocol/wave/federation/federation" +
      ".protodevel\"\262\001\n\024FetchWaveViewRequest\022\016\n\006" +
      "waveId\030\001 \002(\t\022\021\n\twaveletId\030\002 \003(\t\022\027\n\017wavel" +
      "etIdPrefix\030\003 \003(\t\022\030\n\020minBlipReplySize\030\004 \002" +
      "(\005\022\030\n\020maxBlipReplySize\030\005 \002(\005\022\024\n\014maxBlipC" +
      "ount\030\006 \002(\005\022\024\n\014fromLastRead\030\007 \001(\010\"\275\002\n\025Fet" +
      "chWaveViewResponse\022,\n\006status\030\001 \002(\0132\034.cli",
      "entserver.ResponseStatus\022D\n\007wavelet\030\002 \003(" +
      "\01323.clientserver.FetchWaveViewResponse.W" +
      "aveletFragment\032\257\001\n\017WaveletFragment\022\021\n\twa" +
      "veletId\030\001 \002(\t\022>\n\023lastModifiedVersion\030\002 \002" +
      "(\0132!.federation.ProtocolHashedVersion\022\030\n" +
      "\020lastModifiedTime\030\003 \002(\003\022/\n\010fragment\030\004 \003(" +
      "\0132\035.clientserver.SegmentFragment\"\354\001\n\025Fet" +
      "chFragmentsRequest\022\023\n\013waveletName\030\001 \002(\t\022" +
      "C\n\007segment\030\002 \003(\01322.clientserver.FetchFra" +
      "gmentsRequest.SegmentRequest\022\022\n\nendVersi",
      "on\030\003 \002(\003\022\024\n\014minReplySize\030\004 \002(\005\022\024\n\014maxRep" +
      "lySize\030\005 \002(\005\0329\n\016SegmentRequest\022\021\n\tsegmen" +
      "tId\030\001 \002(\t\022\024\n\014startVersion\030\002 \002(\003\"w\n\026Fetch" +
      "FragmentsResponse\022,\n\006status\030\001 \002(\0132\034.clie" +
      "ntserver.ResponseStatus\022/\n\010fragment\030\002 \003(" +
      "\0132\035.clientserver.SegmentFragment\"\314\001\n\017Seg" +
      "mentFragment\022\021\n\tsegmentId\030\001 \002(\t\0226\n\017segme" +
      "ntSnapshot\030\002 \001(\0132\035.clientserver.SegmentS" +
      "napshot\0227\n\017adjustOperation\030\003 \003(\0132\036.clien" +
      "tserver.SegmentOperation\0225\n\rdiffOperatio",
      "n\030\004 \003(\0132\036.clientserver.SegmentOperation\"" +
      "&\n\017SegmentSnapshot\022\023\n\013rawSnapshot\030\001 \002(\t\"" +
      "`\n\020SegmentOperation\022\022\n\noperations\030\001 \002(\t\022" +
      "\016\n\006author\030\003 \001(\t\022\025\n\rtargetVersion\030\004 \002(\003\022\021" +
      "\n\ttimestamp\030\005 \002(\003\"\273\001\n\031OpenWaveletChannel" +
      "Request\022\023\n\013waveletName\030\001 \002(\t\022\021\n\tsegmentI" +
      "d\030\002 \003(\t\0227\n\014knownVersion\030\003 \003(\0132!.federati" +
      "on.ProtocolHashedVersion\022=\n\023unacknowledg" +
      "edDelta\030\004 \001(\0132 .federation.ProtocolWavel" +
      "etDelta\"\354\005\n\030OpenWaveletChannelStream\022\021\n\t",
      "channelId\030\001 \001(\t\022G\n\013channelOpen\030\002 \001(\01322.c" +
      "lientserver.OpenWaveletChannelStream.Cha" +
      "nnelOpen\022C\n\005delta\030\003 \003(\01324.clientserver.O" +
      "penWaveletChannelStream.WaveletUpdate\0228\n" +
      "\rcommitVersion\030\004 \001(\0132!.federation.Protoc" +
      "olHashedVersion\022:\n\nterminator\030\005 \001(\0132&.cl" +
      "ientserver.WaveletChannelTerminator\032\232\002\n\013" +
      "ChannelOpen\0229\n\016connectVersion\030\001 \002(\0132!.fe" +
      "deration.ProtocolHashedVersion\022/\n\010fragme" +
      "nt\030\002 \003(\0132\035.clientserver.SegmentFragment\022",
      ">\n\023lastModifiedVersion\030\003 \002(\0132!.federatio" +
      "n.ProtocolHashedVersion\022\030\n\020lastModifiedT" +
      "ime\030\004 \002(\003\022E\n\032unacknowledgedDeltaVersion\030" +
      "\005 \001(\0132!.federation.ProtocolHashedVersion" +
      "\032\233\001\n\rWaveletUpdate\022/\n\005delta\030\001 \002(\0132 .fede" +
      "ration.ProtocolWaveletDelta\022;\n\020resulting" +
      "Version\030\002 \002(\0132!.federation.ProtocolHashe" +
      "dVersion\022\034\n\024applicationTimestamp\030\003 \002(\003\"/" +
      "\n\032CloseWaveletChannelRequest\022\021\n\tchannelI" +
      "d\030\001 \002(\t\"H\n\030WaveletChannelTerminator\022,\n\006s",
      "tatus\030\001 \002(\0132\034.clientserver.ResponseStatu" +
      "s\"X\n\022SubmitDeltaRequest\022\021\n\tchannelId\030\001 \002" +
      "(\t\022/\n\005delta\030\002 \002(\0132 .federation.ProtocolW" +
      "aveletDelta\"\313\001\n\023SubmitDeltaResponse\022,\n\006s" +
      "tatus\030\001 \002(\0132\034.clientserver.ResponseStatu" +
      "s\022\031\n\021operationsApplied\030\002 \001(\005\022H\n\035hashedVe" +
      "rsionAfterApplication\030\003 \001(\0132!.federation" +
      ".ProtocolHashedVersion\022!\n\031timestampAfter" +
      "Application\030\004 \001(\003\"/\n\036TransportAuthentica" +
      "tionRequest\022\r\n\005token\030\001 \002(\t\"\017\n\rEmptyRespo",
      "nse\"\023\n\021DisconnectRequest\"\266\003\n\016ResponseSta" +
      "tus\0227\n\004code\030\001 \002(\0162).clientserver.Respons" +
      "eStatus.ResponseCode\022\025\n\rfailureReason\030\002 " +
      "\001(\t\"\323\002\n\014ResponseCode\022\006\n\002OK\020\000\022\017\n\013BAD_REQU" +
      "EST\020\001\022\022\n\016INTERNAL_ERROR\020\002\022\022\n\016NOT_AUTHORI" +
      "ZED\020\003\022\021\n\rVERSION_ERROR\020\004\022\025\n\021INVALID_OPER" +
      "ATION\020\005\022\024\n\020SCHEMA_VIOLATION\020\006\022\027\n\023SIZE_LI" +
      "MIT_EXCEEDED\020\007\022\024\n\020POLICY_VIOLATION\020\010\022\017\n\013" +
      "QUARANTINED\020\t\022\013\n\007TOO_OLD\020\n\022\016\n\nNOT_EXISTS" +
      "\020\013\022\022\n\016ALREADY_EXISTS\020\014\022\021\n\rNOT_LOGGED_IN\020",
      "\r\022\020\n\014UNSUBSCRIBED\020\016\022\023\n\017NOT_PARTICIPANT\020\017" +
      "\022\027\n\023INDEXING_IN_PROCESS\020\0202\305\001\n\014FetchServi" +
      "ce\022X\n\rFetchWaveView\022\".clientserver.Fetch" +
      "WaveViewRequest\032#.clientserver.FetchWave" +
      "ViewResponse\022[\n\016FetchFragments\022#.clients" +
      "erver.FetchFragmentsRequest\032$.clientserv" +
      "er.FetchFragmentsResponse2\305\001\n\025WaveletCha" +
      "nnelService\022\\\n\004Open\022\'.clientserver.OpenW" +
      "aveletChannelRequest\032&.clientserver.Open" +
      "WaveletChannelStream\"\003\330>\001\022N\n\005Close\022(.cli",
      "entserver.CloseWaveletChannelRequest\032\033.c" +
      "lientserver.EmptyResponse2g\n\026DeltaSubmis" +
      "sionService\022M\n\006Submit\022 .clientserver.Sub" +
      "mitDeltaRequest\032!.clientserver.SubmitDel" +
      "taResponse2{\n\036TransportAuthenticationSer" +
      "vice\022Y\n\014Authenticate\022,.clientserver.Tran" +
      "sportAuthenticationRequest\032\033.clientserve" +
      "r.EmptyResponse2_\n\021DisconnectService\022J\n\n" +
      "Disconnect\022\037.clientserver.DisconnectRequ" +
      "est\032\033.clientserver.EmptyResponseB5\n\"org.",
      "waveprotocol.wave.clientserverB\014ClientSe" +
      "rver\210\001\001"
    };
    com.google.protobuf.Descriptors.FileDescriptor.InternalDescriptorAssigner assigner =
      new com.google.protobuf.Descriptors.FileDescriptor.InternalDescriptorAssigner() {
        public com.google.protobuf.ExtensionRegistry assignDescriptors(
            com.google.protobuf.Descriptors.FileDescriptor root) {
          descriptor = root;
          internal_static_clientserver_FetchWaveViewRequest_descriptor =
            getDescriptor().getMessageTypes().get(0);
          internal_static_clientserver_FetchWaveViewRequest_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_clientserver_FetchWaveViewRequest_descriptor,
              new java.lang.String[] { "WaveId", "WaveletId", "WaveletIdPrefix", "MinBlipReplySize", "MaxBlipReplySize", "MaxBlipCount", "FromLastRead", });
          internal_static_clientserver_FetchWaveViewResponse_descriptor =
            getDescriptor().getMessageTypes().get(1);
          internal_static_clientserver_FetchWaveViewResponse_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_clientserver_FetchWaveViewResponse_descriptor,
              new java.lang.String[] { "Status", "Wavelet", });
          internal_static_clientserver_FetchWaveViewResponse_WaveletFragment_descriptor =
            internal_static_clientserver_FetchWaveViewResponse_descriptor.getNestedTypes().get(0);
          internal_static_clientserver_FetchWaveViewResponse_WaveletFragment_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_clientserver_FetchWaveViewResponse_WaveletFragment_descriptor,
              new java.lang.String[] { "WaveletId", "LastModifiedVersion", "LastModifiedTime", "Fragment", });
          internal_static_clientserver_FetchFragmentsRequest_descriptor =
            getDescriptor().getMessageTypes().get(2);
          internal_static_clientserver_FetchFragmentsRequest_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_clientserver_FetchFragmentsRequest_descriptor,
              new java.lang.String[] { "WaveletName", "Segment", "EndVersion", "MinReplySize", "MaxReplySize", });
          internal_static_clientserver_FetchFragmentsRequest_SegmentRequest_descriptor =
            internal_static_clientserver_FetchFragmentsRequest_descriptor.getNestedTypes().get(0);
          internal_static_clientserver_FetchFragmentsRequest_SegmentRequest_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_clientserver_FetchFragmentsRequest_SegmentRequest_descriptor,
              new java.lang.String[] { "SegmentId", "StartVersion", });
          internal_static_clientserver_FetchFragmentsResponse_descriptor =
            getDescriptor().getMessageTypes().get(3);
          internal_static_clientserver_FetchFragmentsResponse_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_clientserver_FetchFragmentsResponse_descriptor,
              new java.lang.String[] { "Status", "Fragment", });
          internal_static_clientserver_SegmentFragment_descriptor =
            getDescriptor().getMessageTypes().get(4);
          internal_static_clientserver_SegmentFragment_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_clientserver_SegmentFragment_descriptor,
              new java.lang.String[] { "SegmentId", "SegmentSnapshot", "AdjustOperation", "DiffOperation", });
          internal_static_clientserver_SegmentSnapshot_descriptor =
            getDescriptor().getMessageTypes().get(5);
          internal_static_clientserver_SegmentSnapshot_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_clientserver_SegmentSnapshot_descriptor,
              new java.lang.String[] { "RawSnapshot", });
          internal_static_clientserver_SegmentOperation_descriptor =
            getDescriptor().getMessageTypes().get(6);
          internal_static_clientserver_SegmentOperation_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_clientserver_SegmentOperation_descriptor,
              new java.lang.String[] { "Operations", "Author", "TargetVersion", "Timestamp", });
          internal_static_clientserver_OpenWaveletChannelRequest_descriptor =
            getDescriptor().getMessageTypes().get(7);
          internal_static_clientserver_OpenWaveletChannelRequest_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_clientserver_OpenWaveletChannelRequest_descriptor,
              new java.lang.String[] { "WaveletName", "SegmentId", "KnownVersion", "UnacknowledgedDelta", });
          internal_static_clientserver_OpenWaveletChannelStream_descriptor =
            getDescriptor().getMessageTypes().get(8);
          internal_static_clientserver_OpenWaveletChannelStream_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_clientserver_OpenWaveletChannelStream_descriptor,
              new java.lang.String[] { "ChannelId", "ChannelOpen", "Delta", "CommitVersion", "Terminator", });
          internal_static_clientserver_OpenWaveletChannelStream_ChannelOpen_descriptor =
            internal_static_clientserver_OpenWaveletChannelStream_descriptor.getNestedTypes().get(0);
          internal_static_clientserver_OpenWaveletChannelStream_ChannelOpen_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_clientserver_OpenWaveletChannelStream_ChannelOpen_descriptor,
              new java.lang.String[] { "ConnectVersion", "Fragment", "LastModifiedVersion", "LastModifiedTime", "UnacknowledgedDeltaVersion", });
          internal_static_clientserver_OpenWaveletChannelStream_WaveletUpdate_descriptor =
            internal_static_clientserver_OpenWaveletChannelStream_descriptor.getNestedTypes().get(1);
          internal_static_clientserver_OpenWaveletChannelStream_WaveletUpdate_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_clientserver_OpenWaveletChannelStream_WaveletUpdate_descriptor,
              new java.lang.String[] { "Delta", "ResultingVersion", "ApplicationTimestamp", });
          internal_static_clientserver_CloseWaveletChannelRequest_descriptor =
            getDescriptor().getMessageTypes().get(9);
          internal_static_clientserver_CloseWaveletChannelRequest_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_clientserver_CloseWaveletChannelRequest_descriptor,
              new java.lang.String[] { "ChannelId", });
          internal_static_clientserver_WaveletChannelTerminator_descriptor =
            getDescriptor().getMessageTypes().get(10);
          internal_static_clientserver_WaveletChannelTerminator_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_clientserver_WaveletChannelTerminator_descriptor,
              new java.lang.String[] { "Status", });
          internal_static_clientserver_SubmitDeltaRequest_descriptor =
            getDescriptor().getMessageTypes().get(11);
          internal_static_clientserver_SubmitDeltaRequest_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_clientserver_SubmitDeltaRequest_descriptor,
              new java.lang.String[] { "ChannelId", "Delta", });
          internal_static_clientserver_SubmitDeltaResponse_descriptor =
            getDescriptor().getMessageTypes().get(12);
          internal_static_clientserver_SubmitDeltaResponse_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_clientserver_SubmitDeltaResponse_descriptor,
              new java.lang.String[] { "Status", "OperationsApplied", "HashedVersionAfterApplication", "TimestampAfterApplication", });
          internal_static_clientserver_TransportAuthenticationRequest_descriptor =
            getDescriptor().getMessageTypes().get(13);
          internal_static_clientserver_TransportAuthenticationRequest_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_clientserver_TransportAuthenticationRequest_descriptor,
              new java.lang.String[] { "Token", });
          internal_static_clientserver_EmptyResponse_descriptor =
            getDescriptor().getMessageTypes().get(14);
          internal_static_clientserver_EmptyResponse_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_clientserver_EmptyResponse_descriptor,
              new java.lang.String[] { });
          internal_static_clientserver_DisconnectRequest_descriptor =
            getDescriptor().getMessageTypes().get(15);
          internal_static_clientserver_DisconnectRequest_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_clientserver_DisconnectRequest_descriptor,
              new java.lang.String[] { });
          internal_static_clientserver_ResponseStatus_descriptor =
            getDescriptor().getMessageTypes().get(16);
          internal_static_clientserver_ResponseStatus_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_clientserver_ResponseStatus_descriptor,
              new java.lang.String[] { "Code", "FailureReason", });
          com.google.protobuf.ExtensionRegistry registry =
            com.google.protobuf.ExtensionRegistry.newInstance();
          registry.add(org.waveprotocol.wave.clientserver.Rpc.isStreamingRpc);
          return registry;
        }
      };
    com.google.protobuf.Descriptors.FileDescriptor
      .internalBuildGeneratedFileFrom(descriptorData,
        new com.google.protobuf.Descriptors.FileDescriptor[] {
          org.waveprotocol.wave.clientserver.Rpc.getDescriptor(),
          org.waveprotocol.wave.federation.Proto.getDescriptor(),
        }, assigner);
  }

  // @@protoc_insertion_point(outer_class_scope)
}
